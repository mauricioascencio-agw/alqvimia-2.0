function gh(a,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in a)){const l=Object.getOwnPropertyDescriptor(i,n);l&&Object.defineProperty(a,n,l.get?l:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function yh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ju={exports:{}},zl={},Qu={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mn=Symbol.for("react.element"),xh=Symbol.for("react.portal"),vh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),kh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),Sh=Symbol.for("react.memo"),Eh=Symbol.for("react.lazy"),_d=Symbol.iterator;function Th(a){return a===null||typeof a!="object"?null:(a=_d&&a[_d]||a["@@iterator"],typeof a=="function"?a:null)}var Xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Zu={};function si(a,t,r){this.props=a,this.context=t,this.refs=Zu,this.updater=r||Xu}si.prototype.isReactComponent={};si.prototype.setState=function(a,t){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,t,"setState")};si.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function ep(){}ep.prototype=si.prototype;function Ko(a,t,r){this.props=a,this.context=t,this.refs=Zu,this.updater=r||Xu}var Jo=Ko.prototype=new ep;Jo.constructor=Ko;Yu(Jo,si.prototype);Jo.isPureReactComponent=!0;var kd=Array.isArray,ap=Object.prototype.hasOwnProperty,Qo={current:null},tp={key:!0,ref:!0,__self:!0,__source:!0};function rp(a,t,r){var i,n={},l=null,s=null;if(t!=null)for(i in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(l=""+t.key),t)ap.call(t,i)&&!tp.hasOwnProperty(i)&&(n[i]=t[i]);var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){for(var p=Array(c),h=0;h<c;h++)p[h]=arguments[h+2];n.children=p}if(a&&a.defaultProps)for(i in c=a.defaultProps,c)n[i]===void 0&&(n[i]=c[i]);return{$$typeof:mn,type:a,key:l,ref:s,props:n,_owner:Qo.current}}function Ah(a,t){return{$$typeof:mn,type:a.type,key:t,ref:a.ref,props:a.props,_owner:a._owner}}function Xo(a){return typeof a=="object"&&a!==null&&a.$$typeof===mn}function Ph(a){var t={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(r){return t[r]})}var wd=/\/+/g;function fs(a,t){return typeof a=="object"&&a!==null&&a.key!=null?Ph(""+a.key):t.toString(36)}function Kn(a,t,r,i,n){var l=typeof a;(l==="undefined"||l==="boolean")&&(a=null);var s=!1;if(a===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(a.$$typeof){case mn:case xh:s=!0}}if(s)return s=a,n=n(s),a=i===""?"."+fs(s,0):i,kd(n)?(r="",a!=null&&(r=a.replace(wd,"$&/")+"/"),Kn(n,t,r,"",function(h){return h})):n!=null&&(Xo(n)&&(n=Ah(n,r+(!n.key||s&&s.key===n.key?"":(""+n.key).replace(wd,"$&/")+"/")+a)),t.push(n)),1;if(s=0,i=i===""?".":i+":",kd(a))for(var c=0;c<a.length;c++){l=a[c];var p=i+fs(l,c);s+=Kn(l,t,r,p,n)}else if(p=Th(a),typeof p=="function")for(a=p.call(a),c=0;!(l=a.next()).done;)l=l.value,p=i+fs(l,c++),s+=Kn(l,t,r,p,n);else if(l==="object")throw t=String(a),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Tn(a,t,r){if(a==null)return a;var i=[],n=0;return Kn(a,i,"","",function(l){return t.call(r,l,n++)}),i}function Rh(a){if(a._status===-1){var t=a._result;t=t(),t.then(function(r){(a._status===0||a._status===-1)&&(a._status=1,a._result=r)},function(r){(a._status===0||a._status===-1)&&(a._status=2,a._result=r)}),a._status===-1&&(a._status=0,a._result=t)}if(a._status===1)return a._result.default;throw a._result}var Oa={current:null},Jn={transition:null},Ih={ReactCurrentDispatcher:Oa,ReactCurrentBatchConfig:Jn,ReactCurrentOwner:Qo};function ip(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Tn,forEach:function(a,t,r){Tn(a,function(){t.apply(this,arguments)},r)},count:function(a){var t=0;return Tn(a,function(){t++}),t},toArray:function(a){return Tn(a,function(t){return t})||[]},only:function(a){if(!Xo(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};Ce.Component=si;Ce.Fragment=vh;Ce.Profiler=_h;Ce.PureComponent=Ko;Ce.StrictMode=jh;Ce.Suspense=Ch;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih;Ce.act=ip;Ce.cloneElement=function(a,t,r){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var i=Yu({},a.props),n=a.key,l=a.ref,s=a._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,s=Qo.current),t.key!==void 0&&(n=""+t.key),a.type&&a.type.defaultProps)var c=a.type.defaultProps;for(p in t)ap.call(t,p)&&!tp.hasOwnProperty(p)&&(i[p]=t[p]===void 0&&c!==void 0?c[p]:t[p])}var p=arguments.length-2;if(p===1)i.children=r;else if(1<p){c=Array(p);for(var h=0;h<p;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:mn,type:a.type,key:n,ref:l,props:i,_owner:s}};Ce.createContext=function(a){return a={$$typeof:wh,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:kh,_context:a},a.Consumer=a};Ce.createElement=rp;Ce.createFactory=function(a){var t=rp.bind(null,a);return t.type=a,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(a){return{$$typeof:Nh,render:a}};Ce.isValidElement=Xo;Ce.lazy=function(a){return{$$typeof:Eh,_payload:{_status:-1,_result:a},_init:Rh}};Ce.memo=function(a,t){return{$$typeof:Sh,type:a,compare:t===void 0?null:t}};Ce.startTransition=function(a){var t=Jn.transition;Jn.transition={};try{a()}finally{Jn.transition=t}};Ce.unstable_act=ip;Ce.useCallback=function(a,t){return Oa.current.useCallback(a,t)};Ce.useContext=function(a){return Oa.current.useContext(a)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(a){return Oa.current.useDeferredValue(a)};Ce.useEffect=function(a,t){return Oa.current.useEffect(a,t)};Ce.useId=function(){return Oa.current.useId()};Ce.useImperativeHandle=function(a,t,r){return Oa.current.useImperativeHandle(a,t,r)};Ce.useInsertionEffect=function(a,t){return Oa.current.useInsertionEffect(a,t)};Ce.useLayoutEffect=function(a,t){return Oa.current.useLayoutEffect(a,t)};Ce.useMemo=function(a,t){return Oa.current.useMemo(a,t)};Ce.useReducer=function(a,t,r){return Oa.current.useReducer(a,t,r)};Ce.useRef=function(a){return Oa.current.useRef(a)};Ce.useState=function(a){return Oa.current.useState(a)};Ce.useSyncExternalStore=function(a,t,r){return Oa.current.useSyncExternalStore(a,t,r)};Ce.useTransition=function(){return Oa.current.useTransition()};Ce.version="18.3.1";Qu.exports=Ce;var f=Qu.exports;const np=yh(f),Dh=gh({__proto__:null,default:np},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=f,Mh=Symbol.for("react.element"),Oh=Symbol.for("react.fragment"),Lh=Object.prototype.hasOwnProperty,Vh=zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qh={key:!0,ref:!0,__self:!0,__source:!0};function lp(a,t,r){var i,n={},l=null,s=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(s=t.ref);for(i in t)Lh.call(t,i)&&!qh.hasOwnProperty(i)&&(n[i]=t[i]);if(a&&a.defaultProps)for(i in t=a.defaultProps,t)n[i]===void 0&&(n[i]=t[i]);return{$$typeof:Mh,type:a,key:l,ref:s,props:n,_owner:Vh.current}}zl.Fragment=Oh;zl.jsx=lp;zl.jsxs=lp;Ju.exports=zl;var e=Ju.exports,Us={},sp={exports:{}},Xa={},op={exports:{}},cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function t(B,G){var K=B.length;B.push(G);e:for(;0<K;){var S=K-1>>>1,J=B[S];if(0<n(J,G))B[S]=G,B[K]=J,K=S;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],K=B.pop();if(K!==G){B[0]=K;e:for(var S=0,J=B.length,x=J>>>1;S<x;){var W=2*(S+1)-1,Y=B[W],fe=W+1,M=B[fe];if(0>n(Y,K))fe<J&&0>n(M,Y)?(B[S]=M,B[fe]=K,S=fe):(B[S]=Y,B[W]=K,S=W);else if(fe<J&&0>n(M,K))B[S]=M,B[fe]=K,S=fe;else break e}}return G}function n(B,G){var K=B.sortIndex-G.sortIndex;return K!==0?K:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var s=Date,c=s.now();a.unstable_now=function(){return s.now()-c}}var p=[],h=[],w=1,m=null,b=3,j=!1,N=!1,_=!1,D=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(B){for(var G=r(h);G!==null;){if(G.callback===null)i(h);else if(G.startTime<=B)i(h),G.sortIndex=G.expirationTime,t(p,G);else break;G=r(h)}}function T(B){if(_=!1,d(B),!N)if(r(p)!==null)N=!0,ne(z);else{var G=r(h);G!==null&&ye(T,G.startTime-B)}}function z(B,G){N=!1,_&&(_=!1,y(L),L=-1),j=!0;var K=b;try{for(d(G),m=r(p);m!==null&&(!(m.expirationTime>G)||B&&!O());){var S=m.callback;if(typeof S=="function"){m.callback=null,b=m.priorityLevel;var J=S(m.expirationTime<=G);G=a.unstable_now(),typeof J=="function"?m.callback=J:m===r(p)&&i(p),d(G)}else i(p);m=r(p)}if(m!==null)var x=!0;else{var W=r(h);W!==null&&ye(T,W.startTime-G),x=!1}return x}finally{m=null,b=K,j=!1}}var q=!1,P=null,L=-1,te=5,X=-1;function O(){return!(a.unstable_now()-X<te)}function be(){if(P!==null){var B=a.unstable_now();X=B;var G=!0;try{G=P(!0,B)}finally{G?me():(q=!1,P=null)}}else q=!1}var me;if(typeof g=="function")me=function(){g(be)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Z=H.port2;H.port1.onmessage=be,me=function(){Z.postMessage(null)}}else me=function(){D(be,0)};function ne(B){P=B,q||(q=!0,me())}function ye(B,G){L=D(function(){B(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(B){B.callback=null},a.unstable_continueExecution=function(){N||j||(N=!0,ne(z))},a.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<B?Math.floor(1e3/B):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_getFirstCallbackNode=function(){return r(p)},a.unstable_next=function(B){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var K=b;b=G;try{return B()}finally{b=K}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=b;b=B;try{return G()}finally{b=K}},a.unstable_scheduleCallback=function(B,G,K){var S=a.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?S+K:S):K=S,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,B={id:w++,callback:G,priorityLevel:B,startTime:K,expirationTime:J,sortIndex:-1},K>S?(B.sortIndex=K,t(h,B),r(p)===null&&B===r(h)&&(_?(y(L),L=-1):_=!0,ye(T,K-S))):(B.sortIndex=J,t(p,B),N||j||(N=!0,ne(z))),B},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(B){var G=b;return function(){var K=b;b=G;try{return B.apply(this,arguments)}finally{b=K}}}})(cp);op.exports=cp;var Bh=op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=f,Qa=Bh;function U(a){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+a,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+a+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dp=new Set,Ki={};function Cr(a,t){ei(a,t),ei(a+"Capture",t)}function ei(a,t){for(Ki[a]=t,a=0;a<t.length;a++)dp.add(t[a])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=Object.prototype.hasOwnProperty,Wh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},Cd={};function $h(a){return Gs.call(Cd,a)?!0:Gs.call(Nd,a)?!1:Wh.test(a)?Cd[a]=!0:(Nd[a]=!0,!1)}function Uh(a,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function Gh(a,t,r,i){if(t===null||typeof t>"u"||Uh(a,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function La(a,t,r,i,n,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=a,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var ka={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){ka[a]=new La(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var t=a[0];ka[t]=new La(t,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){ka[a]=new La(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){ka[a]=new La(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){ka[a]=new La(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){ka[a]=new La(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){ka[a]=new La(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){ka[a]=new La(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){ka[a]=new La(a,5,!1,a.toLowerCase(),null,!1,!1)});var Yo=/[\-:]([a-z])/g;function Zo(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var t=a.replace(Yo,Zo);ka[t]=new La(t,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var t=a.replace(Yo,Zo);ka[t]=new La(t,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var t=a.replace(Yo,Zo);ka[t]=new La(t,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){ka[a]=new La(a,1,!1,a.toLowerCase(),null,!1,!1)});ka.xlinkHref=new La("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){ka[a]=new La(a,1,!1,a.toLowerCase(),null,!0,!0)});function ec(a,t,r,i){var n=ka.hasOwnProperty(t)?ka[t]:null;(n!==null?n.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gh(t,r,n,i)&&(r=null),i||n===null?$h(t)&&(r===null?a.removeAttribute(t):a.setAttribute(t,""+r)):n.mustUseProperty?a[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,i=n.attributeNamespace,r===null?a.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?a.setAttributeNS(i,t,r):a.setAttribute(t,r))))}var Lt=Fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,An=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),ac=Symbol.for("react.strict_mode"),Hs=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),pp=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),Ks=Symbol.for("react.suspense"),Js=Symbol.for("react.suspense_list"),rc=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),mp=Symbol.for("react.offscreen"),Sd=Symbol.iterator;function Ni(a){return a===null||typeof a!="object"?null:(a=Sd&&a[Sd]||a["@@iterator"],typeof a=="function"?a:null)}var ta=Object.assign,hs;function Di(a){if(hs===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hs=t&&t[1]||""}return`
`+hs+a}var bs=!1;function gs(a,t){if(!a||bs)return"";bs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var i=h}Reflect.construct(a,[],t)}else{try{t.call()}catch(h){i=h}a.call(t.prototype)}else{try{throw Error()}catch(h){i=h}a()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var n=h.stack.split(`
`),l=i.stack.split(`
`),s=n.length-1,c=l.length-1;1<=s&&0<=c&&n[s]!==l[c];)c--;for(;1<=s&&0<=c;s--,c--)if(n[s]!==l[c]){if(s!==1||c!==1)do if(s--,c--,0>c||n[s]!==l[c]){var p=`
`+n[s].replace(" at new "," at ");return a.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",a.displayName)),p}while(1<=s&&0<=c);break}}}finally{bs=!1,Error.prepareStackTrace=r}return(a=a?a.displayName||a.name:"")?Di(a):""}function Hh(a){switch(a.tag){case 5:return Di(a.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return a=gs(a.type,!1),a;case 11:return a=gs(a.type.render,!1),a;case 1:return a=gs(a.type,!0),a;default:return""}}function Qs(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Or:return"Fragment";case Mr:return"Portal";case Hs:return"Profiler";case ac:return"StrictMode";case Ks:return"Suspense";case Js:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case pp:return(a.displayName||"Context")+".Consumer";case up:return(a._context.displayName||"Context")+".Provider";case tc:var t=a.render;return a=a.displayName,a||(a=t.displayName||t.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case rc:return t=a.displayName||null,t!==null?t:Qs(a.type)||"Memo";case Ut:t=a._payload,a=a._init;try{return Qs(a(t))}catch{}}return null}function Kh(a){var t=a.type;switch(a.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=t.render,a=a.displayName||a.name||"",t.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qs(t);case 8:return t===ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function fp(a){var t=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jh(a){var t=fp(a)?"checked":"value",r=Object.getOwnPropertyDescriptor(a.constructor.prototype,t),i=""+a[t];if(!a.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,l=r.set;return Object.defineProperty(a,t,{configurable:!0,get:function(){return n.call(this)},set:function(s){i=""+s,l.call(this,s)}}),Object.defineProperty(a,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){a._valueTracker=null,delete a[t]}}}}function Pn(a){a._valueTracker||(a._valueTracker=Jh(a))}function hp(a){if(!a)return!1;var t=a._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return a&&(i=fp(a)?a.checked?"true":"false":a.value),a=i,a!==r?(t.setValue(a),!0):!1}function dl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Xs(a,t){var r=t.checked;return ta({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??a._wrapperState.initialChecked})}function Ed(a,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=lr(t.value!=null?t.value:r),a._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bp(a,t){t=t.checked,t!=null&&ec(a,"checked",t,!1)}function Ys(a,t){bp(a,t);var r=lr(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+r):a.value!==""+r&&(a.value=""+r);else if(i==="submit"||i==="reset"){a.removeAttribute("value");return}t.hasOwnProperty("value")?Zs(a,t.type,r):t.hasOwnProperty("defaultValue")&&Zs(a,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(a.defaultChecked=!!t.defaultChecked)}function Td(a,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+a._wrapperState.initialValue,r||t===a.value||(a.value=t),a.defaultValue=t}r=a.name,r!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,r!==""&&(a.name=r)}function Zs(a,t,r){(t!=="number"||dl(a.ownerDocument)!==a)&&(r==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+r&&(a.defaultValue=""+r))}var zi=Array.isArray;function Kr(a,t,r,i){if(a=a.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<a.length;r++)n=t.hasOwnProperty("$"+a[r].value),a[r].selected!==n&&(a[r].selected=n),n&&i&&(a[r].defaultSelected=!0)}else{for(r=""+lr(r),t=null,n=0;n<a.length;n++){if(a[n].value===r){a[n].selected=!0,i&&(a[n].defaultSelected=!0);return}t!==null||a[n].disabled||(t=a[n])}t!==null&&(t.selected=!0)}}function eo(a,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ta({},t,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ad(a,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(zi(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}a._wrapperState={initialValue:lr(r)}}function gp(a,t){var r=lr(t.value),i=lr(t.defaultValue);r!=null&&(r=""+r,r!==a.value&&(a.value=r),t.defaultValue==null&&a.defaultValue!==r&&(a.defaultValue=r)),i!=null&&(a.defaultValue=""+i)}function Pd(a){var t=a.textContent;t===a._wrapperState.initialValue&&t!==""&&t!==null&&(a.value=t)}function yp(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ao(a,t){return a==null||a==="http://www.w3.org/1999/xhtml"?yp(t):a==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Rn,xp=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,n){MSApp.execUnsafeLocalFunction(function(){return a(t,r,i,n)})}:a}(function(a,t){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=t;else{for(Rn=Rn||document.createElement("div"),Rn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;t.firstChild;)a.appendChild(t.firstChild)}});function Ji(a,t){if(t){var r=a.firstChild;if(r&&r===a.lastChild&&r.nodeType===3){r.nodeValue=t;return}}a.textContent=t}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qh=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(a){Qh.forEach(function(t){t=t+a.charAt(0).toUpperCase()+a.substring(1),Vi[t]=Vi[a]})});function vp(a,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vi.hasOwnProperty(a)&&Vi[a]?(""+t).trim():t+"px"}function jp(a,t){a=a.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=vp(r,t[r],i);r==="float"&&(r="cssFloat"),i?a.setProperty(r,n):a[r]=n}}var Xh=ta({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(a,t){if(t){if(Xh[a]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,a));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function ro(a,t){if(a.indexOf("-")===-1)return typeof t.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function ic(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var no=null,Jr=null,Qr=null;function Rd(a){if(a=bn(a)){if(typeof no!="function")throw Error(U(280));var t=a.stateNode;t&&(t=ql(t),no(a.stateNode,a.type,t))}}function _p(a){Jr?Qr?Qr.push(a):Qr=[a]:Jr=a}function kp(){if(Jr){var a=Jr,t=Qr;if(Qr=Jr=null,Rd(a),t)for(a=0;a<t.length;a++)Rd(t[a])}}function wp(a,t){return a(t)}function Np(){}var ys=!1;function Cp(a,t,r){if(ys)return a(t,r);ys=!0;try{return wp(a,t,r)}finally{ys=!1,(Jr!==null||Qr!==null)&&(Np(),kp())}}function Qi(a,t){var r=a.stateNode;if(r===null)return null;var i=ql(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(a=a.type,i=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!i;break e;default:a=!1}if(a)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var lo=!1;if(Dt)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{lo=!1}function Yh(a,t,r,i,n,l,s,c,p){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(w){this.onError(w)}}var qi=!1,ul=null,pl=!1,so=null,Zh={onError:function(a){qi=!0,ul=a}};function eb(a,t,r,i,n,l,s,c,p){qi=!1,ul=null,Yh.apply(Zh,arguments)}function ab(a,t,r,i,n,l,s,c,p){if(eb.apply(this,arguments),qi){if(qi){var h=ul;qi=!1,ul=null}else throw Error(U(198));pl||(pl=!0,so=h)}}function Sr(a){var t=a,r=a;if(a.alternate)for(;t.return;)t=t.return;else{a=t;do t=a,t.flags&4098&&(r=t.return),a=t.return;while(a)}return t.tag===3?r:null}function Sp(a){if(a.tag===13){var t=a.memoizedState;if(t===null&&(a=a.alternate,a!==null&&(t=a.memoizedState)),t!==null)return t.dehydrated}return null}function Id(a){if(Sr(a)!==a)throw Error(U(188))}function tb(a){var t=a.alternate;if(!t){if(t=Sr(a),t===null)throw Error(U(188));return t!==a?null:a}for(var r=a,i=t;;){var n=r.return;if(n===null)break;var l=n.alternate;if(l===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===r)return Id(n),a;if(l===i)return Id(n),t;l=l.sibling}throw Error(U(188))}if(r.return!==i.return)r=n,i=l;else{for(var s=!1,c=n.child;c;){if(c===r){s=!0,r=n,i=l;break}if(c===i){s=!0,i=n,r=l;break}c=c.sibling}if(!s){for(c=l.child;c;){if(c===r){s=!0,r=l,i=n;break}if(c===i){s=!0,i=l,r=n;break}c=c.sibling}if(!s)throw Error(U(189))}}if(r.alternate!==i)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?a:t}function Ep(a){return a=tb(a),a!==null?Tp(a):null}function Tp(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var t=Tp(a);if(t!==null)return t;a=a.sibling}return null}var Ap=Qa.unstable_scheduleCallback,Dd=Qa.unstable_cancelCallback,rb=Qa.unstable_shouldYield,ib=Qa.unstable_requestPaint,ca=Qa.unstable_now,nb=Qa.unstable_getCurrentPriorityLevel,nc=Qa.unstable_ImmediatePriority,Pp=Qa.unstable_UserBlockingPriority,ml=Qa.unstable_NormalPriority,lb=Qa.unstable_LowPriority,Rp=Qa.unstable_IdlePriority,Ml=null,_t=null;function sb(a){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Ml,a,void 0,(a.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:db,ob=Math.log,cb=Math.LN2;function db(a){return a>>>=0,a===0?32:31-(ob(a)/cb|0)|0}var In=64,Dn=4194304;function Mi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function fl(a,t){var r=a.pendingLanes;if(r===0)return 0;var i=0,n=a.suspendedLanes,l=a.pingedLanes,s=r&268435455;if(s!==0){var c=s&~n;c!==0?i=Mi(c):(l&=s,l!==0&&(i=Mi(l)))}else s=r&~n,s!==0?i=Mi(s):l!==0&&(i=Mi(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&n)&&(n=i&-i,l=t&-t,n>=l||n===16&&(l&4194240)!==0))return t;if(i&4&&(i|=r&16),t=a.entangledLanes,t!==0)for(a=a.entanglements,t&=i;0<t;)r=31-ht(t),n=1<<r,i|=a[r],t&=~n;return i}function ub(a,t){switch(a){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pb(a,t){for(var r=a.suspendedLanes,i=a.pingedLanes,n=a.expirationTimes,l=a.pendingLanes;0<l;){var s=31-ht(l),c=1<<s,p=n[s];p===-1?(!(c&r)||c&i)&&(n[s]=ub(c,t)):p<=t&&(a.expiredLanes|=c),l&=~c}}function oo(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ip(){var a=In;return In<<=1,!(In&4194240)&&(In=64),a}function xs(a){for(var t=[],r=0;31>r;r++)t.push(a);return t}function fn(a,t,r){a.pendingLanes|=t,t!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,t=31-ht(t),a[t]=r}function mb(a,t){var r=a.pendingLanes&~t;a.pendingLanes=t,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=t,a.mutableReadLanes&=t,a.entangledLanes&=t,t=a.entanglements;var i=a.eventTimes;for(a=a.expirationTimes;0<r;){var n=31-ht(r),l=1<<n;t[n]=0,i[n]=-1,a[n]=-1,r&=~l}}function lc(a,t){var r=a.entangledLanes|=t;for(a=a.entanglements;r;){var i=31-ht(r),n=1<<i;n&t|a[i]&t&&(a[i]|=t),r&=~n}}var Ve=0;function Dp(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var zp,sc,Mp,Op,Lp,co=!1,zn=[],Xt=null,Yt=null,Zt=null,Xi=new Map,Yi=new Map,Ht=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(a,t){switch(a){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(t.pointerId)}}function Si(a,t,r,i,n,l){return a===null||a.nativeEvent!==l?(a={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:l,targetContainers:[n]},t!==null&&(t=bn(t),t!==null&&sc(t)),a):(a.eventSystemFlags|=i,t=a.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),a)}function hb(a,t,r,i,n){switch(t){case"focusin":return Xt=Si(Xt,a,t,r,i,n),!0;case"dragenter":return Yt=Si(Yt,a,t,r,i,n),!0;case"mouseover":return Zt=Si(Zt,a,t,r,i,n),!0;case"pointerover":var l=n.pointerId;return Xi.set(l,Si(Xi.get(l)||null,a,t,r,i,n)),!0;case"gotpointercapture":return l=n.pointerId,Yi.set(l,Si(Yi.get(l)||null,a,t,r,i,n)),!0}return!1}function Vp(a){var t=hr(a.target);if(t!==null){var r=Sr(t);if(r!==null){if(t=r.tag,t===13){if(t=Sp(r),t!==null){a.blockedOn=t,Lp(a.priority,function(){Mp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){a.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Qn(a){if(a.blockedOn!==null)return!1;for(var t=a.targetContainers;0<t.length;){var r=uo(a.domEventName,a.eventSystemFlags,t[0],a.nativeEvent);if(r===null){r=a.nativeEvent;var i=new r.constructor(r.type,r);io=i,r.target.dispatchEvent(i),io=null}else return t=bn(r),t!==null&&sc(t),a.blockedOn=r,!1;t.shift()}return!0}function Md(a,t,r){Qn(a)&&r.delete(t)}function bb(){co=!1,Xt!==null&&Qn(Xt)&&(Xt=null),Yt!==null&&Qn(Yt)&&(Yt=null),Zt!==null&&Qn(Zt)&&(Zt=null),Xi.forEach(Md),Yi.forEach(Md)}function Ei(a,t){a.blockedOn===t&&(a.blockedOn=null,co||(co=!0,Qa.unstable_scheduleCallback(Qa.unstable_NormalPriority,bb)))}function Zi(a){function t(n){return Ei(n,a)}if(0<zn.length){Ei(zn[0],a);for(var r=1;r<zn.length;r++){var i=zn[r];i.blockedOn===a&&(i.blockedOn=null)}}for(Xt!==null&&Ei(Xt,a),Yt!==null&&Ei(Yt,a),Zt!==null&&Ei(Zt,a),Xi.forEach(t),Yi.forEach(t),r=0;r<Ht.length;r++)i=Ht[r],i.blockedOn===a&&(i.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)Vp(r),r.blockedOn===null&&Ht.shift()}var Xr=Lt.ReactCurrentBatchConfig,hl=!0;function gb(a,t,r,i){var n=Ve,l=Xr.transition;Xr.transition=null;try{Ve=1,oc(a,t,r,i)}finally{Ve=n,Xr.transition=l}}function yb(a,t,r,i){var n=Ve,l=Xr.transition;Xr.transition=null;try{Ve=4,oc(a,t,r,i)}finally{Ve=n,Xr.transition=l}}function oc(a,t,r,i){if(hl){var n=uo(a,t,r,i);if(n===null)Ts(a,t,i,bl,r),zd(a,i);else if(hb(n,a,t,r,i))i.stopPropagation();else if(zd(a,i),t&4&&-1<fb.indexOf(a)){for(;n!==null;){var l=bn(n);if(l!==null&&zp(l),l=uo(a,t,r,i),l===null&&Ts(a,t,i,bl,r),l===n)break;n=l}n!==null&&i.stopPropagation()}else Ts(a,t,i,null,r)}}var bl=null;function uo(a,t,r,i){if(bl=null,a=ic(i),a=hr(a),a!==null)if(t=Sr(a),t===null)a=null;else if(r=t.tag,r===13){if(a=Sp(t),a!==null)return a;a=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;a=null}else t!==a&&(a=null);return bl=a,null}function qp(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nb()){case nc:return 1;case Pp:return 4;case ml:case lb:return 16;case Rp:return 536870912;default:return 16}default:return 16}}var Jt=null,cc=null,Xn=null;function Bp(){if(Xn)return Xn;var a,t=cc,r=t.length,i,n="value"in Jt?Jt.value:Jt.textContent,l=n.length;for(a=0;a<r&&t[a]===n[a];a++);var s=r-a;for(i=1;i<=s&&t[r-i]===n[l-i];i++);return Xn=n.slice(a,1<i?1-i:void 0)}function Yn(a){var t=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&t===13&&(a=13)):a=t,a===10&&(a=13),32<=a||a===13?a:0}function Mn(){return!0}function Od(){return!1}function Ya(a){function t(r,i,n,l,s){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(r=a[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Mn:Od,this.isPropagationStopped=Od,this}return ta(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),t}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=Ya(oi),hn=ta({},oi,{view:0,detail:0}),xb=Ya(hn),vs,js,Ti,Ol=ta({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ti&&(Ti&&a.type==="mousemove"?(vs=a.screenX-Ti.screenX,js=a.screenY-Ti.screenY):js=vs=0,Ti=a),vs)},movementY:function(a){return"movementY"in a?a.movementY:js}}),Ld=Ya(Ol),vb=ta({},Ol,{dataTransfer:0}),jb=Ya(vb),_b=ta({},hn,{relatedTarget:0}),_s=Ya(_b),kb=ta({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),wb=Ya(kb),Nb=ta({},oi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cb=Ya(Nb),Sb=ta({},oi,{data:0}),Vd=Ya(Sb),Eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pb(a){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(a):(a=Ab[a])?!!t[a]:!1}function uc(){return Pb}var Rb=ta({},hn,{key:function(a){if(a.key){var t=Eb[a.key]||a.key;if(t!=="Unidentified")return t}return a.type==="keypress"?(a=Yn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Tb[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(a){return a.type==="keypress"?Yn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ib=Ya(Rb),Db=ta({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=Ya(Db),zb=ta({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Mb=Ya(zb),Ob=ta({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lb=Ya(Ob),Vb=ta({},Ol,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qb=Ya(Vb),Bb=[9,13,27,32],pc=Dt&&"CompositionEvent"in window,Bi=null;Dt&&"documentMode"in document&&(Bi=document.documentMode);var Fb=Dt&&"TextEvent"in window&&!Bi,Fp=Dt&&(!pc||Bi&&8<Bi&&11>=Bi),Bd=" ",Fd=!1;function Wp(a,t){switch(a){case"keyup":return Bb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $p(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Lr=!1;function Wb(a,t){switch(a){case"compositionend":return $p(t);case"keypress":return t.which!==32?null:(Fd=!0,Bd);case"textInput":return a=t.data,a===Bd&&Fd?null:a;default:return null}}function $b(a,t){if(Lr)return a==="compositionend"||!pc&&Wp(a,t)?(a=Bp(),Xn=cc=Jt=null,Lr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fp&&t.locale!=="ko"?null:t.data;default:return null}}var Ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(a){var t=a&&a.nodeName&&a.nodeName.toLowerCase();return t==="input"?!!Ub[a.type]:t==="textarea"}function Up(a,t,r,i){_p(i),t=gl(t,"onChange"),0<t.length&&(r=new dc("onChange","change",null,r,i),a.push({event:r,listeners:t}))}var Fi=null,en=null;function Gb(a){tm(a,0)}function Ll(a){var t=Br(a);if(hp(t))return a}function Hb(a,t){if(a==="change")return t}var Gp=!1;if(Dt){var ks;if(Dt){var ws="oninput"in document;if(!ws){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),ws=typeof $d.oninput=="function"}ks=ws}else ks=!1;Gp=ks&&(!document.documentMode||9<document.documentMode)}function Ud(){Fi&&(Fi.detachEvent("onpropertychange",Hp),en=Fi=null)}function Hp(a){if(a.propertyName==="value"&&Ll(en)){var t=[];Up(t,en,a,ic(a)),Cp(Gb,t)}}function Kb(a,t,r){a==="focusin"?(Ud(),Fi=t,en=r,Fi.attachEvent("onpropertychange",Hp)):a==="focusout"&&Ud()}function Jb(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ll(en)}function Qb(a,t){if(a==="click")return Ll(t)}function Xb(a,t){if(a==="input"||a==="change")return Ll(t)}function Yb(a,t){return a===t&&(a!==0||1/a===1/t)||a!==a&&t!==t}var gt=typeof Object.is=="function"?Object.is:Yb;function an(a,t){if(gt(a,t))return!0;if(typeof a!="object"||a===null||typeof t!="object"||t===null)return!1;var r=Object.keys(a),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!Gs.call(t,n)||!gt(a[n],t[n]))return!1}return!0}function Gd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Hd(a,t){var r=Gd(a);a=0;for(var i;r;){if(r.nodeType===3){if(i=a+r.textContent.length,a<=t&&i>=t)return{node:r,offset:t-a};a=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gd(r)}}function Kp(a,t){return a&&t?a===t?!0:a&&a.nodeType===3?!1:t&&t.nodeType===3?Kp(a,t.parentNode):"contains"in a?a.contains(t):a.compareDocumentPosition?!!(a.compareDocumentPosition(t)&16):!1:!1}function Jp(){for(var a=window,t=dl();t instanceof a.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)a=t.contentWindow;else break;t=dl(a.document)}return t}function mc(a){var t=a&&a.nodeName&&a.nodeName.toLowerCase();return t&&(t==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||t==="textarea"||a.contentEditable==="true")}function Zb(a){var t=Jp(),r=a.focusedElem,i=a.selectionRange;if(t!==r&&r&&r.ownerDocument&&Kp(r.ownerDocument.documentElement,r)){if(i!==null&&mc(r)){if(t=i.start,a=i.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var n=r.textContent.length,l=Math.min(i.start,n);i=i.end===void 0?l:Math.min(i.end,n),!a.extend&&l>i&&(n=i,i=l,l=n),n=Hd(r,l);var s=Hd(r,i);n&&s&&(a.rangeCount!==1||a.anchorNode!==n.node||a.anchorOffset!==n.offset||a.focusNode!==s.node||a.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),a.removeAllRanges(),l>i?(a.addRange(t),a.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var eg=Dt&&"documentMode"in document&&11>=document.documentMode,Vr=null,po=null,Wi=null,mo=!1;function Kd(a,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mo||Vr==null||Vr!==dl(i)||(i=Vr,"selectionStart"in i&&mc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wi&&an(Wi,i)||(Wi=i,i=gl(po,"onSelect"),0<i.length&&(t=new dc("onSelect","select",null,t,r),a.push({event:t,listeners:i}),t.target=Vr)))}function On(a,t){var r={};return r[a.toLowerCase()]=t.toLowerCase(),r["Webkit"+a]="webkit"+t,r["Moz"+a]="moz"+t,r}var qr={animationend:On("Animation","AnimationEnd"),animationiteration:On("Animation","AnimationIteration"),animationstart:On("Animation","AnimationStart"),transitionend:On("Transition","TransitionEnd")},Ns={},Qp={};Dt&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Vl(a){if(Ns[a])return Ns[a];if(!qr[a])return a;var t=qr[a],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qp)return Ns[a]=t[r];return a}var Xp=Vl("animationend"),Yp=Vl("animationiteration"),Zp=Vl("animationstart"),em=Vl("transitionend"),am=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(a,t){am.set(a,t),Cr(t,[a])}for(var Cs=0;Cs<Jd.length;Cs++){var Ss=Jd[Cs],ag=Ss.toLowerCase(),tg=Ss[0].toUpperCase()+Ss.slice(1);or(ag,"on"+tg)}or(Xp,"onAnimationEnd");or(Yp,"onAnimationIteration");or(Zp,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(em,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Qd(a,t,r){var i=a.type||"unknown-event";a.currentTarget=r,ab(i,t,void 0,a),a.currentTarget=null}function tm(a,t){t=(t&4)!==0;for(var r=0;r<a.length;r++){var i=a[r],n=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var s=i.length-1;0<=s;s--){var c=i[s],p=c.instance,h=c.currentTarget;if(c=c.listener,p!==l&&n.isPropagationStopped())break e;Qd(n,c,h),l=p}else for(s=0;s<i.length;s++){if(c=i[s],p=c.instance,h=c.currentTarget,c=c.listener,p!==l&&n.isPropagationStopped())break e;Qd(n,c,h),l=p}}}if(pl)throw a=so,pl=!1,so=null,a}function Ge(a,t){var r=t[yo];r===void 0&&(r=t[yo]=new Set);var i=a+"__bubble";r.has(i)||(rm(t,a,2,!1),r.add(i))}function Es(a,t,r){var i=0;t&&(i|=4),rm(r,a,i,t)}var Ln="_reactListening"+Math.random().toString(36).slice(2);function tn(a){if(!a[Ln]){a[Ln]=!0,dp.forEach(function(r){r!=="selectionchange"&&(rg.has(r)||Es(r,!1,a),Es(r,!0,a))});var t=a.nodeType===9?a:a.ownerDocument;t===null||t[Ln]||(t[Ln]=!0,Es("selectionchange",!1,t))}}function rm(a,t,r,i){switch(qp(t)){case 1:var n=gb;break;case 4:n=yb;break;default:n=oc}r=n.bind(null,t,r,a),n=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?a.addEventListener(t,r,{capture:!0,passive:n}):a.addEventListener(t,r,!0):n!==void 0?a.addEventListener(t,r,{passive:n}):a.addEventListener(t,r,!1)}function Ts(a,t,r,i,n){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var c=i.stateNode.containerInfo;if(c===n||c.nodeType===8&&c.parentNode===n)break;if(s===4)for(s=i.return;s!==null;){var p=s.tag;if((p===3||p===4)&&(p=s.stateNode.containerInfo,p===n||p.nodeType===8&&p.parentNode===n))return;s=s.return}for(;c!==null;){if(s=hr(c),s===null)return;if(p=s.tag,p===5||p===6){i=l=s;continue e}c=c.parentNode}}i=i.return}Cp(function(){var h=l,w=ic(r),m=[];e:{var b=am.get(a);if(b!==void 0){var j=dc,N=a;switch(a){case"keypress":if(Yn(r)===0)break e;case"keydown":case"keyup":j=Ib;break;case"focusin":N="focus",j=_s;break;case"focusout":N="blur",j=_s;break;case"beforeblur":case"afterblur":j=_s;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=jb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Mb;break;case Xp:case Yp:case Zp:j=wb;break;case em:j=Lb;break;case"scroll":j=xb;break;case"wheel":j=qb;break;case"copy":case"cut":case"paste":j=Cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=qd}var _=(t&4)!==0,D=!_&&a==="scroll",y=_?b!==null?b+"Capture":null:b;_=[];for(var g=h,d;g!==null;){d=g;var T=d.stateNode;if(d.tag===5&&T!==null&&(d=T,y!==null&&(T=Qi(g,y),T!=null&&_.push(rn(g,T,d)))),D)break;g=g.return}0<_.length&&(b=new j(b,N,null,r,w),m.push({event:b,listeners:_}))}}if(!(t&7)){e:{if(b=a==="mouseover"||a==="pointerover",j=a==="mouseout"||a==="pointerout",b&&r!==io&&(N=r.relatedTarget||r.fromElement)&&(hr(N)||N[zt]))break e;if((j||b)&&(b=w.window===w?w:(b=w.ownerDocument)?b.defaultView||b.parentWindow:window,j?(N=r.relatedTarget||r.toElement,j=h,N=N?hr(N):null,N!==null&&(D=Sr(N),N!==D||N.tag!==5&&N.tag!==6)&&(N=null)):(j=null,N=h),j!==N)){if(_=Ld,T="onMouseLeave",y="onMouseEnter",g="mouse",(a==="pointerout"||a==="pointerover")&&(_=qd,T="onPointerLeave",y="onPointerEnter",g="pointer"),D=j==null?b:Br(j),d=N==null?b:Br(N),b=new _(T,g+"leave",j,r,w),b.target=D,b.relatedTarget=d,T=null,hr(w)===h&&(_=new _(y,g+"enter",N,r,w),_.target=d,_.relatedTarget=D,T=_),D=T,j&&N)a:{for(_=j,y=N,g=0,d=_;d;d=zr(d))g++;for(d=0,T=y;T;T=zr(T))d++;for(;0<g-d;)_=zr(_),g--;for(;0<d-g;)y=zr(y),d--;for(;g--;){if(_===y||y!==null&&_===y.alternate)break a;_=zr(_),y=zr(y)}_=null}else _=null;j!==null&&Xd(m,b,j,_,!1),N!==null&&D!==null&&Xd(m,D,N,_,!0)}}e:{if(b=h?Br(h):window,j=b.nodeName&&b.nodeName.toLowerCase(),j==="select"||j==="input"&&b.type==="file")var z=Hb;else if(Wd(b))if(Gp)z=Xb;else{z=Jb;var q=Kb}else(j=b.nodeName)&&j.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(z=Qb);if(z&&(z=z(a,h))){Up(m,z,r,w);break e}q&&q(a,b,h),a==="focusout"&&(q=b._wrapperState)&&q.controlled&&b.type==="number"&&Zs(b,"number",b.value)}switch(q=h?Br(h):window,a){case"focusin":(Wd(q)||q.contentEditable==="true")&&(Vr=q,po=h,Wi=null);break;case"focusout":Wi=po=Vr=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,Kd(m,r,w);break;case"selectionchange":if(eg)break;case"keydown":case"keyup":Kd(m,r,w)}var P;if(pc)e:{switch(a){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Lr?Wp(a,r)&&(L="onCompositionEnd"):a==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(Fp&&r.locale!=="ko"&&(Lr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Lr&&(P=Bp()):(Jt=w,cc="value"in Jt?Jt.value:Jt.textContent,Lr=!0)),q=gl(h,L),0<q.length&&(L=new Vd(L,a,null,r,w),m.push({event:L,listeners:q}),P?L.data=P:(P=$p(r),P!==null&&(L.data=P)))),(P=Fb?Wb(a,r):$b(a,r))&&(h=gl(h,"onBeforeInput"),0<h.length&&(w=new Vd("onBeforeInput","beforeinput",null,r,w),m.push({event:w,listeners:h}),w.data=P))}tm(m,t)})}function rn(a,t,r){return{instance:a,listener:t,currentTarget:r}}function gl(a,t){for(var r=t+"Capture",i=[];a!==null;){var n=a,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=Qi(a,r),l!=null&&i.unshift(rn(a,l,n)),l=Qi(a,t),l!=null&&i.push(rn(a,l,n))),a=a.return}return i}function zr(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Xd(a,t,r,i,n){for(var l=t._reactName,s=[];r!==null&&r!==i;){var c=r,p=c.alternate,h=c.stateNode;if(p!==null&&p===i)break;c.tag===5&&h!==null&&(c=h,n?(p=Qi(r,l),p!=null&&s.unshift(rn(r,p,c))):n||(p=Qi(r,l),p!=null&&s.push(rn(r,p,c)))),r=r.return}s.length!==0&&a.push({event:t,listeners:s})}var ig=/\r\n?/g,ng=/\u0000|\uFFFD/g;function Yd(a){return(typeof a=="string"?a:""+a).replace(ig,`
`).replace(ng,"")}function Vn(a,t,r){if(t=Yd(t),Yd(a)!==t&&r)throw Error(U(425))}function yl(){}var fo=null,ho=null;function bo(a,t){return a==="textarea"||a==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var go=typeof setTimeout=="function"?setTimeout:void 0,lg=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,sg=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(a){return Zd.resolve(null).then(a).catch(og)}:go;function og(a){setTimeout(function(){throw a})}function As(a,t){var r=t,i=0;do{var n=r.nextSibling;if(a.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){a.removeChild(n),Zi(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);Zi(t)}function er(a){for(;a!=null;a=a.nextSibling){var t=a.nodeType;if(t===1||t===3)break;if(t===8){if(t=a.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return a}function eu(a){a=a.previousSibling;for(var t=0;a;){if(a.nodeType===8){var r=a.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return a;t--}else r==="/$"&&t++}a=a.previousSibling}return null}var ci=Math.random().toString(36).slice(2),jt="__reactFiber$"+ci,nn="__reactProps$"+ci,zt="__reactContainer$"+ci,yo="__reactEvents$"+ci,cg="__reactListeners$"+ci,dg="__reactHandles$"+ci;function hr(a){var t=a[jt];if(t)return t;for(var r=a.parentNode;r;){if(t=r[zt]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(a=eu(a);a!==null;){if(r=a[jt])return r;a=eu(a)}return t}a=r,r=a.parentNode}return null}function bn(a){return a=a[jt]||a[zt],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Br(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(U(33))}function ql(a){return a[nn]||null}var xo=[],Fr=-1;function cr(a){return{current:a}}function He(a){0>Fr||(a.current=xo[Fr],xo[Fr]=null,Fr--)}function Ue(a,t){Fr++,xo[Fr]=a.current,a.current=t}var sr={},Ea=cr(sr),Ba=cr(!1),jr=sr;function ai(a,t){var r=a.type.contextTypes;if(!r)return sr;var i=a.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in r)n[l]=t[l];return i&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=t,a.__reactInternalMemoizedMaskedChildContext=n),n}function Fa(a){return a=a.childContextTypes,a!=null}function xl(){He(Ba),He(Ea)}function au(a,t,r){if(Ea.current!==sr)throw Error(U(168));Ue(Ea,t),Ue(Ba,r)}function im(a,t,r){var i=a.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(U(108,Kh(a)||"Unknown",n));return ta({},r,i)}function vl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||sr,jr=Ea.current,Ue(Ea,a),Ue(Ba,Ba.current),!0}function tu(a,t,r){var i=a.stateNode;if(!i)throw Error(U(169));r?(a=im(a,t,jr),i.__reactInternalMemoizedMergedChildContext=a,He(Ba),He(Ea),Ue(Ea,a)):He(Ba),Ue(Ba,r)}var Tt=null,Bl=!1,Ps=!1;function nm(a){Tt===null?Tt=[a]:Tt.push(a)}function ug(a){Bl=!0,nm(a)}function dr(){if(!Ps&&Tt!==null){Ps=!0;var a=0,t=Ve;try{var r=Tt;for(Ve=1;a<r.length;a++){var i=r[a];do i=i(!0);while(i!==null)}Tt=null,Bl=!1}catch(n){throw Tt!==null&&(Tt=Tt.slice(a+1)),Ap(nc,dr),n}finally{Ve=t,Ps=!1}}return null}var Wr=[],$r=0,jl=null,_l=0,at=[],tt=0,_r=null,At=1,Pt="";function mr(a,t){Wr[$r++]=_l,Wr[$r++]=jl,jl=a,_l=t}function lm(a,t,r){at[tt++]=At,at[tt++]=Pt,at[tt++]=_r,_r=a;var i=At;a=Pt;var n=32-ht(i)-1;i&=~(1<<n),r+=1;var l=32-ht(t)+n;if(30<l){var s=n-n%5;l=(i&(1<<s)-1).toString(32),i>>=s,n-=s,At=1<<32-ht(t)+n|r<<n|i,Pt=l+a}else At=1<<l|r<<n|i,Pt=a}function fc(a){a.return!==null&&(mr(a,1),lm(a,1,0))}function hc(a){for(;a===jl;)jl=Wr[--$r],Wr[$r]=null,_l=Wr[--$r],Wr[$r]=null;for(;a===_r;)_r=at[--tt],at[tt]=null,Pt=at[--tt],at[tt]=null,At=at[--tt],at[tt]=null}var Ja=null,Ka=null,Je=!1,ft=null;function sm(a,t){var r=it(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=a,t=a.deletions,t===null?(a.deletions=[r],a.flags|=16):t.push(r)}function ru(a,t){switch(a.tag){case 5:var r=a.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(a.stateNode=t,Ja=a,Ka=er(t.firstChild),!0):!1;case 6:return t=a.pendingProps===""||t.nodeType!==3?null:t,t!==null?(a.stateNode=t,Ja=a,Ka=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_r!==null?{id:At,overflow:Pt}:null,a.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=it(18,null,null,0),r.stateNode=t,r.return=a,a.child=r,Ja=a,Ka=null,!0):!1;default:return!1}}function vo(a){return(a.mode&1)!==0&&(a.flags&128)===0}function jo(a){if(Je){var t=Ka;if(t){var r=t;if(!ru(a,t)){if(vo(a))throw Error(U(418));t=er(r.nextSibling);var i=Ja;t&&ru(a,t)?sm(i,r):(a.flags=a.flags&-4097|2,Je=!1,Ja=a)}}else{if(vo(a))throw Error(U(418));a.flags=a.flags&-4097|2,Je=!1,Ja=a}}}function iu(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ja=a}function qn(a){if(a!==Ja)return!1;if(!Je)return iu(a),Je=!0,!1;var t;if((t=a.tag!==3)&&!(t=a.tag!==5)&&(t=a.type,t=t!=="head"&&t!=="body"&&!bo(a.type,a.memoizedProps)),t&&(t=Ka)){if(vo(a))throw om(),Error(U(418));for(;t;)sm(a,t),t=er(t.nextSibling)}if(iu(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));e:{for(a=a.nextSibling,t=0;a;){if(a.nodeType===8){var r=a.data;if(r==="/$"){if(t===0){Ka=er(a.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}a=a.nextSibling}Ka=null}}else Ka=Ja?er(a.stateNode.nextSibling):null;return!0}function om(){for(var a=Ka;a;)a=er(a.nextSibling)}function ti(){Ka=Ja=null,Je=!1}function bc(a){ft===null?ft=[a]:ft.push(a)}var pg=Lt.ReactCurrentBatchConfig;function Ai(a,t,r){if(a=r.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var i=r.stateNode}if(!i)throw Error(U(147,a));var n=i,l=""+a;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(s){var c=n.refs;s===null?delete c[l]:c[l]=s},t._stringRef=l,t)}if(typeof a!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,a))}return a}function Bn(a,t){throw a=Object.prototype.toString.call(t),Error(U(31,a==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":a))}function nu(a){var t=a._init;return t(a._payload)}function cm(a){function t(y,g){if(a){var d=y.deletions;d===null?(y.deletions=[g],y.flags|=16):d.push(g)}}function r(y,g){if(!a)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function i(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function n(y,g){return y=ir(y,g),y.index=0,y.sibling=null,y}function l(y,g,d){return y.index=d,a?(d=y.alternate,d!==null?(d=d.index,d<g?(y.flags|=2,g):d):(y.flags|=2,g)):(y.flags|=1048576,g)}function s(y){return a&&y.alternate===null&&(y.flags|=2),y}function c(y,g,d,T){return g===null||g.tag!==6?(g=Ls(d,y.mode,T),g.return=y,g):(g=n(g,d),g.return=y,g)}function p(y,g,d,T){var z=d.type;return z===Or?w(y,g,d.props.children,T,d.key):g!==null&&(g.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ut&&nu(z)===g.type)?(T=n(g,d.props),T.ref=Ai(y,g,d),T.return=y,T):(T=nl(d.type,d.key,d.props,null,y.mode,T),T.ref=Ai(y,g,d),T.return=y,T)}function h(y,g,d,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==d.containerInfo||g.stateNode.implementation!==d.implementation?(g=Vs(d,y.mode,T),g.return=y,g):(g=n(g,d.children||[]),g.return=y,g)}function w(y,g,d,T,z){return g===null||g.tag!==7?(g=vr(d,y.mode,T,z),g.return=y,g):(g=n(g,d),g.return=y,g)}function m(y,g,d){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ls(""+g,y.mode,d),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case An:return d=nl(g.type,g.key,g.props,null,y.mode,d),d.ref=Ai(y,null,g),d.return=y,d;case Mr:return g=Vs(g,y.mode,d),g.return=y,g;case Ut:var T=g._init;return m(y,T(g._payload),d)}if(zi(g)||Ni(g))return g=vr(g,y.mode,d,null),g.return=y,g;Bn(y,g)}return null}function b(y,g,d,T){var z=g!==null?g.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return z!==null?null:c(y,g,""+d,T);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case An:return d.key===z?p(y,g,d,T):null;case Mr:return d.key===z?h(y,g,d,T):null;case Ut:return z=d._init,b(y,g,z(d._payload),T)}if(zi(d)||Ni(d))return z!==null?null:w(y,g,d,T,null);Bn(y,d)}return null}function j(y,g,d,T,z){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(d)||null,c(g,y,""+T,z);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case An:return y=y.get(T.key===null?d:T.key)||null,p(g,y,T,z);case Mr:return y=y.get(T.key===null?d:T.key)||null,h(g,y,T,z);case Ut:var q=T._init;return j(y,g,d,q(T._payload),z)}if(zi(T)||Ni(T))return y=y.get(d)||null,w(g,y,T,z,null);Bn(g,T)}return null}function N(y,g,d,T){for(var z=null,q=null,P=g,L=g=0,te=null;P!==null&&L<d.length;L++){P.index>L?(te=P,P=null):te=P.sibling;var X=b(y,P,d[L],T);if(X===null){P===null&&(P=te);break}a&&P&&X.alternate===null&&t(y,P),g=l(X,g,L),q===null?z=X:q.sibling=X,q=X,P=te}if(L===d.length)return r(y,P),Je&&mr(y,L),z;if(P===null){for(;L<d.length;L++)P=m(y,d[L],T),P!==null&&(g=l(P,g,L),q===null?z=P:q.sibling=P,q=P);return Je&&mr(y,L),z}for(P=i(y,P);L<d.length;L++)te=j(P,y,L,d[L],T),te!==null&&(a&&te.alternate!==null&&P.delete(te.key===null?L:te.key),g=l(te,g,L),q===null?z=te:q.sibling=te,q=te);return a&&P.forEach(function(O){return t(y,O)}),Je&&mr(y,L),z}function _(y,g,d,T){var z=Ni(d);if(typeof z!="function")throw Error(U(150));if(d=z.call(d),d==null)throw Error(U(151));for(var q=z=null,P=g,L=g=0,te=null,X=d.next();P!==null&&!X.done;L++,X=d.next()){P.index>L?(te=P,P=null):te=P.sibling;var O=b(y,P,X.value,T);if(O===null){P===null&&(P=te);break}a&&P&&O.alternate===null&&t(y,P),g=l(O,g,L),q===null?z=O:q.sibling=O,q=O,P=te}if(X.done)return r(y,P),Je&&mr(y,L),z;if(P===null){for(;!X.done;L++,X=d.next())X=m(y,X.value,T),X!==null&&(g=l(X,g,L),q===null?z=X:q.sibling=X,q=X);return Je&&mr(y,L),z}for(P=i(y,P);!X.done;L++,X=d.next())X=j(P,y,L,X.value,T),X!==null&&(a&&X.alternate!==null&&P.delete(X.key===null?L:X.key),g=l(X,g,L),q===null?z=X:q.sibling=X,q=X);return a&&P.forEach(function(be){return t(y,be)}),Je&&mr(y,L),z}function D(y,g,d,T){if(typeof d=="object"&&d!==null&&d.type===Or&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case An:e:{for(var z=d.key,q=g;q!==null;){if(q.key===z){if(z=d.type,z===Or){if(q.tag===7){r(y,q.sibling),g=n(q,d.props.children),g.return=y,y=g;break e}}else if(q.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ut&&nu(z)===q.type){r(y,q.sibling),g=n(q,d.props),g.ref=Ai(y,q,d),g.return=y,y=g;break e}r(y,q);break}else t(y,q);q=q.sibling}d.type===Or?(g=vr(d.props.children,y.mode,T,d.key),g.return=y,y=g):(T=nl(d.type,d.key,d.props,null,y.mode,T),T.ref=Ai(y,g,d),T.return=y,y=T)}return s(y);case Mr:e:{for(q=d.key;g!==null;){if(g.key===q)if(g.tag===4&&g.stateNode.containerInfo===d.containerInfo&&g.stateNode.implementation===d.implementation){r(y,g.sibling),g=n(g,d.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Vs(d,y.mode,T),g.return=y,y=g}return s(y);case Ut:return q=d._init,D(y,g,q(d._payload),T)}if(zi(d))return N(y,g,d,T);if(Ni(d))return _(y,g,d,T);Bn(y,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,g!==null&&g.tag===6?(r(y,g.sibling),g=n(g,d),g.return=y,y=g):(r(y,g),g=Ls(d,y.mode,T),g.return=y,y=g),s(y)):r(y,g)}return D}var ri=cm(!0),dm=cm(!1),kl=cr(null),wl=null,Ur=null,gc=null;function yc(){gc=Ur=wl=null}function xc(a){var t=kl.current;He(kl),a._currentValue=t}function _o(a,t,r){for(;a!==null;){var i=a.alternate;if((a.childLanes&t)!==t?(a.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),a===r)break;a=a.return}}function Yr(a,t){wl=a,gc=Ur=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&t&&(qa=!0),a.firstContext=null)}function lt(a){var t=a._currentValue;if(gc!==a)if(a={context:a,memoizedValue:t,next:null},Ur===null){if(wl===null)throw Error(U(308));Ur=a,wl.dependencies={lanes:0,firstContext:a}}else Ur=Ur.next=a;return t}var br=null;function vc(a){br===null?br=[a]:br.push(a)}function um(a,t,r,i){var n=t.interleaved;return n===null?(r.next=r,vc(t)):(r.next=n.next,n.next=r),t.interleaved=r,Mt(a,i)}function Mt(a,t){a.lanes|=t;var r=a.alternate;for(r!==null&&(r.lanes|=t),r=a,a=a.return;a!==null;)a.childLanes|=t,r=a.alternate,r!==null&&(r.childLanes|=t),r=a,a=a.return;return r.tag===3?r.stateNode:null}var Gt=!1;function jc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pm(a,t){a=a.updateQueue,t.updateQueue===a&&(t.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Rt(a,t){return{eventTime:a,lane:t,tag:0,payload:null,callback:null,next:null}}function ar(a,t,r){var i=a.updateQueue;if(i===null)return null;if(i=i.shared,Ie&2){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,Mt(a,r)}return n=i.interleaved,n===null?(t.next=t,vc(i)):(t.next=n.next,n.next=t),i.interleaved=t,Mt(a,r)}function Zn(a,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=a.pendingLanes,r|=i,t.lanes=r,lc(a,r)}}function lu(a,t){var r=a.updateQueue,i=a.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?n=l=s:l=l.next=s,r=r.next}while(r!==null);l===null?n=l=t:l=l.next=t}else n=l=t;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:i.shared,effects:i.effects},a.updateQueue=r;return}a=r.lastBaseUpdate,a===null?r.firstBaseUpdate=t:a.next=t,r.lastBaseUpdate=t}function Nl(a,t,r,i){var n=a.updateQueue;Gt=!1;var l=n.firstBaseUpdate,s=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var p=c,h=p.next;p.next=null,s===null?l=h:s.next=h,s=p;var w=a.alternate;w!==null&&(w=w.updateQueue,c=w.lastBaseUpdate,c!==s&&(c===null?w.firstBaseUpdate=h:c.next=h,w.lastBaseUpdate=p))}if(l!==null){var m=n.baseState;s=0,w=h=p=null,c=l;do{var b=c.lane,j=c.eventTime;if((i&b)===b){w!==null&&(w=w.next={eventTime:j,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=a,_=c;switch(b=t,j=r,_.tag){case 1:if(N=_.payload,typeof N=="function"){m=N.call(j,m,b);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=_.payload,b=typeof N=="function"?N.call(j,m,b):N,b==null)break e;m=ta({},m,b);break e;case 2:Gt=!0}}c.callback!==null&&c.lane!==0&&(a.flags|=64,b=n.effects,b===null?n.effects=[c]:b.push(c))}else j={eventTime:j,lane:b,tag:c.tag,payload:c.payload,callback:c.callback,next:null},w===null?(h=w=j,p=m):w=w.next=j,s|=b;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;b=c,c=b.next,b.next=null,n.lastBaseUpdate=b,n.shared.pending=null}}while(!0);if(w===null&&(p=m),n.baseState=p,n.firstBaseUpdate=h,n.lastBaseUpdate=w,t=n.shared.interleaved,t!==null){n=t;do s|=n.lane,n=n.next;while(n!==t)}else l===null&&(n.shared.lanes=0);wr|=s,a.lanes=s,a.memoizedState=m}}function su(a,t,r){if(a=t.effects,t.effects=null,a!==null)for(t=0;t<a.length;t++){var i=a[t],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(U(191,n));n.call(i)}}}var gn={},kt=cr(gn),ln=cr(gn),sn=cr(gn);function gr(a){if(a===gn)throw Error(U(174));return a}function _c(a,t){switch(Ue(sn,t),Ue(ln,a),Ue(kt,gn),a=t.nodeType,a){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ao(null,"");break;default:a=a===8?t.parentNode:t,t=a.namespaceURI||null,a=a.tagName,t=ao(t,a)}He(kt),Ue(kt,t)}function ii(){He(kt),He(ln),He(sn)}function mm(a){gr(sn.current);var t=gr(kt.current),r=ao(t,a.type);t!==r&&(Ue(ln,a),Ue(kt,r))}function kc(a){ln.current===a&&(He(kt),He(ln))}var ea=cr(0);function Cl(a){for(var t=a;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break;for(;t.sibling===null;){if(t.return===null||t.return===a)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rs=[];function wc(){for(var a=0;a<Rs.length;a++)Rs[a]._workInProgressVersionPrimary=null;Rs.length=0}var el=Lt.ReactCurrentDispatcher,Is=Lt.ReactCurrentBatchConfig,kr=0,aa=null,ha=null,ya=null,Sl=!1,$i=!1,on=0,mg=0;function Na(){throw Error(U(321))}function Nc(a,t){if(t===null)return!1;for(var r=0;r<t.length&&r<a.length;r++)if(!gt(a[r],t[r]))return!1;return!0}function Cc(a,t,r,i,n,l){if(kr=l,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,el.current=a===null||a.memoizedState===null?gg:yg,a=r(i,n),$i){l=0;do{if($i=!1,on=0,25<=l)throw Error(U(301));l+=1,ya=ha=null,t.updateQueue=null,el.current=xg,a=r(i,n)}while($i)}if(el.current=El,t=ha!==null&&ha.next!==null,kr=0,ya=ha=aa=null,Sl=!1,t)throw Error(U(300));return a}function Sc(){var a=on!==0;return on=0,a}function vt(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ya===null?aa.memoizedState=ya=a:ya=ya.next=a,ya}function st(){if(ha===null){var a=aa.alternate;a=a!==null?a.memoizedState:null}else a=ha.next;var t=ya===null?aa.memoizedState:ya.next;if(t!==null)ya=t,ha=a;else{if(a===null)throw Error(U(310));ha=a,a={memoizedState:ha.memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},ya===null?aa.memoizedState=ya=a:ya=ya.next=a}return ya}function cn(a,t){return typeof t=="function"?t(a):t}function Ds(a){var t=st(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=a;var i=ha,n=i.baseQueue,l=r.pending;if(l!==null){if(n!==null){var s=n.next;n.next=l.next,l.next=s}i.baseQueue=n=l,r.pending=null}if(n!==null){l=n.next,i=i.baseState;var c=s=null,p=null,h=l;do{var w=h.lane;if((kr&w)===w)p!==null&&(p=p.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:a(i,h.action);else{var m={lane:w,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};p===null?(c=p=m,s=i):p=p.next=m,aa.lanes|=w,wr|=w}h=h.next}while(h!==null&&h!==l);p===null?s=i:p.next=c,gt(i,t.memoizedState)||(qa=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=p,r.lastRenderedState=i}if(a=r.interleaved,a!==null){n=a;do l=n.lane,aa.lanes|=l,wr|=l,n=n.next;while(n!==a)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zs(a){var t=st(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=a;var i=r.dispatch,n=r.pending,l=t.memoizedState;if(n!==null){r.pending=null;var s=n=n.next;do l=a(l,s.action),s=s.next;while(s!==n);gt(l,t.memoizedState)||(qa=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,i]}function fm(){}function hm(a,t){var r=aa,i=st(),n=t(),l=!gt(i.memoizedState,n);if(l&&(i.memoizedState=n,qa=!0),i=i.queue,Ec(ym.bind(null,r,i,a),[a]),i.getSnapshot!==t||l||ya!==null&&ya.memoizedState.tag&1){if(r.flags|=2048,dn(9,gm.bind(null,r,i,n,t),void 0,null),xa===null)throw Error(U(349));kr&30||bm(r,t,n)}return n}function bm(a,t,r){a.flags|=16384,a={getSnapshot:t,value:r},t=aa.updateQueue,t===null?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[a]):(r=t.stores,r===null?t.stores=[a]:r.push(a))}function gm(a,t,r,i){t.value=r,t.getSnapshot=i,xm(t)&&vm(a)}function ym(a,t,r){return r(function(){xm(t)&&vm(a)})}function xm(a){var t=a.getSnapshot;a=a.value;try{var r=t();return!gt(a,r)}catch{return!0}}function vm(a){var t=Mt(a,1);t!==null&&bt(t,a,1,-1)}function ou(a){var t=vt();return typeof a=="function"&&(a=a()),t.memoizedState=t.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:a},t.queue=a,a=a.dispatch=bg.bind(null,aa,a),[t.memoizedState,a]}function dn(a,t,r,i){return a={tag:a,create:t,destroy:r,deps:i,next:null},t=aa.updateQueue,t===null?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=a.next=a):(r=t.lastEffect,r===null?t.lastEffect=a.next=a:(i=r.next,r.next=a,a.next=i,t.lastEffect=a)),a}function jm(){return st().memoizedState}function al(a,t,r,i){var n=vt();aa.flags|=a,n.memoizedState=dn(1|t,r,void 0,i===void 0?null:i)}function Fl(a,t,r,i){var n=st();i=i===void 0?null:i;var l=void 0;if(ha!==null){var s=ha.memoizedState;if(l=s.destroy,i!==null&&Nc(i,s.deps)){n.memoizedState=dn(t,r,l,i);return}}aa.flags|=a,n.memoizedState=dn(1|t,r,l,i)}function cu(a,t){return al(8390656,8,a,t)}function Ec(a,t){return Fl(2048,8,a,t)}function _m(a,t){return Fl(4,2,a,t)}function km(a,t){return Fl(4,4,a,t)}function wm(a,t){if(typeof t=="function")return a=a(),t(a),function(){t(null)};if(t!=null)return a=a(),t.current=a,function(){t.current=null}}function Nm(a,t,r){return r=r!=null?r.concat([a]):null,Fl(4,4,wm.bind(null,t,a),r)}function Tc(){}function Cm(a,t){var r=st();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Nc(t,i[1])?i[0]:(r.memoizedState=[a,t],a)}function Sm(a,t){var r=st();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Nc(t,i[1])?i[0]:(a=a(),r.memoizedState=[a,t],a)}function Em(a,t,r){return kr&21?(gt(r,t)||(r=Ip(),aa.lanes|=r,wr|=r,a.baseState=!0),t):(a.baseState&&(a.baseState=!1,qa=!0),a.memoizedState=r)}function fg(a,t){var r=Ve;Ve=r!==0&&4>r?r:4,a(!0);var i=Is.transition;Is.transition={};try{a(!1),t()}finally{Ve=r,Is.transition=i}}function Tm(){return st().memoizedState}function hg(a,t,r){var i=rr(a);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Am(a))Pm(t,r);else if(r=um(a,t,r,i),r!==null){var n=Ma();bt(r,a,i,n),Rm(r,t,i)}}function bg(a,t,r){var i=rr(a),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Am(a))Pm(t,n);else{var l=a.alternate;if(a.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,c=l(s,r);if(n.hasEagerState=!0,n.eagerState=c,gt(c,s)){var p=t.interleaved;p===null?(n.next=n,vc(t)):(n.next=p.next,p.next=n),t.interleaved=n;return}}catch{}finally{}r=um(a,t,n,i),r!==null&&(n=Ma(),bt(r,a,i,n),Rm(r,t,i))}}function Am(a){var t=a.alternate;return a===aa||t!==null&&t===aa}function Pm(a,t){$i=Sl=!0;var r=a.pending;r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t}function Rm(a,t,r){if(r&4194240){var i=t.lanes;i&=a.pendingLanes,r|=i,t.lanes=r,lc(a,r)}}var El={readContext:lt,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useInsertionEffect:Na,useLayoutEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useMutableSource:Na,useSyncExternalStore:Na,useId:Na,unstable_isNewReconciler:!1},gg={readContext:lt,useCallback:function(a,t){return vt().memoizedState=[a,t===void 0?null:t],a},useContext:lt,useEffect:cu,useImperativeHandle:function(a,t,r){return r=r!=null?r.concat([a]):null,al(4194308,4,wm.bind(null,t,a),r)},useLayoutEffect:function(a,t){return al(4194308,4,a,t)},useInsertionEffect:function(a,t){return al(4,2,a,t)},useMemo:function(a,t){var r=vt();return t=t===void 0?null:t,a=a(),r.memoizedState=[a,t],a},useReducer:function(a,t,r){var i=vt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:t},i.queue=a,a=a.dispatch=hg.bind(null,aa,a),[i.memoizedState,a]},useRef:function(a){var t=vt();return a={current:a},t.memoizedState=a},useState:ou,useDebugValue:Tc,useDeferredValue:function(a){return vt().memoizedState=a},useTransition:function(){var a=ou(!1),t=a[0];return a=fg.bind(null,a[1]),vt().memoizedState=a,[t,a]},useMutableSource:function(){},useSyncExternalStore:function(a,t,r){var i=aa,n=vt();if(Je){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),xa===null)throw Error(U(349));kr&30||bm(i,t,r)}n.memoizedState=r;var l={value:r,getSnapshot:t};return n.queue=l,cu(ym.bind(null,i,l,a),[a]),i.flags|=2048,dn(9,gm.bind(null,i,l,r,t),void 0,null),r},useId:function(){var a=vt(),t=xa.identifierPrefix;if(Je){var r=Pt,i=At;r=(i&~(1<<32-ht(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=on++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mg++,t=":"+t+"r"+r.toString(32)+":";return a.memoizedState=t},unstable_isNewReconciler:!1},yg={readContext:lt,useCallback:Cm,useContext:lt,useEffect:Ec,useImperativeHandle:Nm,useInsertionEffect:_m,useLayoutEffect:km,useMemo:Sm,useReducer:Ds,useRef:jm,useState:function(){return Ds(cn)},useDebugValue:Tc,useDeferredValue:function(a){var t=st();return Em(t,ha.memoizedState,a)},useTransition:function(){var a=Ds(cn)[0],t=st().memoizedState;return[a,t]},useMutableSource:fm,useSyncExternalStore:hm,useId:Tm,unstable_isNewReconciler:!1},xg={readContext:lt,useCallback:Cm,useContext:lt,useEffect:Ec,useImperativeHandle:Nm,useInsertionEffect:_m,useLayoutEffect:km,useMemo:Sm,useReducer:zs,useRef:jm,useState:function(){return zs(cn)},useDebugValue:Tc,useDeferredValue:function(a){var t=st();return ha===null?t.memoizedState=a:Em(t,ha.memoizedState,a)},useTransition:function(){var a=zs(cn)[0],t=st().memoizedState;return[a,t]},useMutableSource:fm,useSyncExternalStore:hm,useId:Tm,unstable_isNewReconciler:!1};function ut(a,t){if(a&&a.defaultProps){t=ta({},t),a=a.defaultProps;for(var r in a)t[r]===void 0&&(t[r]=a[r]);return t}return t}function ko(a,t,r,i){t=a.memoizedState,r=r(i,t),r=r==null?t:ta({},t,r),a.memoizedState=r,a.lanes===0&&(a.updateQueue.baseState=r)}var Wl={isMounted:function(a){return(a=a._reactInternals)?Sr(a)===a:!1},enqueueSetState:function(a,t,r){a=a._reactInternals;var i=Ma(),n=rr(a),l=Rt(i,n);l.payload=t,r!=null&&(l.callback=r),t=ar(a,l,n),t!==null&&(bt(t,a,n,i),Zn(t,a,n))},enqueueReplaceState:function(a,t,r){a=a._reactInternals;var i=Ma(),n=rr(a),l=Rt(i,n);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=ar(a,l,n),t!==null&&(bt(t,a,n,i),Zn(t,a,n))},enqueueForceUpdate:function(a,t){a=a._reactInternals;var r=Ma(),i=rr(a),n=Rt(r,i);n.tag=2,t!=null&&(n.callback=t),t=ar(a,n,i),t!==null&&(bt(t,a,i,r),Zn(t,a,i))}};function du(a,t,r,i,n,l,s){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(i,l,s):t.prototype&&t.prototype.isPureReactComponent?!an(r,i)||!an(n,l):!0}function Im(a,t,r){var i=!1,n=sr,l=t.contextType;return typeof l=="object"&&l!==null?l=lt(l):(n=Fa(t)?jr:Ea.current,i=t.contextTypes,l=(i=i!=null)?ai(a,n):sr),t=new t(r,l),a.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,a.stateNode=t,t._reactInternals=a,i&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=n,a.__reactInternalMemoizedMaskedChildContext=l),t}function uu(a,t,r,i){a=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==a&&Wl.enqueueReplaceState(t,t.state,null)}function wo(a,t,r,i){var n=a.stateNode;n.props=r,n.state=a.memoizedState,n.refs={},jc(a);var l=t.contextType;typeof l=="object"&&l!==null?n.context=lt(l):(l=Fa(t)?jr:Ea.current,n.context=ai(a,l)),n.state=a.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ko(a,t,l,r),n.state=a.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Wl.enqueueReplaceState(n,n.state,null),Nl(a,r,n,i),n.state=a.memoizedState),typeof n.componentDidMount=="function"&&(a.flags|=4194308)}function ni(a,t){try{var r="",i=t;do r+=Hh(i),i=i.return;while(i);var n=r}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:a,source:t,stack:n,digest:null}}function Ms(a,t,r){return{value:a,source:null,stack:r??null,digest:t??null}}function No(a,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vg=typeof WeakMap=="function"?WeakMap:Map;function Dm(a,t,r){r=Rt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Al||(Al=!0,zo=i),No(a,t)},r}function zm(a,t,r){r=Rt(-1,r),r.tag=3;var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var n=t.value;r.payload=function(){return i(n)},r.callback=function(){No(a,t)}}var l=a.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){No(a,t),typeof i!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function pu(a,t,r){var i=a.pingCache;if(i===null){i=a.pingCache=new vg;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(r)||(n.add(r),a=Dg.bind(null,a,t,r),t.then(a,a))}function mu(a){do{var t;if((t=a.tag===13)&&(t=a.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return a;a=a.return}while(a!==null);return null}function fu(a,t,r,i,n){return a.mode&1?(a.flags|=65536,a.lanes=n,a):(a===t?a.flags|=65536:(a.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rt(-1,1),t.tag=2,ar(r,t,1))),r.lanes|=1),a)}var jg=Lt.ReactCurrentOwner,qa=!1;function za(a,t,r,i){t.child=a===null?dm(t,null,r,i):ri(t,a.child,r,i)}function hu(a,t,r,i,n){r=r.render;var l=t.ref;return Yr(t,n),i=Cc(a,t,r,i,l,n),r=Sc(),a!==null&&!qa?(t.updateQueue=a.updateQueue,t.flags&=-2053,a.lanes&=~n,Ot(a,t,n)):(Je&&r&&fc(t),t.flags|=1,za(a,t,i,n),t.child)}function bu(a,t,r,i,n){if(a===null){var l=r.type;return typeof l=="function"&&!Oc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Mm(a,t,l,i,n)):(a=nl(r.type,null,i,t,t.mode,n),a.ref=t.ref,a.return=t,t.child=a)}if(l=a.child,!(a.lanes&n)){var s=l.memoizedProps;if(r=r.compare,r=r!==null?r:an,r(s,i)&&a.ref===t.ref)return Ot(a,t,n)}return t.flags|=1,a=ir(l,i),a.ref=t.ref,a.return=t,t.child=a}function Mm(a,t,r,i,n){if(a!==null){var l=a.memoizedProps;if(an(l,i)&&a.ref===t.ref)if(qa=!1,t.pendingProps=i=l,(a.lanes&n)!==0)a.flags&131072&&(qa=!0);else return t.lanes=a.lanes,Ot(a,t,n)}return Co(a,t,r,i,n)}function Om(a,t,r){var i=t.pendingProps,n=i.children,l=a!==null?a.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Hr,Ha),Ha|=r;else{if(!(r&1073741824))return a=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:a,cachePool:null,transitions:null},t.updateQueue=null,Ue(Hr,Ha),Ha|=a,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:r,Ue(Hr,Ha),Ha|=i}else l!==null?(i=l.baseLanes|r,t.memoizedState=null):i=r,Ue(Hr,Ha),Ha|=i;return za(a,t,n,r),t.child}function Lm(a,t){var r=t.ref;(a===null&&r!==null||a!==null&&a.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Co(a,t,r,i,n){var l=Fa(r)?jr:Ea.current;return l=ai(t,l),Yr(t,n),r=Cc(a,t,r,i,l,n),i=Sc(),a!==null&&!qa?(t.updateQueue=a.updateQueue,t.flags&=-2053,a.lanes&=~n,Ot(a,t,n)):(Je&&i&&fc(t),t.flags|=1,za(a,t,r,n),t.child)}function gu(a,t,r,i,n){if(Fa(r)){var l=!0;vl(t)}else l=!1;if(Yr(t,n),t.stateNode===null)tl(a,t),Im(t,r,i),wo(t,r,i,n),i=!0;else if(a===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var p=s.context,h=r.contextType;typeof h=="object"&&h!==null?h=lt(h):(h=Fa(r)?jr:Ea.current,h=ai(t,h));var w=r.getDerivedStateFromProps,m=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==i||p!==h)&&uu(t,s,i,h),Gt=!1;var b=t.memoizedState;s.state=b,Nl(t,i,s,n),p=t.memoizedState,c!==i||b!==p||Ba.current||Gt?(typeof w=="function"&&(ko(t,r,w,i),p=t.memoizedState),(c=Gt||du(t,r,c,i,b,p,h))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=p),s.props=i,s.state=p,s.context=h,i=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,pm(a,t),c=t.memoizedProps,h=t.type===t.elementType?c:ut(t.type,c),s.props=h,m=t.pendingProps,b=s.context,p=r.contextType,typeof p=="object"&&p!==null?p=lt(p):(p=Fa(r)?jr:Ea.current,p=ai(t,p));var j=r.getDerivedStateFromProps;(w=typeof j=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==m||b!==p)&&uu(t,s,i,p),Gt=!1,b=t.memoizedState,s.state=b,Nl(t,i,s,n);var N=t.memoizedState;c!==m||b!==N||Ba.current||Gt?(typeof j=="function"&&(ko(t,r,j,i),N=t.memoizedState),(h=Gt||du(t,r,h,i,b,N,p)||!1)?(w||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,N,p),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,N,p)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===a.memoizedProps&&b===a.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===a.memoizedProps&&b===a.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),s.props=i,s.state=N,s.context=p,i=h):(typeof s.componentDidUpdate!="function"||c===a.memoizedProps&&b===a.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===a.memoizedProps&&b===a.memoizedState||(t.flags|=1024),i=!1)}return So(a,t,r,i,l,n)}function So(a,t,r,i,n,l){Lm(a,t);var s=(t.flags&128)!==0;if(!i&&!s)return n&&tu(t,r,!1),Ot(a,t,l);i=t.stateNode,jg.current=t;var c=s&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,a!==null&&s?(t.child=ri(t,a.child,null,l),t.child=ri(t,null,c,l)):za(a,t,c,l),t.memoizedState=i.state,n&&tu(t,r,!0),t.child}function Vm(a){var t=a.stateNode;t.pendingContext?au(a,t.pendingContext,t.pendingContext!==t.context):t.context&&au(a,t.context,!1),_c(a,t.containerInfo)}function yu(a,t,r,i,n){return ti(),bc(n),t.flags|=256,za(a,t,r,i),t.child}var Eo={dehydrated:null,treeContext:null,retryLane:0};function To(a){return{baseLanes:a,cachePool:null,transitions:null}}function qm(a,t,r){var i=t.pendingProps,n=ea.current,l=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=a!==null&&a.memoizedState===null?!1:(n&2)!==0),c?(l=!0,t.flags&=-129):(a===null||a.memoizedState!==null)&&(n|=1),Ue(ea,n&1),a===null)return jo(t),a=t.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(t.mode&1?a.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,a=i.fallback,l?(i=t.mode,l=t.child,s={mode:"hidden",children:s},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=Gl(s,i,0,null),a=vr(a,i,r,null),l.return=t,a.return=t,l.sibling=a,t.child=l,t.child.memoizedState=To(r),t.memoizedState=Eo,a):Ac(t,s));if(n=a.memoizedState,n!==null&&(c=n.dehydrated,c!==null))return _g(a,t,s,i,c,n,r);if(l){l=i.fallback,s=t.mode,n=a.child,c=n.sibling;var p={mode:"hidden",children:i.children};return!(s&1)&&t.child!==n?(i=t.child,i.childLanes=0,i.pendingProps=p,t.deletions=null):(i=ir(n,p),i.subtreeFlags=n.subtreeFlags&14680064),c!==null?l=ir(c,l):(l=vr(l,s,r,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,s=a.child.memoizedState,s=s===null?To(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=a.childLanes&~r,t.memoizedState=Eo,i}return l=a.child,a=l.sibling,i=ir(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,a!==null&&(r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)),t.child=i,t.memoizedState=null,i}function Ac(a,t){return t=Gl({mode:"visible",children:t},a.mode,0,null),t.return=a,a.child=t}function Fn(a,t,r,i){return i!==null&&bc(i),ri(t,a.child,null,r),a=Ac(t,t.pendingProps.children),a.flags|=2,t.memoizedState=null,a}function _g(a,t,r,i,n,l,s){if(r)return t.flags&256?(t.flags&=-257,i=Ms(Error(U(422))),Fn(a,t,s,i)):t.memoizedState!==null?(t.child=a.child,t.flags|=128,null):(l=i.fallback,n=t.mode,i=Gl({mode:"visible",children:i.children},n,0,null),l=vr(l,n,s,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&ri(t,a.child,null,s),t.child.memoizedState=To(s),t.memoizedState=Eo,l);if(!(t.mode&1))return Fn(a,t,s,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var c=i.dgst;return i=c,l=Error(U(419)),i=Ms(l,i,void 0),Fn(a,t,s,i)}if(c=(s&a.childLanes)!==0,qa||c){if(i=xa,i!==null){switch(s&-s){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|s)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Mt(a,n),bt(i,a,n,-1))}return Mc(),i=Ms(Error(U(421))),Fn(a,t,s,i)}return n.data==="$?"?(t.flags|=128,t.child=a.child,t=zg.bind(null,a),n._reactRetry=t,null):(a=l.treeContext,Ka=er(n.nextSibling),Ja=t,Je=!0,ft=null,a!==null&&(at[tt++]=At,at[tt++]=Pt,at[tt++]=_r,At=a.id,Pt=a.overflow,_r=t),t=Ac(t,i.children),t.flags|=4096,t)}function xu(a,t,r){a.lanes|=t;var i=a.alternate;i!==null&&(i.lanes|=t),_o(a.return,t,r)}function Os(a,t,r,i,n){var l=a.memoizedState;l===null?a.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=r,l.tailMode=n)}function Bm(a,t,r){var i=t.pendingProps,n=i.revealOrder,l=i.tail;if(za(a,t,i.children,r),i=ea.current,i&2)i=i&1|2,t.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=t.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&xu(a,r,t);else if(a.tag===19)xu(a,r,t);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}i&=1}if(Ue(ea,i),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)a=r.alternate,a!==null&&Cl(a)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Os(t,!1,n,r,l);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(a=n.alternate,a!==null&&Cl(a)===null){t.child=n;break}a=n.sibling,n.sibling=r,r=n,n=a}Os(t,!0,r,null,l);break;case"together":Os(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tl(a,t){!(t.mode&1)&&a!==null&&(a.alternate=null,t.alternate=null,t.flags|=2)}function Ot(a,t,r){if(a!==null&&(t.dependencies=a.dependencies),wr|=t.lanes,!(r&t.childLanes))return null;if(a!==null&&t.child!==a.child)throw Error(U(153));if(t.child!==null){for(a=t.child,r=ir(a,a.pendingProps),t.child=r,r.return=t;a.sibling!==null;)a=a.sibling,r=r.sibling=ir(a,a.pendingProps),r.return=t;r.sibling=null}return t.child}function kg(a,t,r){switch(t.tag){case 3:Vm(t),ti();break;case 5:mm(t);break;case 1:Fa(t.type)&&vl(t);break;case 4:_c(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,n=t.memoizedProps.value;Ue(kl,i._currentValue),i._currentValue=n;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ue(ea,ea.current&1),t.flags|=128,null):r&t.child.childLanes?qm(a,t,r):(Ue(ea,ea.current&1),a=Ot(a,t,r),a!==null?a.sibling:null);Ue(ea,ea.current&1);break;case 19:if(i=(r&t.childLanes)!==0,a.flags&128){if(i)return Bm(a,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ue(ea,ea.current),i)break;return null;case 22:case 23:return t.lanes=0,Om(a,t,r)}return Ot(a,t,r)}var Fm,Ao,Wm,$m;Fm=function(a,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ao=function(){};Wm=function(a,t,r,i){var n=a.memoizedProps;if(n!==i){a=t.stateNode,gr(kt.current);var l=null;switch(r){case"input":n=Xs(a,n),i=Xs(a,i),l=[];break;case"select":n=ta({},n,{value:void 0}),i=ta({},i,{value:void 0}),l=[];break;case"textarea":n=eo(a,n),i=eo(a,i),l=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(a.onclick=yl)}to(r,i);var s;r=null;for(h in n)if(!i.hasOwnProperty(h)&&n.hasOwnProperty(h)&&n[h]!=null)if(h==="style"){var c=n[h];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ki.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in i){var p=i[h];if(c=n!=null?n[h]:void 0,i.hasOwnProperty(h)&&p!==c&&(p!=null||c!=null))if(h==="style")if(c){for(s in c)!c.hasOwnProperty(s)||p&&p.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in p)p.hasOwnProperty(s)&&c[s]!==p[s]&&(r||(r={}),r[s]=p[s])}else r||(l||(l=[]),l.push(h,r)),r=p;else h==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,c=c?c.__html:void 0,p!=null&&c!==p&&(l=l||[]).push(h,p)):h==="children"?typeof p!="string"&&typeof p!="number"||(l=l||[]).push(h,""+p):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ki.hasOwnProperty(h)?(p!=null&&h==="onScroll"&&Ge("scroll",a),l||c===p||(l=[])):(l=l||[]).push(h,p))}r&&(l=l||[]).push("style",r);var h=l;(t.updateQueue=h)&&(t.flags|=4)}};$m=function(a,t,r,i){r!==i&&(t.flags|=4)};function Pi(a,t){if(!Je)switch(a.tailMode){case"hidden":t=a.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?a.tail=null:r.sibling=null;break;case"collapsed":r=a.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||a.tail===null?a.tail=null:a.tail.sibling=null:i.sibling=null}}function Ca(a){var t=a.alternate!==null&&a.alternate.child===a.child,r=0,i=0;if(t)for(var n=a.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=a,n=n.sibling;else for(n=a.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=a,n=n.sibling;return a.subtreeFlags|=i,a.childLanes=r,t}function wg(a,t,r){var i=t.pendingProps;switch(hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ca(t),null;case 1:return Fa(t.type)&&xl(),Ca(t),null;case 3:return i=t.stateNode,ii(),He(Ba),He(Ea),wc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(a===null||a.child===null)&&(qn(t)?t.flags|=4:a===null||a.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Lo(ft),ft=null))),Ao(a,t),Ca(t),null;case 5:kc(t);var n=gr(sn.current);if(r=t.type,a!==null&&t.stateNode!=null)Wm(a,t,r,i,n),a.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Ca(t),null}if(a=gr(kt.current),qn(t)){i=t.stateNode,r=t.type;var l=t.memoizedProps;switch(i[jt]=t,i[nn]=l,a=(t.mode&1)!==0,r){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(n=0;n<Oi.length;n++)Ge(Oi[n],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":Ed(i,l),Ge("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},Ge("invalid",i);break;case"textarea":Ad(i,l),Ge("invalid",i)}to(r,l),n=null;for(var s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="children"?typeof c=="string"?i.textContent!==c&&(l.suppressHydrationWarning!==!0&&Vn(i.textContent,c,a),n=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Vn(i.textContent,c,a),n=["children",""+c]):Ki.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&Ge("scroll",i)}switch(r){case"input":Pn(i),Td(i,l,!0);break;case"textarea":Pn(i),Pd(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=yl)}i=n,t.updateQueue=i,i!==null&&(t.flags|=4)}else{s=n.nodeType===9?n:n.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=yp(r)),a==="http://www.w3.org/1999/xhtml"?r==="script"?(a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof i.is=="string"?a=s.createElement(r,{is:i.is}):(a=s.createElement(r),r==="select"&&(s=a,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):a=s.createElementNS(a,r),a[jt]=t,a[nn]=i,Fm(a,t,!1,!1),t.stateNode=a;e:{switch(s=ro(r,i),r){case"dialog":Ge("cancel",a),Ge("close",a),n=i;break;case"iframe":case"object":case"embed":Ge("load",a),n=i;break;case"video":case"audio":for(n=0;n<Oi.length;n++)Ge(Oi[n],a);n=i;break;case"source":Ge("error",a),n=i;break;case"img":case"image":case"link":Ge("error",a),Ge("load",a),n=i;break;case"details":Ge("toggle",a),n=i;break;case"input":Ed(a,i),n=Xs(a,i),Ge("invalid",a);break;case"option":n=i;break;case"select":a._wrapperState={wasMultiple:!!i.multiple},n=ta({},i,{value:void 0}),Ge("invalid",a);break;case"textarea":Ad(a,i),n=eo(a,i),Ge("invalid",a);break;default:n=i}to(r,n),c=n;for(l in c)if(c.hasOwnProperty(l)){var p=c[l];l==="style"?jp(a,p):l==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&xp(a,p)):l==="children"?typeof p=="string"?(r!=="textarea"||p!=="")&&Ji(a,p):typeof p=="number"&&Ji(a,""+p):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ki.hasOwnProperty(l)?p!=null&&l==="onScroll"&&Ge("scroll",a):p!=null&&ec(a,l,p,s))}switch(r){case"input":Pn(a),Td(a,i,!1);break;case"textarea":Pn(a),Pd(a);break;case"option":i.value!=null&&a.setAttribute("value",""+lr(i.value));break;case"select":a.multiple=!!i.multiple,l=i.value,l!=null?Kr(a,!!i.multiple,l,!1):i.defaultValue!=null&&Kr(a,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(a.onclick=yl)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ca(t),null;case 6:if(a&&t.stateNode!=null)$m(a,t,a.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(r=gr(sn.current),gr(kt.current),qn(t)){if(i=t.stateNode,r=t.memoizedProps,i[jt]=t,(l=i.nodeValue!==r)&&(a=Ja,a!==null))switch(a.tag){case 3:Vn(i.nodeValue,r,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Vn(i.nodeValue,r,(a.mode&1)!==0)}l&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[jt]=t,t.stateNode=i}return Ca(t),null;case 13:if(He(ea),i=t.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Je&&Ka!==null&&t.mode&1&&!(t.flags&128))om(),ti(),t.flags|=98560,l=!1;else if(l=qn(t),i!==null&&i.dehydrated!==null){if(a===null){if(!l)throw Error(U(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[jt]=t}else ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ca(t),l=!1}else ft!==null&&(Lo(ft),ft=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(a!==null&&a.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(a===null||ea.current&1?ba===0&&(ba=3):Mc())),t.updateQueue!==null&&(t.flags|=4),Ca(t),null);case 4:return ii(),Ao(a,t),a===null&&tn(t.stateNode.containerInfo),Ca(t),null;case 10:return xc(t.type._context),Ca(t),null;case 17:return Fa(t.type)&&xl(),Ca(t),null;case 19:if(He(ea),l=t.memoizedState,l===null)return Ca(t),null;if(i=(t.flags&128)!==0,s=l.rendering,s===null)if(i)Pi(l,!1);else{if(ba!==0||a!==null&&a.flags&128)for(a=t.child;a!==null;){if(s=Cl(a),s!==null){for(t.flags|=128,Pi(l,!1),i=s.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)l=r,a=i,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=a,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r=r.sibling;return Ue(ea,ea.current&1|2),t.child}a=a.sibling}l.tail!==null&&ca()>li&&(t.flags|=128,i=!0,Pi(l,!1),t.lanes=4194304)}else{if(!i)if(a=Cl(s),a!==null){if(t.flags|=128,i=!0,r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Je)return Ca(t),null}else 2*ca()-l.renderingStartTime>li&&r!==1073741824&&(t.flags|=128,i=!0,Pi(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(r=l.last,r!==null?r.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ca(),t.sibling=null,r=ea.current,Ue(ea,i?r&1|2:r&1),t):(Ca(t),null);case 22:case 23:return zc(),i=t.memoizedState!==null,a!==null&&a.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ha&1073741824&&(Ca(t),t.subtreeFlags&6&&(t.flags|=8192)):Ca(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Ng(a,t){switch(hc(t),t.tag){case 1:return Fa(t.type)&&xl(),a=t.flags,a&65536?(t.flags=a&-65537|128,t):null;case 3:return ii(),He(Ba),He(Ea),wc(),a=t.flags,a&65536&&!(a&128)?(t.flags=a&-65537|128,t):null;case 5:return kc(t),null;case 13:if(He(ea),a=t.memoizedState,a!==null&&a.dehydrated!==null){if(t.alternate===null)throw Error(U(340));ti()}return a=t.flags,a&65536?(t.flags=a&-65537|128,t):null;case 19:return He(ea),null;case 4:return ii(),null;case 10:return xc(t.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var Wn=!1,Sa=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Gr(a,t){var r=a.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ra(a,t,i)}else r.current=null}function Po(a,t,r){try{r()}catch(i){ra(a,t,i)}}var vu=!1;function Sg(a,t){if(fo=hl,a=Jp(),mc(a)){if("selectionStart"in a)var r={start:a.selectionStart,end:a.selectionEnd};else e:{r=(r=a.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var s=0,c=-1,p=-1,h=0,w=0,m=a,b=null;a:for(;;){for(var j;m!==r||n!==0&&m.nodeType!==3||(c=s+n),m!==l||i!==0&&m.nodeType!==3||(p=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(j=m.firstChild)!==null;)b=m,m=j;for(;;){if(m===a)break a;if(b===r&&++h===n&&(c=s),b===l&&++w===i&&(p=s),(j=m.nextSibling)!==null)break;m=b,b=m.parentNode}m=j}r=c===-1||p===-1?null:{start:c,end:p}}else r=null}r=r||{start:0,end:0}}else r=null;for(ho={focusedElem:a,selectionRange:r},hl=!1,ae=t;ae!==null;)if(t=ae,a=t.child,(t.subtreeFlags&1028)!==0&&a!==null)a.return=t,ae=a;else for(;ae!==null;){t=ae;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var _=N.memoizedProps,D=N.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?_:ut(t.type,_),D);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(T){ra(t,t.return,T)}if(a=t.sibling,a!==null){a.return=t.return,ae=a;break}ae=t.return}return N=vu,vu=!1,N}function Ui(a,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&a)===a){var l=n.destroy;n.destroy=void 0,l!==void 0&&Po(t,r,l)}n=n.next}while(n!==i)}}function $l(a,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&a)===a){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Ro(a){var t=a.ref;if(t!==null){var r=a.stateNode;switch(a.tag){case 5:a=r;break;default:a=r}typeof t=="function"?t(a):t.current=a}}function Um(a){var t=a.alternate;t!==null&&(a.alternate=null,Um(t)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(t=a.stateNode,t!==null&&(delete t[jt],delete t[nn],delete t[yo],delete t[cg],delete t[dg])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Gm(a){return a.tag===5||a.tag===3||a.tag===4}function ju(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Gm(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Io(a,t,r){var i=a.tag;if(i===5||i===6)a=a.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(a,t):r.insertBefore(a,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(a,r)):(t=r,t.appendChild(a)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yl));else if(i!==4&&(a=a.child,a!==null))for(Io(a,t,r),a=a.sibling;a!==null;)Io(a,t,r),a=a.sibling}function Do(a,t,r){var i=a.tag;if(i===5||i===6)a=a.stateNode,t?r.insertBefore(a,t):r.appendChild(a);else if(i!==4&&(a=a.child,a!==null))for(Do(a,t,r),a=a.sibling;a!==null;)Do(a,t,r),a=a.sibling}var ja=null,pt=!1;function $t(a,t,r){for(r=r.child;r!==null;)Hm(a,t,r),r=r.sibling}function Hm(a,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Ml,r)}catch{}switch(r.tag){case 5:Sa||Gr(r,t);case 6:var i=ja,n=pt;ja=null,$t(a,t,r),ja=i,pt=n,ja!==null&&(pt?(a=ja,r=r.stateNode,a.nodeType===8?a.parentNode.removeChild(r):a.removeChild(r)):ja.removeChild(r.stateNode));break;case 18:ja!==null&&(pt?(a=ja,r=r.stateNode,a.nodeType===8?As(a.parentNode,r):a.nodeType===1&&As(a,r),Zi(a)):As(ja,r.stateNode));break;case 4:i=ja,n=pt,ja=r.stateNode.containerInfo,pt=!0,$t(a,t,r),ja=i,pt=n;break;case 0:case 11:case 14:case 15:if(!Sa&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var l=n,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&Po(r,t,s),n=n.next}while(n!==i)}$t(a,t,r);break;case 1:if(!Sa&&(Gr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(c){ra(r,t,c)}$t(a,t,r);break;case 21:$t(a,t,r);break;case 22:r.mode&1?(Sa=(i=Sa)||r.memoizedState!==null,$t(a,t,r),Sa=i):$t(a,t,r);break;default:$t(a,t,r)}}function _u(a){var t=a.updateQueue;if(t!==null){a.updateQueue=null;var r=a.stateNode;r===null&&(r=a.stateNode=new Cg),t.forEach(function(i){var n=Mg.bind(null,a,i);r.has(i)||(r.add(i),i.then(n,n))})}}function dt(a,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var l=a,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:ja=c.stateNode,pt=!1;break e;case 3:ja=c.stateNode.containerInfo,pt=!0;break e;case 4:ja=c.stateNode.containerInfo,pt=!0;break e}c=c.return}if(ja===null)throw Error(U(160));Hm(l,s,n),ja=null,pt=!1;var p=n.alternate;p!==null&&(p.return=null),n.return=null}catch(h){ra(n,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Km(t,a),t=t.sibling}function Km(a,t){var r=a.alternate,i=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(dt(t,a),xt(a),i&4){try{Ui(3,a,a.return),$l(3,a)}catch(_){ra(a,a.return,_)}try{Ui(5,a,a.return)}catch(_){ra(a,a.return,_)}}break;case 1:dt(t,a),xt(a),i&512&&r!==null&&Gr(r,r.return);break;case 5:if(dt(t,a),xt(a),i&512&&r!==null&&Gr(r,r.return),a.flags&32){var n=a.stateNode;try{Ji(n,"")}catch(_){ra(a,a.return,_)}}if(i&4&&(n=a.stateNode,n!=null)){var l=a.memoizedProps,s=r!==null?r.memoizedProps:l,c=a.type,p=a.updateQueue;if(a.updateQueue=null,p!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&bp(n,l),ro(c,s);var h=ro(c,l);for(s=0;s<p.length;s+=2){var w=p[s],m=p[s+1];w==="style"?jp(n,m):w==="dangerouslySetInnerHTML"?xp(n,m):w==="children"?Ji(n,m):ec(n,w,m,h)}switch(c){case"input":Ys(n,l);break;case"textarea":gp(n,l);break;case"select":var b=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?Kr(n,!!l.multiple,j,!1):b!==!!l.multiple&&(l.defaultValue!=null?Kr(n,!!l.multiple,l.defaultValue,!0):Kr(n,!!l.multiple,l.multiple?[]:"",!1))}n[nn]=l}catch(_){ra(a,a.return,_)}}break;case 6:if(dt(t,a),xt(a),i&4){if(a.stateNode===null)throw Error(U(162));n=a.stateNode,l=a.memoizedProps;try{n.nodeValue=l}catch(_){ra(a,a.return,_)}}break;case 3:if(dt(t,a),xt(a),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Zi(t.containerInfo)}catch(_){ra(a,a.return,_)}break;case 4:dt(t,a),xt(a);break;case 13:dt(t,a),xt(a),n=a.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(Ic=ca())),i&4&&_u(a);break;case 22:if(w=r!==null&&r.memoizedState!==null,a.mode&1?(Sa=(h=Sa)||w,dt(t,a),Sa=h):dt(t,a),xt(a),i&8192){if(h=a.memoizedState!==null,(a.stateNode.isHidden=h)&&!w&&a.mode&1)for(ae=a,w=a.child;w!==null;){for(m=ae=w;ae!==null;){switch(b=ae,j=b.child,b.tag){case 0:case 11:case 14:case 15:Ui(4,b,b.return);break;case 1:Gr(b,b.return);var N=b.stateNode;if(typeof N.componentWillUnmount=="function"){i=b,r=b.return;try{t=i,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(_){ra(i,r,_)}}break;case 5:Gr(b,b.return);break;case 22:if(b.memoizedState!==null){wu(m);continue}}j!==null?(j.return=b,ae=j):wu(m)}w=w.sibling}e:for(w=null,m=a;;){if(m.tag===5){if(w===null){w=m;try{n=m.stateNode,h?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=m.stateNode,p=m.memoizedProps.style,s=p!=null&&p.hasOwnProperty("display")?p.display:null,c.style.display=vp("display",s))}catch(_){ra(a,a.return,_)}}}else if(m.tag===6){if(w===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(_){ra(a,a.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===a)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;w===m&&(w=null),m=m.return}w===m&&(w=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:dt(t,a),xt(a),i&4&&_u(a);break;case 21:break;default:dt(t,a),xt(a)}}function xt(a){var t=a.flags;if(t&2){try{e:{for(var r=a.return;r!==null;){if(Gm(r)){var i=r;break e}r=r.return}throw Error(U(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(Ji(n,""),i.flags&=-33);var l=ju(a);Do(a,l,n);break;case 3:case 4:var s=i.stateNode.containerInfo,c=ju(a);Io(a,c,s);break;default:throw Error(U(161))}}catch(p){ra(a,a.return,p)}a.flags&=-3}t&4096&&(a.flags&=-4097)}function Eg(a,t,r){ae=a,Jm(a)}function Jm(a,t,r){for(var i=(a.mode&1)!==0;ae!==null;){var n=ae,l=n.child;if(n.tag===22&&i){var s=n.memoizedState!==null||Wn;if(!s){var c=n.alternate,p=c!==null&&c.memoizedState!==null||Sa;c=Wn;var h=Sa;if(Wn=s,(Sa=p)&&!h)for(ae=n;ae!==null;)s=ae,p=s.child,s.tag===22&&s.memoizedState!==null?Nu(n):p!==null?(p.return=s,ae=p):Nu(n);for(;l!==null;)ae=l,Jm(l),l=l.sibling;ae=n,Wn=c,Sa=h}ku(a)}else n.subtreeFlags&8772&&l!==null?(l.return=n,ae=l):ku(a)}}function ku(a){for(;ae!==null;){var t=ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sa||$l(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Sa)if(r===null)i.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:ut(t.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&su(t,l,i);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}su(t,s,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&r.focus();break;case"img":p.src&&(r.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var w=h.memoizedState;if(w!==null){var m=w.dehydrated;m!==null&&Zi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Sa||t.flags&512&&Ro(t)}catch(b){ra(t,t.return,b)}}if(t===a){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function wu(a){for(;ae!==null;){var t=ae;if(t===a){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function Nu(a){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$l(4,t)}catch(p){ra(t,r,p)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var n=t.return;try{i.componentDidMount()}catch(p){ra(t,n,p)}}var l=t.return;try{Ro(t)}catch(p){ra(t,l,p)}break;case 5:var s=t.return;try{Ro(t)}catch(p){ra(t,s,p)}}}catch(p){ra(t,t.return,p)}if(t===a){ae=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ae=c;break}ae=t.return}}var Tg=Math.ceil,Tl=Lt.ReactCurrentDispatcher,Pc=Lt.ReactCurrentOwner,nt=Lt.ReactCurrentBatchConfig,Ie=0,xa=null,pa=null,_a=0,Ha=0,Hr=cr(0),ba=0,un=null,wr=0,Ul=0,Rc=0,Gi=null,Va=null,Ic=0,li=1/0,Et=null,Al=!1,zo=null,tr=null,$n=!1,Qt=null,Pl=0,Hi=0,Mo=null,rl=-1,il=0;function Ma(){return Ie&6?ca():rl!==-1?rl:rl=ca()}function rr(a){return a.mode&1?Ie&2&&_a!==0?_a&-_a:pg.transition!==null?(il===0&&(il=Ip()),il):(a=Ve,a!==0||(a=window.event,a=a===void 0?16:qp(a.type)),a):1}function bt(a,t,r,i){if(50<Hi)throw Hi=0,Mo=null,Error(U(185));fn(a,r,i),(!(Ie&2)||a!==xa)&&(a===xa&&(!(Ie&2)&&(Ul|=r),ba===4&&Kt(a,_a)),Wa(a,i),r===1&&Ie===0&&!(t.mode&1)&&(li=ca()+500,Bl&&dr()))}function Wa(a,t){var r=a.callbackNode;pb(a,t);var i=fl(a,a===xa?_a:0);if(i===0)r!==null&&Dd(r),a.callbackNode=null,a.callbackPriority=0;else if(t=i&-i,a.callbackPriority!==t){if(r!=null&&Dd(r),t===1)a.tag===0?ug(Cu.bind(null,a)):nm(Cu.bind(null,a)),sg(function(){!(Ie&6)&&dr()}),r=null;else{switch(Dp(i)){case 1:r=nc;break;case 4:r=Pp;break;case 16:r=ml;break;case 536870912:r=Rp;break;default:r=ml}r=rf(r,Qm.bind(null,a))}a.callbackPriority=t,a.callbackNode=r}}function Qm(a,t){if(rl=-1,il=0,Ie&6)throw Error(U(327));var r=a.callbackNode;if(Zr()&&a.callbackNode!==r)return null;var i=fl(a,a===xa?_a:0);if(i===0)return null;if(i&30||i&a.expiredLanes||t)t=Rl(a,i);else{t=i;var n=Ie;Ie|=2;var l=Ym();(xa!==a||_a!==t)&&(Et=null,li=ca()+500,xr(a,t));do try{Rg();break}catch(c){Xm(a,c)}while(!0);yc(),Tl.current=l,Ie=n,pa!==null?t=0:(xa=null,_a=0,t=ba)}if(t!==0){if(t===2&&(n=oo(a),n!==0&&(i=n,t=Oo(a,n))),t===1)throw r=un,xr(a,0),Kt(a,i),Wa(a,ca()),r;if(t===6)Kt(a,i);else{if(n=a.current.alternate,!(i&30)&&!Ag(n)&&(t=Rl(a,i),t===2&&(l=oo(a),l!==0&&(i=l,t=Oo(a,l))),t===1))throw r=un,xr(a,0),Kt(a,i),Wa(a,ca()),r;switch(a.finishedWork=n,a.finishedLanes=i,t){case 0:case 1:throw Error(U(345));case 2:fr(a,Va,Et);break;case 3:if(Kt(a,i),(i&130023424)===i&&(t=Ic+500-ca(),10<t)){if(fl(a,0)!==0)break;if(n=a.suspendedLanes,(n&i)!==i){Ma(),a.pingedLanes|=a.suspendedLanes&n;break}a.timeoutHandle=go(fr.bind(null,a,Va,Et),t);break}fr(a,Va,Et);break;case 4:if(Kt(a,i),(i&4194240)===i)break;for(t=a.eventTimes,n=-1;0<i;){var s=31-ht(i);l=1<<s,s=t[s],s>n&&(n=s),i&=~l}if(i=n,i=ca()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Tg(i/1960))-i,10<i){a.timeoutHandle=go(fr.bind(null,a,Va,Et),i);break}fr(a,Va,Et);break;case 5:fr(a,Va,Et);break;default:throw Error(U(329))}}}return Wa(a,ca()),a.callbackNode===r?Qm.bind(null,a):null}function Oo(a,t){var r=Gi;return a.current.memoizedState.isDehydrated&&(xr(a,t).flags|=256),a=Rl(a,t),a!==2&&(t=Va,Va=r,t!==null&&Lo(t)),a}function Lo(a){Va===null?Va=a:Va.push.apply(Va,a)}function Ag(a){for(var t=a;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],l=n.getSnapshot;n=n.value;try{if(!gt(l(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===a)break;for(;t.sibling===null;){if(t.return===null||t.return===a)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kt(a,t){for(t&=~Rc,t&=~Ul,a.suspendedLanes|=t,a.pingedLanes&=~t,a=a.expirationTimes;0<t;){var r=31-ht(t),i=1<<r;a[r]=-1,t&=~i}}function Cu(a){if(Ie&6)throw Error(U(327));Zr();var t=fl(a,0);if(!(t&1))return Wa(a,ca()),null;var r=Rl(a,t);if(a.tag!==0&&r===2){var i=oo(a);i!==0&&(t=i,r=Oo(a,i))}if(r===1)throw r=un,xr(a,0),Kt(a,t),Wa(a,ca()),r;if(r===6)throw Error(U(345));return a.finishedWork=a.current.alternate,a.finishedLanes=t,fr(a,Va,Et),Wa(a,ca()),null}function Dc(a,t){var r=Ie;Ie|=1;try{return a(t)}finally{Ie=r,Ie===0&&(li=ca()+500,Bl&&dr())}}function Nr(a){Qt!==null&&Qt.tag===0&&!(Ie&6)&&Zr();var t=Ie;Ie|=1;var r=nt.transition,i=Ve;try{if(nt.transition=null,Ve=1,a)return a()}finally{Ve=i,nt.transition=r,Ie=t,!(Ie&6)&&dr()}}function zc(){Ha=Hr.current,He(Hr)}function xr(a,t){a.finishedWork=null,a.finishedLanes=0;var r=a.timeoutHandle;if(r!==-1&&(a.timeoutHandle=-1,lg(r)),pa!==null)for(r=pa.return;r!==null;){var i=r;switch(hc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xl();break;case 3:ii(),He(Ba),He(Ea),wc();break;case 5:kc(i);break;case 4:ii();break;case 13:He(ea);break;case 19:He(ea);break;case 10:xc(i.type._context);break;case 22:case 23:zc()}r=r.return}if(xa=a,pa=a=ir(a.current,null),_a=Ha=t,ba=0,un=null,Rc=Ul=wr=0,Va=Gi=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,l=r.pending;if(l!==null){var s=l.next;l.next=n,i.next=s}r.pending=i}br=null}return a}function Xm(a,t){do{var r=pa;try{if(yc(),el.current=El,Sl){for(var i=aa.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Sl=!1}if(kr=0,ya=ha=aa=null,$i=!1,on=0,Pc.current=null,r===null||r.return===null){ba=1,un=t,pa=null;break}e:{var l=a,s=r.return,c=r,p=t;if(t=_a,c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var h=p,w=c,m=w.tag;if(!(w.mode&1)&&(m===0||m===11||m===15)){var b=w.alternate;b?(w.updateQueue=b.updateQueue,w.memoizedState=b.memoizedState,w.lanes=b.lanes):(w.updateQueue=null,w.memoizedState=null)}var j=mu(s);if(j!==null){j.flags&=-257,fu(j,s,c,l,t),j.mode&1&&pu(l,h,t),t=j,p=h;var N=t.updateQueue;if(N===null){var _=new Set;_.add(p),t.updateQueue=_}else N.add(p);break e}else{if(!(t&1)){pu(l,h,t),Mc();break e}p=Error(U(426))}}else if(Je&&c.mode&1){var D=mu(s);if(D!==null){!(D.flags&65536)&&(D.flags|=256),fu(D,s,c,l,t),bc(ni(p,c));break e}}l=p=ni(p,c),ba!==4&&(ba=2),Gi===null?Gi=[l]:Gi.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var y=Dm(l,p,t);lu(l,y);break e;case 1:c=p;var g=l.type,d=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(tr===null||!tr.has(d)))){l.flags|=65536,t&=-t,l.lanes|=t;var T=zm(l,c,t);lu(l,T);break e}}l=l.return}while(l!==null)}ef(r)}catch(z){t=z,pa===r&&r!==null&&(pa=r=r.return);continue}break}while(!0)}function Ym(){var a=Tl.current;return Tl.current=El,a===null?El:a}function Mc(){(ba===0||ba===3||ba===2)&&(ba=4),xa===null||!(wr&268435455)&&!(Ul&268435455)||Kt(xa,_a)}function Rl(a,t){var r=Ie;Ie|=2;var i=Ym();(xa!==a||_a!==t)&&(Et=null,xr(a,t));do try{Pg();break}catch(n){Xm(a,n)}while(!0);if(yc(),Ie=r,Tl.current=i,pa!==null)throw Error(U(261));return xa=null,_a=0,ba}function Pg(){for(;pa!==null;)Zm(pa)}function Rg(){for(;pa!==null&&!rb();)Zm(pa)}function Zm(a){var t=tf(a.alternate,a,Ha);a.memoizedProps=a.pendingProps,t===null?ef(a):pa=t,Pc.current=null}function ef(a){var t=a;do{var r=t.alternate;if(a=t.return,t.flags&32768){if(r=Ng(r,t),r!==null){r.flags&=32767,pa=r;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ba=6,pa=null;return}}else if(r=wg(r,t,Ha),r!==null){pa=r;return}if(t=t.sibling,t!==null){pa=t;return}pa=t=a}while(t!==null);ba===0&&(ba=5)}function fr(a,t,r){var i=Ve,n=nt.transition;try{nt.transition=null,Ve=1,Ig(a,t,r,i)}finally{nt.transition=n,Ve=i}return null}function Ig(a,t,r,i){do Zr();while(Qt!==null);if(Ie&6)throw Error(U(327));r=a.finishedWork;var n=a.finishedLanes;if(r===null)return null;if(a.finishedWork=null,a.finishedLanes=0,r===a.current)throw Error(U(177));a.callbackNode=null,a.callbackPriority=0;var l=r.lanes|r.childLanes;if(mb(a,l),a===xa&&(pa=xa=null,_a=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$n||($n=!0,rf(ml,function(){return Zr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=nt.transition,nt.transition=null;var s=Ve;Ve=1;var c=Ie;Ie|=4,Pc.current=null,Sg(a,r),Km(r,a),Zb(ho),hl=!!fo,ho=fo=null,a.current=r,Eg(r),ib(),Ie=c,Ve=s,nt.transition=l}else a.current=r;if($n&&($n=!1,Qt=a,Pl=n),l=a.pendingLanes,l===0&&(tr=null),sb(r.stateNode),Wa(a,ca()),t!==null)for(i=a.onRecoverableError,r=0;r<t.length;r++)n=t[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(Al)throw Al=!1,a=zo,zo=null,a;return Pl&1&&a.tag!==0&&Zr(),l=a.pendingLanes,l&1?a===Mo?Hi++:(Hi=0,Mo=a):Hi=0,dr(),null}function Zr(){if(Qt!==null){var a=Dp(Pl),t=nt.transition,r=Ve;try{if(nt.transition=null,Ve=16>a?16:a,Qt===null)var i=!1;else{if(a=Qt,Qt=null,Pl=0,Ie&6)throw Error(U(331));var n=Ie;for(Ie|=4,ae=a.current;ae!==null;){var l=ae,s=l.child;if(ae.flags&16){var c=l.deletions;if(c!==null){for(var p=0;p<c.length;p++){var h=c[p];for(ae=h;ae!==null;){var w=ae;switch(w.tag){case 0:case 11:case 15:Ui(8,w,l)}var m=w.child;if(m!==null)m.return=w,ae=m;else for(;ae!==null;){w=ae;var b=w.sibling,j=w.return;if(Um(w),w===h){ae=null;break}if(b!==null){b.return=j,ae=b;break}ae=j}}}var N=l.alternate;if(N!==null){var _=N.child;if(_!==null){N.child=null;do{var D=_.sibling;_.sibling=null,_=D}while(_!==null)}}ae=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,ae=s;else e:for(;ae!==null;){if(l=ae,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ui(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,ae=y;break e}ae=l.return}}var g=a.current;for(ae=g;ae!==null;){s=ae;var d=s.child;if(s.subtreeFlags&2064&&d!==null)d.return=s,ae=d;else e:for(s=g;ae!==null;){if(c=ae,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:$l(9,c)}}catch(z){ra(c,c.return,z)}if(c===s){ae=null;break e}var T=c.sibling;if(T!==null){T.return=c.return,ae=T;break e}ae=c.return}}if(Ie=n,dr(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Ml,a)}catch{}i=!0}return i}finally{Ve=r,nt.transition=t}}return!1}function Su(a,t,r){t=ni(r,t),t=Dm(a,t,1),a=ar(a,t,1),t=Ma(),a!==null&&(fn(a,1,t),Wa(a,t))}function ra(a,t,r){if(a.tag===3)Su(a,a,r);else for(;t!==null;){if(t.tag===3){Su(t,a,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tr===null||!tr.has(i))){a=ni(r,a),a=zm(t,a,1),t=ar(t,a,1),a=Ma(),t!==null&&(fn(t,1,a),Wa(t,a));break}}t=t.return}}function Dg(a,t,r){var i=a.pingCache;i!==null&&i.delete(t),t=Ma(),a.pingedLanes|=a.suspendedLanes&r,xa===a&&(_a&r)===r&&(ba===4||ba===3&&(_a&130023424)===_a&&500>ca()-Ic?xr(a,0):Rc|=r),Wa(a,t)}function af(a,t){t===0&&(a.mode&1?(t=Dn,Dn<<=1,!(Dn&130023424)&&(Dn=4194304)):t=1);var r=Ma();a=Mt(a,t),a!==null&&(fn(a,t,r),Wa(a,r))}function zg(a){var t=a.memoizedState,r=0;t!==null&&(r=t.retryLane),af(a,r)}function Mg(a,t){var r=0;switch(a.tag){case 13:var i=a.stateNode,n=a.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=a.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(t),af(a,r)}var tf;tf=function(a,t,r){if(a!==null)if(a.memoizedProps!==t.pendingProps||Ba.current)qa=!0;else{if(!(a.lanes&r)&&!(t.flags&128))return qa=!1,kg(a,t,r);qa=!!(a.flags&131072)}else qa=!1,Je&&t.flags&1048576&&lm(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;tl(a,t),a=t.pendingProps;var n=ai(t,Ea.current);Yr(t,r),n=Cc(null,t,i,a,n,r);var l=Sc();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fa(i)?(l=!0,vl(t)):l=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,jc(t),n.updater=Wl,t.stateNode=n,n._reactInternals=t,wo(t,i,a,r),t=So(null,t,i,!0,l,r)):(t.tag=0,Je&&l&&fc(t),za(null,t,n,r),t=t.child),t;case 16:i=t.elementType;e:{switch(tl(a,t),a=t.pendingProps,n=i._init,i=n(i._payload),t.type=i,n=t.tag=Lg(i),a=ut(i,a),n){case 0:t=Co(null,t,i,a,r);break e;case 1:t=gu(null,t,i,a,r);break e;case 11:t=hu(null,t,i,a,r);break e;case 14:t=bu(null,t,i,ut(i.type,a),r);break e}throw Error(U(306,i,""))}return t;case 0:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:ut(i,n),Co(a,t,i,n,r);case 1:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:ut(i,n),gu(a,t,i,n,r);case 3:e:{if(Vm(t),a===null)throw Error(U(387));i=t.pendingProps,l=t.memoizedState,n=l.element,pm(a,t),Nl(t,i,null,r);var s=t.memoizedState;if(i=s.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){n=ni(Error(U(423)),t),t=yu(a,t,i,r,n);break e}else if(i!==n){n=ni(Error(U(424)),t),t=yu(a,t,i,r,n);break e}else for(Ka=er(t.stateNode.containerInfo.firstChild),Ja=t,Je=!0,ft=null,r=dm(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ti(),i===n){t=Ot(a,t,r);break e}za(a,t,i,r)}t=t.child}return t;case 5:return mm(t),a===null&&jo(t),i=t.type,n=t.pendingProps,l=a!==null?a.memoizedProps:null,s=n.children,bo(i,n)?s=null:l!==null&&bo(i,l)&&(t.flags|=32),Lm(a,t),za(a,t,s,r),t.child;case 6:return a===null&&jo(t),null;case 13:return qm(a,t,r);case 4:return _c(t,t.stateNode.containerInfo),i=t.pendingProps,a===null?t.child=ri(t,null,i,r):za(a,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:ut(i,n),hu(a,t,i,n,r);case 7:return za(a,t,t.pendingProps,r),t.child;case 8:return za(a,t,t.pendingProps.children,r),t.child;case 12:return za(a,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,n=t.pendingProps,l=t.memoizedProps,s=n.value,Ue(kl,i._currentValue),i._currentValue=s,l!==null)if(gt(l.value,s)){if(l.children===n.children&&!Ba.current){t=Ot(a,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){s=l.child;for(var p=c.firstContext;p!==null;){if(p.context===i){if(l.tag===1){p=Rt(-1,r&-r),p.tag=2;var h=l.updateQueue;if(h!==null){h=h.shared;var w=h.pending;w===null?p.next=p:(p.next=w.next,w.next=p),h.pending=p}}l.lanes|=r,p=l.alternate,p!==null&&(p.lanes|=r),_o(l.return,r,t),c.lanes|=r;break}p=p.next}}else if(l.tag===10)s=l.type===t.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error(U(341));s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),_o(s,r,t),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}za(a,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=t.pendingProps.children,Yr(t,r),n=lt(n),i=i(n),t.flags|=1,za(a,t,i,r),t.child;case 14:return i=t.type,n=ut(i,t.pendingProps),n=ut(i.type,n),bu(a,t,i,n,r);case 15:return Mm(a,t,t.type,t.pendingProps,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:ut(i,n),tl(a,t),t.tag=1,Fa(i)?(a=!0,vl(t)):a=!1,Yr(t,r),Im(t,i,n),wo(t,i,n,r),So(null,t,i,!0,a,r);case 19:return Bm(a,t,r);case 22:return Om(a,t,r)}throw Error(U(156,t.tag))};function rf(a,t){return Ap(a,t)}function Og(a,t,r,i){this.tag=a,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(a,t,r,i){return new Og(a,t,r,i)}function Oc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Lg(a){if(typeof a=="function")return Oc(a)?1:0;if(a!=null){if(a=a.$$typeof,a===tc)return 11;if(a===rc)return 14}return 2}function ir(a,t){var r=a.alternate;return r===null?(r=it(a.tag,t,a.key,a.mode),r.elementType=a.elementType,r.type=a.type,r.stateNode=a.stateNode,r.alternate=a,a.alternate=r):(r.pendingProps=t,r.type=a.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=a.flags&14680064,r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,t=a.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=a.sibling,r.index=a.index,r.ref=a.ref,r}function nl(a,t,r,i,n,l){var s=2;if(i=a,typeof a=="function")Oc(a)&&(s=1);else if(typeof a=="string")s=5;else e:switch(a){case Or:return vr(r.children,n,l,t);case ac:s=8,n|=8;break;case Hs:return a=it(12,r,t,n|2),a.elementType=Hs,a.lanes=l,a;case Ks:return a=it(13,r,t,n),a.elementType=Ks,a.lanes=l,a;case Js:return a=it(19,r,t,n),a.elementType=Js,a.lanes=l,a;case mp:return Gl(r,n,l,t);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case up:s=10;break e;case pp:s=9;break e;case tc:s=11;break e;case rc:s=14;break e;case Ut:s=16,i=null;break e}throw Error(U(130,a==null?a:typeof a,""))}return t=it(s,r,t,n),t.elementType=a,t.type=i,t.lanes=l,t}function vr(a,t,r,i){return a=it(7,a,i,t),a.lanes=r,a}function Gl(a,t,r,i){return a=it(22,a,i,t),a.elementType=mp,a.lanes=r,a.stateNode={isHidden:!1},a}function Ls(a,t,r){return a=it(6,a,null,t),a.lanes=r,a}function Vs(a,t,r){return t=it(4,a.children!==null?a.children:[],a.key,t),t.lanes=r,t.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},t}function Vg(a,t,r,i,n){this.tag=t,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xs(0),this.expirationTimes=xs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xs(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Lc(a,t,r,i,n,l,s,c,p){return a=new Vg(a,t,r,c,p),t===1?(t=1,l===!0&&(t|=8)):t=0,l=it(3,null,null,t),a.current=l,l.stateNode=a,l.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(l),a}function qg(a,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:i==null?null:""+i,children:a,containerInfo:t,implementation:r}}function nf(a){if(!a)return sr;a=a._reactInternals;e:{if(Sr(a)!==a||a.tag!==1)throw Error(U(170));var t=a;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(a.tag===1){var r=a.type;if(Fa(r))return im(a,r,t)}return t}function lf(a,t,r,i,n,l,s,c,p){return a=Lc(r,i,!0,a,n,l,s,c,p),a.context=nf(null),r=a.current,i=Ma(),n=rr(r),l=Rt(i,n),l.callback=t??null,ar(r,l,n),a.current.lanes=n,fn(a,n,i),Wa(a,i),a}function Hl(a,t,r,i){var n=t.current,l=Ma(),s=rr(n);return r=nf(r),t.context===null?t.context=r:t.pendingContext=r,t=Rt(l,s),t.payload={element:a},i=i===void 0?null:i,i!==null&&(t.callback=i),a=ar(n,t,s),a!==null&&(bt(a,n,s,l),Zn(a,n,s)),s}function Il(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Eu(a,t){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var r=a.retryLane;a.retryLane=r!==0&&r<t?r:t}}function Vc(a,t){Eu(a,t),(a=a.alternate)&&Eu(a,t)}function Bg(){return null}var sf=typeof reportError=="function"?reportError:function(a){console.error(a)};function qc(a){this._internalRoot=a}Kl.prototype.render=qc.prototype.render=function(a){var t=this._internalRoot;if(t===null)throw Error(U(409));Hl(a,t,null,null)};Kl.prototype.unmount=qc.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var t=a.containerInfo;Nr(function(){Hl(null,a,null,null)}),t[zt]=null}};function Kl(a){this._internalRoot=a}Kl.prototype.unstable_scheduleHydration=function(a){if(a){var t=Op();a={blockedOn:null,target:a,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,a),r===0&&Vp(a)}};function Bc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Jl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function Fg(a,t,r,i,n){if(n){if(typeof i=="function"){var l=i;i=function(){var h=Il(s);l.call(h)}}var s=lf(t,i,a,0,null,!1,!1,"",Tu);return a._reactRootContainer=s,a[zt]=s.current,tn(a.nodeType===8?a.parentNode:a),Nr(),s}for(;n=a.lastChild;)a.removeChild(n);if(typeof i=="function"){var c=i;i=function(){var h=Il(p);c.call(h)}}var p=Lc(a,0,!1,null,null,!1,!1,"",Tu);return a._reactRootContainer=p,a[zt]=p.current,tn(a.nodeType===8?a.parentNode:a),Nr(function(){Hl(t,p,r,i)}),p}function Ql(a,t,r,i,n){var l=r._reactRootContainer;if(l){var s=l;if(typeof n=="function"){var c=n;n=function(){var p=Il(s);c.call(p)}}Hl(t,s,a,n)}else s=Fg(r,t,a,n,i);return Il(s)}zp=function(a){switch(a.tag){case 3:var t=a.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mi(t.pendingLanes);r!==0&&(lc(t,r|1),Wa(t,ca()),!(Ie&6)&&(li=ca()+500,dr()))}break;case 13:Nr(function(){var i=Mt(a,1);if(i!==null){var n=Ma();bt(i,a,1,n)}}),Vc(a,1)}};sc=function(a){if(a.tag===13){var t=Mt(a,134217728);if(t!==null){var r=Ma();bt(t,a,134217728,r)}Vc(a,134217728)}};Mp=function(a){if(a.tag===13){var t=rr(a),r=Mt(a,t);if(r!==null){var i=Ma();bt(r,a,t,i)}Vc(a,t)}};Op=function(){return Ve};Lp=function(a,t){var r=Ve;try{return Ve=a,t()}finally{Ve=r}};no=function(a,t,r){switch(t){case"input":if(Ys(a,r),t=r.name,r.type==="radio"&&t!=null){for(r=a;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==a&&i.form===a.form){var n=ql(i);if(!n)throw Error(U(90));hp(i),Ys(i,n)}}}break;case"textarea":gp(a,r);break;case"select":t=r.value,t!=null&&Kr(a,!!r.multiple,t,!1)}};wp=Dc;Np=Nr;var Wg={usingClientEntryPoint:!1,Events:[bn,Br,ql,_p,kp,Dc]},Ri={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$g={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ep(a),a===null?null:a.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||Bg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Un=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Un.isDisabled&&Un.supportsFiber)try{Ml=Un.inject($g),_t=Un}catch{}}Xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wg;Xa.createPortal=function(a,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(t))throw Error(U(200));return qg(a,t,null,r)};Xa.createRoot=function(a,t){if(!Bc(a))throw Error(U(299));var r=!1,i="",n=sf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Lc(a,1,!1,null,null,r,!1,i,n),a[zt]=t.current,tn(a.nodeType===8?a.parentNode:a),new qc(t)};Xa.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var t=a._reactInternals;if(t===void 0)throw typeof a.render=="function"?Error(U(188)):(a=Object.keys(a).join(","),Error(U(268,a)));return a=Ep(t),a=a===null?null:a.stateNode,a};Xa.flushSync=function(a){return Nr(a)};Xa.hydrate=function(a,t,r){if(!Jl(t))throw Error(U(200));return Ql(null,a,t,!0,r)};Xa.hydrateRoot=function(a,t,r){if(!Bc(a))throw Error(U(405));var i=r!=null&&r.hydratedSources||null,n=!1,l="",s=sf;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=lf(t,null,a,1,r??null,n,!1,l,s),a[zt]=t.current,tn(a),i)for(a=0;a<i.length;a++)r=i[a],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Kl(t)};Xa.render=function(a,t,r){if(!Jl(t))throw Error(U(200));return Ql(null,a,t,!1,r)};Xa.unmountComponentAtNode=function(a){if(!Jl(a))throw Error(U(40));return a._reactRootContainer?(Nr(function(){Ql(null,null,a,!1,function(){a._reactRootContainer=null,a[zt]=null})}),!0):!1};Xa.unstable_batchedUpdates=Dc;Xa.unstable_renderSubtreeIntoContainer=function(a,t,r,i){if(!Jl(r))throw Error(U(200));if(a==null||a._reactInternals===void 0)throw Error(U(38));return Ql(a,t,r,!1,i)};Xa.version="18.3.1-next-f1338f8080-20240426";function of(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(of)}catch(a){console.error(a)}}of(),sp.exports=Xa;var Ug=sp.exports,Au=Ug;Us.createRoot=Au.createRoot,Us.hydrateRoot=Au.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},Dl.apply(this,arguments)}var yr;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(yr||(yr={}));const Pu="popstate";function Gg(a){a===void 0&&(a={});function t(i,n){let{pathname:l,search:s,hash:c}=i.location;return Vo("",{pathname:l,search:s,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(i,n){return typeof n=="string"?n:df(n)}return Kg(t,r,null,a)}function cf(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Hg(){return Math.random().toString(36).substr(2,8)}function Ru(a,t){return{usr:a.state,key:a.key,idx:t}}function Vo(a,t,r,i){return r===void 0&&(r=null),Dl({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof t=="string"?uf(t):t,{state:r,key:t&&t.key||i||Hg()})}function df(a){let{pathname:t="/",search:r="",hash:i=""}=a;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function uf(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substr(r),a=a.substr(0,r));let i=a.indexOf("?");i>=0&&(t.search=a.substr(i),a=a.substr(0,i)),a&&(t.pathname=a)}return t}function Kg(a,t,r,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:l=!1}=i,s=n.history,c=yr.Pop,p=null,h=w();h==null&&(h=0,s.replaceState(Dl({},s.state,{idx:h}),""));function w(){return(s.state||{idx:null}).idx}function m(){c=yr.Pop;let D=w(),y=D==null?null:D-h;h=D,p&&p({action:c,location:_.location,delta:y})}function b(D,y){c=yr.Push;let g=Vo(_.location,D,y);h=w()+1;let d=Ru(g,h),T=_.createHref(g);try{s.pushState(d,"",T)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;n.location.assign(T)}l&&p&&p({action:c,location:_.location,delta:1})}function j(D,y){c=yr.Replace;let g=Vo(_.location,D,y);h=w();let d=Ru(g,h),T=_.createHref(g);s.replaceState(d,"",T),l&&p&&p({action:c,location:_.location,delta:0})}function N(D){let y=n.location.origin!=="null"?n.location.origin:n.location.href,g=typeof D=="string"?D:df(D);return g=g.replace(/ $/,"%20"),cf(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let _={get action(){return c},get location(){return a(n,s)},listen(D){if(p)throw new Error("A history only accepts one active listener");return n.addEventListener(Pu,m),p=D,()=>{n.removeEventListener(Pu,m),p=null}},createHref(D){return t(n,D)},createURL:N,encodeLocation(D){let y=N(D);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:b,replace:j,go(D){return s.go(D)}};return _}var Iu;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Iu||(Iu={}));function Jg(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=a.charAt(r);return i&&i!=="/"?null:a.slice(r)||"/"}const pf=["post","put","patch","delete"];new Set(pf);const Qg=["get",...pf];new Set(Qg);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},qo.apply(this,arguments)}const Xg=f.createContext(null),mf=f.createContext(null);function Yg(){return f.useContext(mf)!=null}function Zg(a,t){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function ey(a){let{basename:t="/",children:r=null,location:i,navigationType:n=yr.Pop,navigator:l,static:s=!1,future:c}=a;Yg()&&cf(!1);let p=t.replace(/^\/*/,"/"),h=f.useMemo(()=>({basename:p,navigator:l,static:s,future:qo({v7_relativeSplatPath:!1},c)}),[p,c,l,s]);typeof i=="string"&&(i=uf(i));let{pathname:w="/",search:m="",hash:b="",state:j=null,key:N="default"}=i,_=f.useMemo(()=>{let D=Jg(w,p);return D==null?null:{location:{pathname:D,search:m,hash:b,state:j,key:N},navigationType:n}},[p,w,m,b,j,N,n]);return _==null?null:f.createElement(Xg.Provider,{value:h},f.createElement(mf.Provider,{children:r,value:_}))}new Promise(()=>{});/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ay="6";try{window.__reactRouterVersion=ay}catch{}const ty="startTransition",Du=Dh[ty];function ry(a){let{basename:t,children:r,future:i,window:n}=a,l=f.useRef();l.current==null&&(l.current=Gg({window:n,v5Compat:!0}));let s=l.current,[c,p]=f.useState({action:s.action,location:s.location}),{v7_startTransition:h}=i||{},w=f.useCallback(m=>{h&&Du?Du(()=>p(m)):p(m)},[p,h]);return f.useLayoutEffect(()=>s.listen(w),[s,w]),f.useEffect(()=>Zg(i),[i]),f.createElement(ey,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:s,future:i})}var zu;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(zu||(zu={}));var Mu;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Mu||(Mu={}));const Nt=Object.create(null);Nt.open="0";Nt.close="1";Nt.ping="2";Nt.pong="3";Nt.message="4";Nt.upgrade="5";Nt.noop="6";const ll=Object.create(null);Object.keys(Nt).forEach(a=>{ll[Nt[a]]=a});const Bo={type:"error",data:"parser error"},ff=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hf=typeof ArrayBuffer=="function",bf=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,Fc=({type:a,data:t},r,i)=>ff&&t instanceof Blob?r?i(t):Ou(t,i):hf&&(t instanceof ArrayBuffer||bf(t))?r?i(t):Ou(new Blob([t]),i):i(Nt[a]+(t||"")),Ou=(a,t)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];t("b"+(i||""))},r.readAsDataURL(a)};function Lu(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let qs;function iy(a,t){if(ff&&a.data instanceof Blob)return a.data.arrayBuffer().then(Lu).then(t);if(hf&&(a.data instanceof ArrayBuffer||bf(a.data)))return t(Lu(a.data));Fc(a,!1,r=>{qs||(qs=new TextEncoder),t(qs.encode(r))})}const Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Li=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<Vu.length;a++)Li[Vu.charCodeAt(a)]=a;const ny=a=>{let t=a.length*.75,r=a.length,i,n=0,l,s,c,p;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);const h=new ArrayBuffer(t),w=new Uint8Array(h);for(i=0;i<r;i+=4)l=Li[a.charCodeAt(i)],s=Li[a.charCodeAt(i+1)],c=Li[a.charCodeAt(i+2)],p=Li[a.charCodeAt(i+3)],w[n++]=l<<2|s>>4,w[n++]=(s&15)<<4|c>>2,w[n++]=(c&3)<<6|p&63;return h},ly=typeof ArrayBuffer=="function",Wc=(a,t)=>{if(typeof a!="string")return{type:"message",data:gf(a,t)};const r=a.charAt(0);return r==="b"?{type:"message",data:sy(a.substring(1),t)}:ll[r]?a.length>1?{type:ll[r],data:a.substring(1)}:{type:ll[r]}:Bo},sy=(a,t)=>{if(ly){const r=ny(a);return gf(r,t)}else return{base64:!0,data:a}},gf=(a,t)=>{switch(t){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},yf="",oy=(a,t)=>{const r=a.length,i=new Array(r);let n=0;a.forEach((l,s)=>{Fc(l,!1,c=>{i[s]=c,++n===r&&t(i.join(yf))})})},cy=(a,t)=>{const r=a.split(yf),i=[];for(let n=0;n<r.length;n++){const l=Wc(r[n],t);if(i.push(l),l.type==="error")break}return i};function dy(){return new TransformStream({transform(a,t){iy(a,r=>{const i=r.length;let n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);const l=new DataView(n.buffer);l.setUint8(0,126),l.setUint16(1,i)}else{n=new Uint8Array(9);const l=new DataView(n.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(i))}a.data&&typeof a.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}let Bs;function Gn(a){return a.reduce((t,r)=>t+r.length,0)}function Hn(a,t){if(a[0].length===t)return a.shift();const r=new Uint8Array(t);let i=0;for(let n=0;n<t;n++)r[n]=a[0][i++],i===a[0].length&&(a.shift(),i=0);return a.length&&i<a[0].length&&(a[0]=a[0].slice(i)),r}function uy(a,t){Bs||(Bs=new TextDecoder);const r=[];let i=0,n=-1,l=!1;return new TransformStream({transform(s,c){for(r.push(s);;){if(i===0){if(Gn(r)<1)break;const p=Hn(r,1);l=(p[0]&128)===128,n=p[0]&127,n<126?i=3:n===126?i=1:i=2}else if(i===1){if(Gn(r)<2)break;const p=Hn(r,2);n=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),i=3}else if(i===2){if(Gn(r)<8)break;const p=Hn(r,8),h=new DataView(p.buffer,p.byteOffset,p.length),w=h.getUint32(0);if(w>Math.pow(2,21)-1){c.enqueue(Bo);break}n=w*Math.pow(2,32)+h.getUint32(4),i=3}else{if(Gn(r)<n)break;const p=Hn(r,n);c.enqueue(Wc(l?p:Bs.decode(p),t)),i=0}if(n===0||n>a){c.enqueue(Bo);break}}}})}const xf=4;function ma(a){if(a)return py(a)}function py(a){for(var t in ma.prototype)a[t]=ma.prototype[t];return a}ma.prototype.on=ma.prototype.addEventListener=function(a,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(t),this};ma.prototype.once=function(a,t){function r(){this.off(a,r),t.apply(this,arguments)}return r.fn=t,this.on(a,r),this};ma.prototype.off=ma.prototype.removeListener=ma.prototype.removeAllListeners=ma.prototype.removeEventListener=function(a,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var i,n=0;n<r.length;n++)if(i=r[n],i===t||i.fn===t){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+a],this};ma.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+a],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,n=r.length;i<n;++i)r[i].apply(this,t)}return this};ma.prototype.emitReserved=ma.prototype.emit;ma.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};ma.prototype.hasListeners=function(a){return!!this.listeners(a).length};const Xl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),rt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),my="arraybuffer";function vf(a,...t){return t.reduce((r,i)=>(a.hasOwnProperty(i)&&(r[i]=a[i]),r),{})}const fy=rt.setTimeout,hy=rt.clearTimeout;function Yl(a,t){t.useNativeTimers?(a.setTimeoutFn=fy.bind(rt),a.clearTimeoutFn=hy.bind(rt)):(a.setTimeoutFn=rt.setTimeout.bind(rt),a.clearTimeoutFn=rt.clearTimeout.bind(rt))}const by=1.33;function gy(a){return typeof a=="string"?yy(a):Math.ceil((a.byteLength||a.size)*by)}function yy(a){let t=0,r=0;for(let i=0,n=a.length;i<n;i++)t=a.charCodeAt(i),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(i++,r+=4);return r}function jf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function xy(a){let t="";for(let r in a)a.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return t}function vy(a){let t={},r=a.split("&");for(let i=0,n=r.length;i<n;i++){let l=r[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class jy extends Error{constructor(t,r,i){super(t),this.description=r,this.context=i,this.type="TransportError"}}class $c extends ma{constructor(t){super(),this.writable=!1,Yl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,i){return super.emitReserved("error",new jy(t,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Wc(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=xy(t);return r.length?"?"+r:""}}class _y extends $c{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};cy(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,oy(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=jf()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let _f=!1;try{_f=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ky=_f;function wy(){}class Ny extends _y{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,r){const i=this.request({method:"POST",data:t});i.on("success",r),i.on("error",(n,l)=>{this.onError("xhr post error",n,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=t}}class wt extends ma{constructor(t,r,i){super(),this.createRequest=t,Yl(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const r=vf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&i.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var n;i.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=wt.requestsCount++,wt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=wy,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete wt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}wt.requestsCount=0;wt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qu);else if(typeof addEventListener=="function"){const a="onpagehide"in rt?"pagehide":"unload";addEventListener(a,qu,!1)}}function qu(){for(let a in wt.requests)wt.requests.hasOwnProperty(a)&&wt.requests[a].abort()}const Cy=function(){const a=kf({xdomain:!1});return a&&a.responseType!==null}();class Sy extends Ny{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Cy&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new wt(kf,this.uri(),t)}}function kf(a){const t=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ky))return new XMLHttpRequest}catch{}if(!t)try{return new rt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const wf=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ey extends $c{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,i=wf?{}:vf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],n=r===t.length-1;Fc(i,this.supportsBinary,l=>{try{this.doWrite(i,l)}catch{}n&&Xl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=jf()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Fs=rt.WebSocket||rt.MozWebSocket;class Ty extends Ey{createSocket(t,r,i){return wf?new Fs(t,r,i):r?new Fs(t,r):new Fs(t)}doWrite(t,r){this.ws.send(r)}}class Ay extends $c{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=uy(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(r).getReader(),n=dy();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const l=()=>{i.read().then(({done:c,value:p})=>{c||(this.onPacket(p),l())}).catch(c=>{})};l();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],n=r===t.length-1;this._writer.write(i).then(()=>{n&&Xl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Py={websocket:Ty,webtransport:Ay,polling:Sy},Ry=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Iy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fo(a){if(a.length>8e3)throw"URI too long";const t=a,r=a.indexOf("["),i=a.indexOf("]");r!=-1&&i!=-1&&(a=a.substring(0,r)+a.substring(r,i).replace(/:/g,";")+a.substring(i,a.length));let n=Ry.exec(a||""),l={},s=14;for(;s--;)l[Iy[s]]=n[s]||"";return r!=-1&&i!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Dy(l,l.path),l.queryKey=zy(l,l.query),l}function Dy(a,t){const r=/\/{2,9}/g,i=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function zy(a,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,l){n&&(r[n]=l)}),r}const Wo=typeof addEventListener=="function"&&typeof removeEventListener=="function",sl=[];Wo&&addEventListener("offline",()=>{sl.forEach(a=>a())},!1);class nr extends ma{constructor(t,r){if(super(),this.binaryType=my,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const i=Fo(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Fo(r.host).host);Yl(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const n=i.prototype.name;this.transports.push(n),this._transportsByName[n]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=vy(this.opts.query)),Wo&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},sl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=xf,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&nr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",nr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const n=this.writeBuffer[i].data;if(n&&(r+=gy(n)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Xl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,n){if(typeof r=="function"&&(n=r,r=void 0),typeof i=="function"&&(n=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:t,data:r,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(nr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Wo&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=sl.indexOf(this._offlineEventListener);i!==-1&&sl.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}nr.protocol=xf;class My extends nr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),i=!1;nr.priorWebsocketSuccess=!1;const n=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!i)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;nr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(w(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=r.name,this.emitReserved("upgradeError",b)}}))};function l(){i||(i=!0,w(),r.close(),r=null)}const s=m=>{const b=new Error("probe error: "+m);b.transport=r.name,l(),this.emitReserved("upgradeError",b)};function c(){s("transport closed")}function p(){s("socket closed")}function h(m){r&&m.name!==r.name&&l()}const w=()=>{r.removeListener("open",n),r.removeListener("error",s),r.removeListener("close",c),this.off("close",p),this.off("upgrading",h)};r.once("open",n),r.once("error",s),r.once("close",c),this.once("close",p),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}let Oy=class extends My{constructor(t,r={}){const i=typeof t=="object"?t:r;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(n=>Py[n]).filter(n=>!!n)),super(t,i)}};function Ly(a,t="",r){let i=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),i=Fo(a)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+t,i.href=i.protocol+"://"+l+(r&&r.port===i.port?"":":"+i.port),i}const Vy=typeof ArrayBuffer=="function",qy=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,Nf=Object.prototype.toString,By=typeof Blob=="function"||typeof Blob<"u"&&Nf.call(Blob)==="[object BlobConstructor]",Fy=typeof File=="function"||typeof File<"u"&&Nf.call(File)==="[object FileConstructor]";function Uc(a){return Vy&&(a instanceof ArrayBuffer||qy(a))||By&&a instanceof Blob||Fy&&a instanceof File}function ol(a,t){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,i=a.length;r<i;r++)if(ol(a[r]))return!0;return!1}if(Uc(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return ol(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&ol(a[r]))return!0;return!1}function Wy(a){const t=[],r=a.data,i=a;return i.data=$o(r,t),i.attachments=t.length,{packet:i,buffers:t}}function $o(a,t){if(!a)return a;if(Uc(a)){const r={_placeholder:!0,num:t.length};return t.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let i=0;i<a.length;i++)r[i]=$o(a[i],t);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=$o(a[i],t));return r}return a}function $y(a,t){return a.data=Uo(a.data,t),delete a.attachments,a}function Uo(a,t){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<t.length)return t[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=Uo(a[r],t);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=Uo(a[r],t));return a}const Uy=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Gy=5;var Te;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(Te||(Te={}));class Hy{constructor(t){this.replacer=t}encode(t){return(t.type===Te.EVENT||t.type===Te.ACK)&&ol(t)?this.encodeAsBinary({type:t.type===Te.EVENT?Te.BINARY_EVENT:Te.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Te.BINARY_EVENT||t.type===Te.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Wy(t),i=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(i),n}}function Bu(a){return Object.prototype.toString.call(a)==="[object Object]"}class Gc extends ma{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const i=r.type===Te.BINARY_EVENT;i||r.type===Te.BINARY_ACK?(r.type=i?Te.EVENT:Te.ACK,this.reconstructor=new Ky(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Uc(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const i={type:Number(t.charAt(0))};if(Te[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Te.BINARY_EVENT||i.type===Te.BINARY_ACK){const l=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const s=t.substring(l,r);if(s!=Number(s)||t.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(s)}if(t.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););i.nsp=t.substring(l,r)}else i.nsp="/";const n=t.charAt(r+1);if(n!==""&&Number(n)==n){const l=r+1;for(;++r;){const s=t.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===t.length)break}i.id=Number(t.substring(l,r+1))}if(t.charAt(++r)){const l=this.tryParse(t.substr(r));if(Gc.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Te.CONNECT:return Bu(r);case Te.DISCONNECT:return r===void 0;case Te.CONNECT_ERROR:return typeof r=="string"||Bu(r);case Te.EVENT:case Te.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Uy.indexOf(r[0])===-1);case Te.ACK:case Te.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ky{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=$y(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Jy=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gc,Encoder:Hy,get PacketType(){return Te},protocol:Gy},Symbol.toStringTag,{value:"Module"}));function mt(a,t,r){return a.on(t,r),function(){a.off(t,r)}}const Qy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cf extends ma{constructor(t,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[mt(t,"open",this.onopen.bind(this)),mt(t,"packet",this.onpacket.bind(this)),mt(t,"error",this.onerror.bind(this)),mt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var i,n,l;if(Qy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const s={type:Te.EVENT,data:r};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const w=this.ids++,m=r.pop();this._registerAckCallback(w,m),s.id=w}const c=(n=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||n===void 0?void 0:n.writable,p=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!c||(p?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,r){var i;const n=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(n===void 0){this.acks[t]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);r.call(this,new Error("operation has timed out"))},n),s=(...c)=>{this.io.clearTimeoutFn(l),r.apply(this,c)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...r){return new Promise((i,n)=>{const l=(s,c)=>s?n(s):i(c);l.withError=!0,r.push(l),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...l)=>i!==this._queue[0]?void 0:(n!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...l)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Te.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Te.EVENT:case Te.BINARY_EVENT:this.onevent(t);break;case Te.ACK:case Te.BINARY_ACK:this.onack(t);break;case Te.DISCONNECT:this.ondisconnect();break;case Te.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let i=!1;return function(...n){i||(i=!0,r.packet({type:Te.ACK,id:t,data:n}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,t.data)}}}function di(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}di.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*a);a=Math.floor(t*10)&1?a+r:a-r}return Math.min(a,this.max)|0};di.prototype.reset=function(){this.attempts=0};di.prototype.setMin=function(a){this.ms=a};di.prototype.setMax=function(a){this.max=a};di.prototype.setJitter=function(a){this.jitter=a};class Go extends ma{constructor(t,r){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Yl(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new di({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const n=r.parser||Jy;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Oy(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=mt(r,"open",function(){i.onopen(),t&&t()}),l=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},s=mt(r,"error",l);if(this._timeout!==!1){const c=this._timeout,p=this.setTimeoutFn(()=>{n(),l(new Error("timeout")),r.close()},c);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(n),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(mt(t,"ping",this.onping.bind(this)),mt(t,"data",this.ondata.bind(this)),mt(t,"error",this.onerror.bind(this)),mt(t,"close",this.onclose.bind(this)),mt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Xl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new Cf(this,t,r),this.nsps[t]=i),i}_destroy(t){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let i=0;i<r.length;i++)this.engine.write(r[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ii={};function cl(a,t){typeof a=="object"&&(t=a,a=void 0),t=t||{};const r=Ly(a,t.path||"/socket.io"),i=r.source,n=r.id,l=r.path,s=Ii[n]&&l in Ii[n].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let p;return c?p=new Go(i,t):(Ii[n]||(Ii[n]=new Go(i,t)),p=Ii[n]),r.query&&!t.query&&(t.query=r.queryKey),p.socket(r.path,t)}Object.assign(cl,{Manager:Go,Socket:Cf,io:cl,connect:cl});const Sf=f.createContext(null),Xy=({children:a})=>{const[t,r]=f.useState(null),[i,n]=f.useState(!1);f.useEffect(()=>{const h=cl({autoConnect:!1,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,transports:["websocket","polling"]});return h.on("connect",()=>{n(!0),console.log("Socket conectado:",h.id)}),h.on("disconnect",()=>{n(!1),console.log("Socket desconectado")}),h.on("connect_error",w=>{console.error("Error de conexin:",w),n(!1)}),r(h),()=>{h.close()}},[]);const l=f.useCallback(()=>{t&&!t.connected&&t.connect()},[t]),s=f.useCallback(()=>{t&&t.connected&&t.disconnect()},[t]),c=f.useCallback((h,w)=>{t&&t.connected&&t.emit(h,w)},[t]),p=f.useCallback((h,w)=>{if(t)return t.on(h,w),()=>t.off(h,w)},[t]);return e.jsx(Sf.Provider,{value:{socket:t,isConnected:i,connect:l,disconnect:s,emit:c,on:p},children:a})},Er=()=>{const a=f.useContext(Sf);if(!a)throw new Error("useSocket debe usarse dentro de SocketProvider");return a},Ws={es:{app_name:"Alqvimia",version:"v2.0",connected:"Conectado",disconnected:"Desconectado",server_active:"Servidor activo",click_to_connect:"Haz clic para conectar",expand_menu:"Expandir men",collapse_menu:"Contraer men",nav_spy:"Element Spy",nav_recorder:"Grabador",nav_workflows:"Workflows",nav_executor:"Ejecutor",nav_code_editor:"Editor de Cdigo",nav_agents:"Agentes",nav_mcp:"MCP Conectores",nav_library:"Biblioteca",nav_ai_dashboard:"IA Dashboard",nav_omnichannel:"Omnicanalidad",nav_videoconference:"Videoconferencia",nav_settings:"Configuraciones",nav_scheduler:"Programador",scheduler_subtitle:"Programa ejecuciones automaticas de tus workflows",scheduler_new:"Nueva Programacion",scheduler_active:"Activas",scheduler_paused:"Pausadas",btn_save:"Guardar",btn_cancel:"Cancelar",btn_delete:"Eliminar",btn_edit:"Editar",btn_new:"Nuevo",btn_import:"Importar",btn_export:"Exportar",btn_close:"Cerrar",btn_confirm:"Confirmar",btn_search:"Buscar",btn_filter:"Filtrar",btn_refresh:"Actualizar",btn_run:"Ejecutar",btn_stop:"Detener",btn_pause:"Pausar",btn_continue:"Continuar",btn_copy:"Copiar",btn_paste:"Pegar",btn_duplicate:"Duplicar",btn_download:"Descargar",btn_upload:"Subir",btn_help:"Ayuda",btn_settings:"Configuracin",btn_back:"Volver",btn_next:"Siguiente",btn_previous:"Anterior",btn_apply:"Aplicar",btn_reset:"Restablecer",btn_test:"Probar",btn_add:"Agregar",btn_remove:"Remover",btn_select:"Seleccionar",btn_select_all:"Seleccionar todo",btn_clear:"Limpiar",btn_view:"Ver",btn_preview:"Vista previa",spy_title:"Element Spy",spy_subtitle:"Inspecciona y captura selectores de elementos web",spy_help_title:"Cmo funciona Element Spy?",spy_help_intro:"Element Spy te permite inspeccionar pginas web y capturar selectores de elementos para usar en tus automatizaciones.",spy_how_to_use:"Cmo usar?",spy_step_1:"Ingresa la URL de la pgina que deseas inspeccionar",spy_step_2:"Selecciona el modo de operacin",spy_step_3:"Haz clic en los elementos para capturar sus selectores",spy_step_4:"Copia el selector que prefieras para usar en tus workflows",spy_modes:"Modos de Operacin",spy_mode_iframe:"Modo Iframe",spy_mode_iframe_desc:"Carga la pgina dentro de Alqvimia. Funciona sin plugins.",spy_mode_iframe_features:"Sin instalacin|Rpido|Limitado por CORS",spy_mode_bookmarklet:"Bookmarklet",spy_mode_bookmarklet_desc:"Arrastra el botn a tus marcadores y salo en cualquier sitio.",spy_mode_bookmarklet_features:"Funciona en cualquier sitio|Sin lmites de CORS|Requiere arrastrar",spy_mode_extension:"Extensin",spy_mode_extension_desc:"Instala la extensin para funcionalidad completa.",spy_mode_extension_features:"Funcionalidad completa|Grabacin avanzada|Requiere instalacin",spy_url_label:"URL a inspeccionar",spy_url_placeholder:"https://ejemplo.com",spy_load_page:"Cargar Pgina",spy_highlight_color:"Color de resaltado",spy_inspector_title:"Inspector de Elementos",spy_no_element:"Haz clic en un elemento de la pgina para inspeccionarlo",spy_element_tag:"Etiqueta",spy_element_id:"ID",spy_element_class:"Clase",spy_element_name:"Name",spy_element_text:"Texto",spy_element_xpath:"XPath",spy_selector_options:"Opciones de Selector",spy_copy_selector:"Copiar",spy_add_to_workflow:"Agregar a Workflow",spy_recent_elements:"Elementos Recientes",spy_drag_bookmarklet:"Arrastra este botn a tu barra de marcadores",wf_title:"Workflow Studio",wf_new:"Nuevo",wf_save:"Guardar",wf_import:"Importar",wf_export:"Exportar",wf_migrate:"Migrar",wf_ai_generate:"IA",wf_code_editor:"Editor",wf_debug:"Debug",wf_actions:"Acciones",wf_properties:"Propiedades",wf_variables:"Variables",wf_search_actions:"Buscar acciones...",wf_drag_here:"Arrastra acciones aqu para construir tu workflow",wf_use_ai:"O usa el generador con IA para crear workflows automticamente",wf_start:"Iniciar",wf_end:"Fin",wf_steps:"pasos",wf_breakpoints:"breakpoints",wf_clipboard:"Portapapeles",wf_debugging:"Depurando...",wf_list_view:"Vista de lista",wf_flow_view:"Vista de flujo",wf_voice_commands:"Comandos de voz",wf_stop_voice:"Detener",wf_load_more_actions:"Cargar ms acciones",wf_save_title:"Guardar Workflow",wf_save_name:"Nombre del Workflow",wf_save_location:"Ubicacin de Guardado",wf_save_local:"Almacenamiento Local",wf_save_local_desc:"Guardado en el navegador",wf_save_file:"Descargar Archivo",wf_save_file_desc:"Archivo .alq en tu PC",wf_save_folder:"Carpeta de Destino",wf_save_new_folder:"Nueva Carpeta",wf_save_folder_name:"Nombre de la nueva carpeta...",wf_save_summary:"Resumen",wf_save_will_save:"Se guardar en:",wf_folder_my_workflows:"Mis Workflows",wf_folder_production:"Produccin",wf_folder_development:"Desarrollo",wf_folder_testing:"Pruebas",wf_folder_templates:"Plantillas",wf_folder_archived:"Archivados",cat_control_flow:"Control de Flujo",cat_dialogs:"Dilogos y Mensajes",cat_variables:"Variables y Datos",cat_text:"Texto y Strings",cat_collections:"Colecciones",cat_web_browser:"Navegador Web",cat_active_directory:"Active Directory",cat_ai:"Inteligencia Artificial",cat_database:"Base de Datos",cat_files:"Archivos y Carpetas",cat_email:"Correo Electrnico",cat_excel:"Excel",cat_pdf:"PDF",cat_rest:"REST / API",cat_sap:"SAP",cat_microsoft365:"Microsoft 365",cat_mouse_keyboard:"Mouse & Keyboard",cat_windows:"Windows / Sistema",cat_ocr_image:"OCR e Imgenes",cat_credentials:"Credenciales",ocr_title:"Configuracin de OCR",ocr_subtitle:"Configura proveedores de reconocimiento ptico de caracteres. Selecciona un motor y configura sus credenciales.",ocr_tesseract:"Tesseract OCR",ocr_tesseract_desc:"Motor OCR de cdigo abierto. Funciona sin conexin a internet.",ocr_free:"GRATUITO",ocr_cloud:"CLOUD",ocr_offline:"Offline",ocr_languages:"idiomas",ocr_open_source:"Open Source",ocr_azure:"Azure Computer Vision",ocr_azure_desc:"OCR empresarial de Microsoft con IA avanzada y alta precisin.",ocr_advanced_ai:"IA Avanzada",ocr_tables_forms:"Tablas/Forms",ocr_handwriting:"Escritura a mano",ocr_google:"Google Cloud Vision",ocr_google_desc:"OCR potente de Google con deteccin de objetos y etiquetas.",ocr_high_speed:"Alta velocidad",ocr_native_pdf:"PDF nativo",ocr_aws:"AWS Textract",ocr_aws_desc:"Extraccin inteligente de texto, tablas y formularios de Amazon.",ocr_invoices:"Facturas",ocr_id_docs:"Documentos ID",ocr_complex_tables:"Tablas complejas",ocr_endpoint:"Endpoint",ocr_api_key:"API Key",ocr_credentials_file:"Archivo de credenciales JSON",ocr_project_id:"Proyecto ID",ocr_access_key:"Access Key ID",ocr_secret_key:"Secret Access Key",ocr_region:"Regin",ocr_language:"Idioma",ocr_primary_language:"Idioma principal",ocr_secondary_language:"Idioma secundario (opcional)",ocr_none:"Ninguno",ocr_image_processing:"Procesamiento de Imagen",ocr_enhance_contrast:"Mejorar contraste automticamente",ocr_fix_skew:"Corregir inclinacin",ocr_remove_noise:"Eliminar ruido de fondo",ocr_binarize:"Binarizar imagen (blanco y negro)",ocr_structure_detection:"Deteccin de Estructuras",ocr_detect_tables:"Detectar tablas",ocr_detect_forms:"Detectar formularios",ocr_detect_handwriting:"Detectar escritura a mano",ocr_detect_barcodes:"Detectar cdigos de barras/QR",ocr_quality:"Calidad y Rendimiento",ocr_confidence:"Umbral de confianza",ocr_resolution:"Resolucin de procesamiento (DPI)",ocr_segmentation:"Modo de segmentacin",ocr_seg_auto:"Automtico",ocr_seg_block:"Bloque nico de texto",ocr_seg_column:"Columna nica",ocr_seg_line:"Lnea nica",ocr_seg_word:"Palabra nica",ocr_seg_sparse:"Texto disperso",ocr_test_config:"Probar configuracin",ocr_test_desc:"Sube una imagen de prueba para verificar que el OCR funciona correctamente.",ocr_test_btn:"Probar OCR",ocr_ready:"Listo para usar",ocr_verify_update:"Verificar/Actualizar",ocr_create_resource:"Crear recurso",ocr_configure_console:"Configurar en consola",ai_title:"Alqvimia IA/ML Center",ai_subtitle:"Automatizacin Inteligente Empresarial",ai_metrics:"Mtricas",ai_configuration:"Configuracin",ai_overview:"Overview",ai_process_mining:"Process Mining",ai_task_mining:"Task Mining",ai_doc_understanding:"Document Understanding",ai_agentic:"Agentic Automation",ai_comm_mining:"Communications Mining",ai_test_suite:"Test Suite",ai_documents_processed:"Documentos Procesados",ai_processes_discovered:"Procesos Descubiertos",ai_tasks_automated:"Tareas Automatizadas",ai_time_saved:"Tiempo Ahorrado",ai_avg_accuracy:"Precisin Promedio",ai_active_agents:"Agentes Activos",ai_modules:"Mdulos de IA/ML",ai_pm_desc:"Descubre y analiza procesos de negocio",ai_tm_desc:"Identifica tareas automatizables",ai_du_desc:"Extrae datos de documentos con IA",ai_aa_desc:"Agentes autnomos inteligentes",ai_cm_desc:"Analiza emails, chats y llamadas",ai_ts_desc:"Pruebas automatizadas con IA",pm_title:"Process Mining",pm_subtitle:"Descubre, analiza y optimiza tus procesos de negocio",pm_import_log:"Importar Log",pm_new_analysis:"Nuevo Anlisis",pm_variants:"variantes",pm_cases_analyzed:"Casos analizados",pm_avg_time:"Tiempo promedio",pm_bottleneck:"Cuello de botella",pm_view_map:"Ver Mapa",pm_optimize:"Optimizar",pm_visualization:"Visualizacin de Procesos",pm_select_process:"Selecciona un proceso para ver su mapa de flujo interactivo",tm_title:"Task Mining",tm_subtitle:"Descubre tareas repetitivas candidatas para automatizacin",tm_start_recording:"Iniciar Grabacin",tm_analyze_tasks:"Analizar Tareas",tm_detected_task:"Tarea Detectada",tm_frequency:"Frecuencia/da",tm_avg_time:"Tiempo Prom.",tm_automatable:"Automatizable",tm_priority:"Prioridad",tm_action:"Accin",tm_automate:"Automatizar",tm_high:"Alta",tm_medium:"Media",tm_low:"Baja",tm_savings_potential:"Potencial de Ahorro Estimado",tm_hours_month:"Horas/mes ahorrables",tm_savings_month:"Ahorro estimado/mes",tm_roi:"ROI estimado",du_title:"Document Understanding (IDP)",du_subtitle:"Procesamiento Inteligente de Documentos con Machine Learning",du_train_model:"Entrenar Modelo",du_process_docs:"Procesar Documentos",du_invoices:"Facturas",du_contracts:"Contratos",du_purchase_orders:"rdenes de Compra",du_forms:"Formularios",du_receipts:"Recibos",du_id_documents:"Documentos ID",du_documents:"documentos",du_accuracy:"precisin",du_pipeline:"Pipeline de Extraccin",du_digitization:"Digitalizacin",du_digitization_desc:"OCR y preprocesamiento",du_classification:"Clasificacin",du_classification_desc:"ML clasifica tipo documento",du_extraction:"Extraccin",du_extraction_desc:"NER extrae campos clave",du_validation:"Validacin",du_validation_desc:"Reglas de negocio y confianza",du_export:"Exportacin",du_export_desc:"Integracin con sistemas",du_extractable_fields:"Campos Extrables (Ejemplo: Factura)",aa_title:"Agentic Automation",aa_subtitle:"Agentes autnomos inteligentes que trabajan por ti",aa_create_agent:"Crear Nuevo Agente",aa_tasks_executed:"Tareas ejecutadas",aa_success_rate:"Tasa de xito",aa_pause:"Pausar",aa_start:"Iniciar",aa_configure:"Configurar",aa_capabilities:"Capacidades de los Agentes",aa_decision_making:"Toma de decisiones",aa_exception_handling:"Manejo de excepciones",aa_continuous_learning:"Aprendizaje continuo",aa_multi_agent:"Colaboracin multi-agente",aa_llm_integration:"Integracin con LLMs",aa_self_optimization:"Auto-optimizacin",cm_title:"Communications Mining",cm_subtitle:"Analiza emails, chats y llamadas para descubrir insights",cm_connect_sources:"Conectar Fuentes",cm_emails:"Emails",cm_chats:"Chats",cm_calls:"Llamadas",cm_sentiment:"Sentimiento",cm_main_topics:"Temas principales",cm_insights:"Insights Descubiertos",ts_title:"Test Suite",ts_subtitle:"Pruebas automatizadas para tus workflows y robots",ts_import_tests:"Importar Tests",ts_run_suite:"Ejecutar Suite",ts_total_tests:"Total Tests",ts_passed:"Pasados",ts_failed:"Fallados",ts_skipped:"Omitidos",ts_unit_tests:"Unit Tests",ts_unit_desc:"Pruebas de acciones individuales",ts_integration_tests:"Integration Tests",ts_integration_desc:"Pruebas de flujos completos",ts_e2e_tests:"E2E Tests",ts_e2e_desc:"Pruebas end-to-end",ts_success_rate:"Tasa de xito",ce_title:"Editor de Cdigo",ce_new_file:"Nuevo archivo",ce_save_file:"Guardar",ce_run_code:"Ejecutar",ce_to_workflow:"A Workflow",ce_ai_commands:"Comando IA",ce_voice:"Voz",ce_stop:"Detener",ce_console:"Consola",ce_clear_console:"Limpiar consola",ce_ai_panel:"Panel de IA",ce_explain:"Explicar",ce_optimize:"Optimizar",ce_refactor:"Refactorizar",ce_debug:"Buscar Bugs",ce_document:"Documentar",ce_test:"Generar Tests",ce_convert:"Convertir",ce_security:"Seguridad",ce_complete:"Completar",ce_fix:"Corregir",ce_lines:"lneas",ce_saved:"Guardado",ce_unsaved:"Sin guardar",ce_listening:"Escuchando...",help_title:"Cmo funciona?",help_close:"Cerrar ayuda",help_got_it:"Entendido",help_learn_more:"Saber ms",help_tips:"Consejos",help_shortcuts:"Atajos de teclado",help_wf_step1_title:"Arrastra acciones",help_wf_step1_desc:"Selecciona acciones del panel izquierdo y arrstralas al rea de trabajo.",help_wf_step2_title:"Configura propiedades",help_wf_step2_desc:"Haz clic en cada accin para configurar sus parmetros en el panel derecho.",help_wf_step3_title:"Conecta el flujo",help_wf_step3_desc:"Las acciones se ejecutan en orden de arriba hacia abajo.",help_wf_step4_title:"Guarda y ejecuta",help_wf_step4_desc:"Guarda tu workflow y ejectalo desde el Ejecutor.",help_wf_tip_voice:"Usa comandos de voz para agregar acciones",help_wf_tip_debug:"Usa F9 para agregar breakpoints",help_wf_tip_ai:"Genera workflows con IA describiendo lo que necesitas",help_ce_step1_title:"Escribe tu cdigo",help_ce_step1_desc:"Usa el editor con resaltado de sintaxis para escribir cdigo.",help_ce_step2_title:"Usa comandos de IA",help_ce_step2_desc:"Presiona Ctrl+I para invocar asistente de IA.",help_ce_step3_title:"Ejecuta y prueba",help_ce_step3_desc:"Ejecuta tu cdigo y ve los resultados en la consola.",help_ce_step4_title:"Exporta a Workflow",help_ce_step4_desc:"Convierte tu cdigo en acciones de workflow.",help_ce_tip_ai:"La IA puede explicar, optimizar y refactorizar cdigo",help_ce_tip_voice:"Dicta cdigo usando comandos de voz",help_ai_step1_title:"Explora los mdulos",help_ai_step1_desc:"Selecciona entre Process Mining, Task Mining, IDP y ms.",help_ai_step2_title:"Analiza datos",help_ai_step2_desc:"Importa logs y documentos para anlisis con IA.",help_ai_step3_title:"Descubre insights",help_ai_step3_desc:"La IA identifica patrones, cuellos de botella y oportunidades.",help_ai_step4_title:"Automatiza",help_ai_step4_desc:"Convierte los insights en workflows automatizados.",help_ai_tip_pm:"Process Mining descubre procesos reales de tus datos",help_ai_tip_idp:"IDP extrae datos de facturas, contratos y ms",help_rec_step1_title:"Inicia grabacin",help_rec_step1_desc:"Haz clic en Grabar para comenzar a capturar tus acciones.",help_rec_step2_title:"Realiza las acciones",help_rec_step2_desc:"Navega y ejecuta las acciones que deseas automatizar.",help_rec_step3_title:"Detn y revisa",help_rec_step3_desc:"Detn la grabacin y revisa los pasos capturados.",help_rec_step4_title:"Genera workflow",help_rec_step4_desc:"Convierte la grabacin en un workflow ejecutable.",help_set_step1_title:"Personaliza tu experiencia",help_set_step1_desc:"Cambia tema, idioma y preferencias visuales.",help_set_step2_title:"Configura integraciones",help_set_step2_desc:"Conecta con servicios externos como IA, OCR y ms.",help_set_step3_title:"Gestiona credenciales",help_set_step3_desc:"Almacena de forma segura tus credenciales.",msg_success:"xito",msg_error:"Error",msg_warning:"Advertencia",msg_info:"Informacin",msg_loading:"Cargando...",msg_saving:"Guardando...",msg_saved:"Guardado exitosamente",msg_deleted:"Eliminado exitosamente",msg_copied:"Copiado al portapapeles",msg_no_data:"No hay datos disponibles",msg_confirm_delete:"Ests seguro de que deseas eliminar?",msg_unsaved_changes:"Tienes cambios sin guardar. Deseas continuar?",lang_spanish:"Espaol",lang_english:"English",lang_portuguese:"Portugus",lang_select:"Seleccionar idioma",rec_connect_first:"Conecta al servidor primero",rec_select_window:"Por favor selecciona una ventana para grabar",rec_target_window:"Ventana Objetivo",rec_no_window:"No se ha seleccionado ninguna ventana. Se grabar en cualquier ventana activa.",rec_no_windows:"No se encontraron ventanas abiertas",rec_start_recording:"Iniciar Grabacin",rec_stop_recording:"Detener",rec_pause:"Pausar",rec_resume:"Reanudar",rec_capture_element:"Capturar Elemento",rec_recorded_actions:"Acciones Grabadas",rec_no_actions:"No hay acciones grabadas",rec_save_workflow:"Guardar como Workflow",rec_clear_recording:"Limpiar",rec_select_window_modal:"Seleccionar Ventana para Grabar",rec_update_list:"Actualizar Lista",rec_windows_found:"ventanas encontradas",rec_searching_windows:"Buscando ventanas abiertas...",rec_no_windows_found:"No se encontraron ventanas abiertas",rec_open_app_refresh:"Abre alguna aplicacin y actualiza la lista",rec_configure_element:"Configurar Elemento Capturado",rec_element_info:"Informacin del Elemento",rec_action_config:"Configuracin de Accin",rec_variable_name:"Nombre de Variable",rec_element_type:"Tipo de Elemento",rec_action_type:"Tipo de Accin",rec_wait_before:"Espera antes (ms)",rec_wait_after:"Espera despus (ms)",rec_capture_image:"Capturar imagen del elemento",rec_description:"Descripcin (opcional)",rec_add_action:"Agregar Accin",rec_workflow_name:"Nombre del Workflow",rec_workflow_desc:"Descripcin",rec_summary:"Resumen",rec_actions_count:"acciones"},en:{app_name:"Alqvimia",version:"v2.0",connected:"Connected",disconnected:"Disconnected",server_active:"Server active",click_to_connect:"Click to connect",expand_menu:"Expand menu",collapse_menu:"Collapse menu",nav_spy:"Element Spy",nav_recorder:"Recorder",nav_workflows:"Workflows",nav_executor:"Executor",nav_code_editor:"Code Editor",nav_agents:"Agents",nav_mcp:"MCP Connectors",nav_library:"Library",nav_ai_dashboard:"AI Dashboard",nav_omnichannel:"Omnichannel",nav_videoconference:"Video Conference",nav_settings:"Settings",nav_scheduler:"Scheduler",scheduler_subtitle:"Schedule automatic workflow executions",scheduler_new:"New Schedule",scheduler_active:"Active",scheduler_paused:"Paused",btn_save:"Save",btn_cancel:"Cancel",btn_delete:"Delete",btn_edit:"Edit",btn_new:"New",btn_import:"Import",btn_export:"Export",btn_close:"Close",btn_confirm:"Confirm",btn_search:"Search",btn_filter:"Filter",btn_refresh:"Refresh",btn_run:"Run",btn_stop:"Stop",btn_pause:"Pause",btn_continue:"Continue",btn_copy:"Copy",btn_paste:"Paste",btn_duplicate:"Duplicate",btn_download:"Download",btn_upload:"Upload",btn_help:"Help",btn_settings:"Settings",btn_back:"Back",btn_next:"Next",btn_previous:"Previous",btn_apply:"Apply",btn_reset:"Reset",btn_test:"Test",btn_add:"Add",btn_remove:"Remove",btn_select:"Select",btn_select_all:"Select all",btn_clear:"Clear",btn_view:"View",btn_preview:"Preview",spy_title:"Element Spy",spy_subtitle:"Inspect and capture web element selectors",spy_help_title:"How does Element Spy work?",spy_help_intro:"Element Spy allows you to inspect web pages and capture element selectors to use in your automations.",spy_how_to_use:"How to use?",spy_step_1:"Enter the URL of the page you want to inspect",spy_step_2:"Select the operation mode",spy_step_3:"Click on elements to capture their selectors",spy_step_4:"Copy your preferred selector to use in your workflows",spy_modes:"Operation Modes",spy_mode_iframe:"Iframe Mode",spy_mode_iframe_desc:"Loads the page within Alqvimia. Works without plugins.",spy_mode_iframe_features:"No installation|Fast|Limited by CORS",spy_mode_bookmarklet:"Bookmarklet",spy_mode_bookmarklet_desc:"Drag the button to your bookmarks and use it on any site.",spy_mode_bookmarklet_features:"Works on any site|No CORS limits|Requires dragging",spy_mode_extension:"Extension",spy_mode_extension_desc:"Install the extension for full functionality.",spy_mode_extension_features:"Full functionality|Advanced recording|Requires installation",spy_url_label:"URL to inspect",spy_url_placeholder:"https://example.com",spy_load_page:"Load Page",spy_highlight_color:"Highlight color",spy_inspector_title:"Element Inspector",spy_no_element:"Click on an element on the page to inspect it",spy_element_tag:"Tag",spy_element_id:"ID",spy_element_class:"Class",spy_element_name:"Name",spy_element_text:"Text",spy_element_xpath:"XPath",spy_selector_options:"Selector Options",spy_copy_selector:"Copy",spy_add_to_workflow:"Add to Workflow",spy_recent_elements:"Recent Elements",spy_drag_bookmarklet:"Drag this button to your bookmarks bar",wf_title:"Workflow Studio",wf_new:"New",wf_save:"Save",wf_import:"Import",wf_export:"Export",wf_migrate:"Migrate",wf_ai_generate:"AI",wf_code_editor:"Editor",wf_debug:"Debug",wf_actions:"Actions",wf_properties:"Properties",wf_variables:"Variables",wf_search_actions:"Search actions...",wf_drag_here:"Drag actions here to build your workflow",wf_use_ai:"Or use the AI generator to create workflows automatically",wf_start:"Start",wf_end:"End",wf_steps:"steps",wf_breakpoints:"breakpoints",wf_clipboard:"Clipboard",wf_debugging:"Debugging...",wf_list_view:"List view",wf_flow_view:"Flow view",wf_voice_commands:"Voice commands",wf_stop_voice:"Stop",wf_load_more_actions:"Load more actions",wf_save_title:"Save Workflow",wf_save_name:"Workflow Name",wf_save_location:"Save Location",wf_save_local:"Local Storage",wf_save_local_desc:"Saved in browser",wf_save_file:"Download File",wf_save_file_desc:".alq file on your PC",wf_save_folder:"Destination Folder",wf_save_new_folder:"New Folder",wf_save_folder_name:"New folder name...",wf_save_summary:"Summary",wf_save_will_save:"Will be saved to:",wf_folder_my_workflows:"My Workflows",wf_folder_production:"Production",wf_folder_development:"Development",wf_folder_testing:"Testing",wf_folder_templates:"Templates",wf_folder_archived:"Archived",cat_control_flow:"Control Flow",cat_dialogs:"Dialogs and Messages",cat_variables:"Variables and Data",cat_text:"Text and Strings",cat_collections:"Collections",cat_web_browser:"Web Browser",cat_active_directory:"Active Directory",cat_ai:"Artificial Intelligence",cat_database:"Database",cat_files:"Files and Folders",cat_email:"Email",cat_excel:"Excel",cat_pdf:"PDF",cat_rest:"REST / API",cat_sap:"SAP",cat_microsoft365:"Microsoft 365",cat_mouse_keyboard:"Mouse & Keyboard",cat_windows:"Windows / System",cat_ocr_image:"OCR and Images",cat_credentials:"Credentials",ocr_title:"OCR Configuration",ocr_subtitle:"Configure optical character recognition providers. Select an engine and set up credentials.",ocr_tesseract:"Tesseract OCR",ocr_tesseract_desc:"Open source OCR engine. Works offline.",ocr_free:"FREE",ocr_cloud:"CLOUD",ocr_offline:"Offline",ocr_languages:"languages",ocr_open_source:"Open Source",ocr_azure:"Azure Computer Vision",ocr_azure_desc:"Microsoft enterprise OCR with advanced AI and high accuracy.",ocr_advanced_ai:"Advanced AI",ocr_tables_forms:"Tables/Forms",ocr_handwriting:"Handwriting",ocr_google:"Google Cloud Vision",ocr_google_desc:"Powerful Google OCR with object and label detection.",ocr_high_speed:"High speed",ocr_native_pdf:"Native PDF",ocr_aws:"AWS Textract",ocr_aws_desc:"Intelligent text, table and form extraction from Amazon.",ocr_invoices:"Invoices",ocr_id_docs:"ID Documents",ocr_complex_tables:"Complex tables",ocr_endpoint:"Endpoint",ocr_api_key:"API Key",ocr_credentials_file:"JSON credentials file",ocr_project_id:"Project ID",ocr_access_key:"Access Key ID",ocr_secret_key:"Secret Access Key",ocr_region:"Region",ocr_language:"Language",ocr_primary_language:"Primary language",ocr_secondary_language:"Secondary language (optional)",ocr_none:"None",ocr_image_processing:"Image Processing",ocr_enhance_contrast:"Auto-enhance contrast",ocr_fix_skew:"Fix skew",ocr_remove_noise:"Remove background noise",ocr_binarize:"Binarize image (black and white)",ocr_structure_detection:"Structure Detection",ocr_detect_tables:"Detect tables",ocr_detect_forms:"Detect forms",ocr_detect_handwriting:"Detect handwriting",ocr_detect_barcodes:"Detect barcodes/QR",ocr_quality:"Quality and Performance",ocr_confidence:"Confidence threshold",ocr_resolution:"Processing resolution (DPI)",ocr_segmentation:"Segmentation mode",ocr_seg_auto:"Automatic",ocr_seg_block:"Single text block",ocr_seg_column:"Single column",ocr_seg_line:"Single line",ocr_seg_word:"Single word",ocr_seg_sparse:"Sparse text",ocr_test_config:"Test configuration",ocr_test_desc:"Upload a test image to verify OCR works correctly.",ocr_test_btn:"Test OCR",ocr_ready:"Ready to use",ocr_verify_update:"Verify/Update",ocr_create_resource:"Create resource",ocr_configure_console:"Configure in console",ai_title:"Alqvimia AI/ML Center",ai_subtitle:"Enterprise Intelligent Automation",ai_metrics:"Metrics",ai_configuration:"Configuration",ai_overview:"Overview",ai_process_mining:"Process Mining",ai_task_mining:"Task Mining",ai_doc_understanding:"Document Understanding",ai_agentic:"Agentic Automation",ai_comm_mining:"Communications Mining",ai_test_suite:"Test Suite",ai_documents_processed:"Documents Processed",ai_processes_discovered:"Processes Discovered",ai_tasks_automated:"Tasks Automated",ai_time_saved:"Time Saved",ai_avg_accuracy:"Average Accuracy",ai_active_agents:"Active Agents",ai_modules:"AI/ML Modules",ai_pm_desc:"Discover and analyze business processes",ai_tm_desc:"Identify automatable tasks",ai_du_desc:"Extract data from documents with AI",ai_aa_desc:"Intelligent autonomous agents",ai_cm_desc:"Analyze emails, chats and calls",ai_ts_desc:"AI-powered automated testing",pm_title:"Process Mining",pm_subtitle:"Discover, analyze and optimize your business processes",pm_import_log:"Import Log",pm_new_analysis:"New Analysis",pm_variants:"variants",pm_cases_analyzed:"Cases analyzed",pm_avg_time:"Average time",pm_bottleneck:"Bottleneck",pm_view_map:"View Map",pm_optimize:"Optimize",pm_visualization:"Process Visualization",pm_select_process:"Select a process to view its interactive flow map",tm_title:"Task Mining",tm_subtitle:"Discover repetitive tasks candidates for automation",tm_start_recording:"Start Recording",tm_analyze_tasks:"Analyze Tasks",tm_detected_task:"Detected Task",tm_frequency:"Frequency/day",tm_avg_time:"Avg Time",tm_automatable:"Automatable",tm_priority:"Priority",tm_action:"Action",tm_automate:"Automate",tm_high:"High",tm_medium:"Medium",tm_low:"Low",tm_savings_potential:"Estimated Savings Potential",tm_hours_month:"Hours/month saveable",tm_savings_month:"Estimated savings/month",tm_roi:"Estimated ROI",du_title:"Document Understanding (IDP)",du_subtitle:"Intelligent Document Processing with Machine Learning",du_train_model:"Train Model",du_process_docs:"Process Documents",du_invoices:"Invoices",du_contracts:"Contracts",du_purchase_orders:"Purchase Orders",du_forms:"Forms",du_receipts:"Receipts",du_id_documents:"ID Documents",du_documents:"documents",du_accuracy:"accuracy",du_pipeline:"Extraction Pipeline",du_digitization:"Digitization",du_digitization_desc:"OCR and preprocessing",du_classification:"Classification",du_classification_desc:"ML classifies document type",du_extraction:"Extraction",du_extraction_desc:"NER extracts key fields",du_validation:"Validation",du_validation_desc:"Business rules and confidence",du_export:"Export",du_export_desc:"System integration",du_extractable_fields:"Extractable Fields (Example: Invoice)",aa_title:"Agentic Automation",aa_subtitle:"Intelligent autonomous agents that work for you",aa_create_agent:"Create New Agent",aa_tasks_executed:"Tasks executed",aa_success_rate:"Success rate",aa_pause:"Pause",aa_start:"Start",aa_configure:"Configure",aa_capabilities:"Agent Capabilities",aa_decision_making:"Decision making",aa_exception_handling:"Exception handling",aa_continuous_learning:"Continuous learning",aa_multi_agent:"Multi-agent collaboration",aa_llm_integration:"LLM integration",aa_self_optimization:"Self-optimization",cm_title:"Communications Mining",cm_subtitle:"Analyze emails, chats and calls to discover insights",cm_connect_sources:"Connect Sources",cm_emails:"Emails",cm_chats:"Chats",cm_calls:"Calls",cm_sentiment:"Sentiment",cm_main_topics:"Main topics",cm_insights:"Discovered Insights",ts_title:"Test Suite",ts_subtitle:"Automated testing for your workflows and robots",ts_import_tests:"Import Tests",ts_run_suite:"Run Suite",ts_total_tests:"Total Tests",ts_passed:"Passed",ts_failed:"Failed",ts_skipped:"Skipped",ts_unit_tests:"Unit Tests",ts_unit_desc:"Individual action tests",ts_integration_tests:"Integration Tests",ts_integration_desc:"Complete flow tests",ts_e2e_tests:"E2E Tests",ts_e2e_desc:"End-to-end tests",ts_success_rate:"Success rate",ce_title:"Code Editor",ce_new_file:"New file",ce_save_file:"Save",ce_run_code:"Run",ce_to_workflow:"To Workflow",ce_ai_commands:"AI Command",ce_voice:"Voice",ce_stop:"Stop",ce_console:"Console",ce_clear_console:"Clear console",ce_ai_panel:"AI Panel",ce_explain:"Explain",ce_optimize:"Optimize",ce_refactor:"Refactor",ce_debug:"Find Bugs",ce_document:"Document",ce_test:"Generate Tests",ce_convert:"Convert",ce_security:"Security",ce_complete:"Complete",ce_fix:"Fix",ce_lines:"lines",ce_saved:"Saved",ce_unsaved:"Unsaved",ce_listening:"Listening...",help_title:"How does it work?",help_close:"Close help",help_got_it:"Got it",help_learn_more:"Learn more",help_tips:"Tips",help_shortcuts:"Keyboard shortcuts",help_wf_step1_title:"Drag actions",help_wf_step1_desc:"Select actions from the left panel and drag them to the workspace.",help_wf_step2_title:"Configure properties",help_wf_step2_desc:"Click on each action to configure its parameters in the right panel.",help_wf_step3_title:"Connect the flow",help_wf_step3_desc:"Actions are executed in order from top to bottom.",help_wf_step4_title:"Save and execute",help_wf_step4_desc:"Save your workflow and run it from the Executor.",help_wf_tip_voice:"Use voice commands to add actions",help_wf_tip_debug:"Use F9 to add breakpoints",help_wf_tip_ai:"Generate workflows with AI by describing what you need",help_ce_step1_title:"Write your code",help_ce_step1_desc:"Use the syntax-highlighted editor to write code.",help_ce_step2_title:"Use AI commands",help_ce_step2_desc:"Press Ctrl+I to invoke the AI assistant.",help_ce_step3_title:"Run and test",help_ce_step3_desc:"Execute your code and see results in the console.",help_ce_step4_title:"Export to Workflow",help_ce_step4_desc:"Convert your code into workflow actions.",help_ce_tip_ai:"AI can explain, optimize and refactor code",help_ce_tip_voice:"Dictate code using voice commands",help_ai_step1_title:"Explore the modules",help_ai_step1_desc:"Select from Process Mining, Task Mining, IDP and more.",help_ai_step2_title:"Analyze data",help_ai_step2_desc:"Import logs and documents for AI analysis.",help_ai_step3_title:"Discover insights",help_ai_step3_desc:"AI identifies patterns, bottlenecks and opportunities.",help_ai_step4_title:"Automate",help_ai_step4_desc:"Convert insights into automated workflows.",help_ai_tip_pm:"Process Mining discovers real processes from your data",help_ai_tip_idp:"IDP extracts data from invoices, contracts and more",help_rec_step1_title:"Start recording",help_rec_step1_desc:"Click Record to start capturing your actions.",help_rec_step2_title:"Perform the actions",help_rec_step2_desc:"Navigate and execute the actions you want to automate.",help_rec_step3_title:"Stop and review",help_rec_step3_desc:"Stop the recording and review the captured steps.",help_rec_step4_title:"Generate workflow",help_rec_step4_desc:"Convert the recording into an executable workflow.",help_set_step1_title:"Customize your experience",help_set_step1_desc:"Change theme, language and visual preferences.",help_set_step2_title:"Configure integrations",help_set_step2_desc:"Connect with external services like AI, OCR and more.",help_set_step3_title:"Manage credentials",help_set_step3_desc:"Securely store your credentials.",msg_success:"Success",msg_error:"Error",msg_warning:"Warning",msg_info:"Information",msg_loading:"Loading...",msg_saving:"Saving...",msg_saved:"Saved successfully",msg_deleted:"Deleted successfully",msg_copied:"Copied to clipboard",msg_no_data:"No data available",msg_confirm_delete:"Are you sure you want to delete?",msg_unsaved_changes:"You have unsaved changes. Do you want to continue?",lang_spanish:"Espaol",lang_english:"English",lang_portuguese:"Portugus",lang_select:"Select language",rec_connect_first:"Connect to server first",rec_select_window:"Please select a window to record",rec_target_window:"Target Window",rec_no_window:"No window selected. Will record on any active window.",rec_no_windows:"No open windows found",rec_start_recording:"Start Recording",rec_stop_recording:"Stop",rec_pause:"Pause",rec_resume:"Resume",rec_capture_element:"Capture Element",rec_recorded_actions:"Recorded Actions",rec_no_actions:"No recorded actions",rec_save_workflow:"Save as Workflow",rec_clear_recording:"Clear",rec_select_window_modal:"Select Window to Record",rec_update_list:"Update List",rec_windows_found:"windows found",rec_searching_windows:"Searching for open windows...",rec_no_windows_found:"No open windows found",rec_open_app_refresh:"Open an application and refresh the list",rec_configure_element:"Configure Captured Element",rec_element_info:"Element Information",rec_action_config:"Action Configuration",rec_variable_name:"Variable Name",rec_element_type:"Element Type",rec_action_type:"Action Type",rec_wait_before:"Wait before (ms)",rec_wait_after:"Wait after (ms)",rec_capture_image:"Capture element image",rec_description:"Description (optional)",rec_add_action:"Add Action",rec_workflow_name:"Workflow Name",rec_workflow_desc:"Description",rec_summary:"Summary",rec_actions_count:"actions"},pt:{app_name:"Alqvimia",version:"v2.0",connected:"Conectado",disconnected:"Desconectado",server_active:"Servidor ativo",click_to_connect:"Clique para conectar",expand_menu:"Expandir menu",collapse_menu:"Recolher menu",nav_spy:"Element Spy",nav_recorder:"Gravador",nav_workflows:"Workflows",nav_executor:"Executor",nav_code_editor:"Editor de Cdigo",nav_agents:"Agentes",nav_mcp:"Conectores MCP",nav_library:"Biblioteca",nav_ai_dashboard:"Painel de IA",nav_omnichannel:"Omnicanalidade",nav_videoconference:"Videoconferncia",nav_settings:"Configuraes",nav_scheduler:"Agendador",scheduler_subtitle:"Agende execues automticas de seus workflows",scheduler_new:"Novo Agendamento",scheduler_active:"Ativos",scheduler_paused:"Pausados",btn_save:"Salvar",btn_cancel:"Cancelar",btn_delete:"Excluir",btn_edit:"Editar",btn_new:"Novo",btn_import:"Importar",btn_export:"Exportar",btn_close:"Fechar",btn_confirm:"Confirmar",btn_search:"Buscar",btn_filter:"Filtrar",btn_refresh:"Atualizar",btn_run:"Executar",btn_stop:"Parar",btn_pause:"Pausar",btn_continue:"Continuar",btn_copy:"Copiar",btn_paste:"Colar",btn_duplicate:"Duplicar",btn_download:"Baixar",btn_upload:"Enviar",btn_help:"Ajuda",btn_settings:"Configuraes",btn_back:"Voltar",btn_next:"Prximo",btn_previous:"Anterior",btn_apply:"Aplicar",btn_reset:"Redefinir",btn_test:"Testar",btn_add:"Adicionar",btn_remove:"Remover",btn_select:"Selecionar",btn_select_all:"Selecionar tudo",btn_clear:"Limpar",btn_view:"Ver",btn_preview:"Pr-visualizar",spy_title:"Element Spy",spy_subtitle:"Inspecione e capture seletores de elementos web",spy_help_title:"Como funciona o Element Spy?",spy_help_intro:"O Element Spy permite inspecionar pginas web e capturar seletores de elementos para usar em suas automaes.",spy_how_to_use:"Como usar?",spy_step_1:"Digite a URL da pgina que deseja inspecionar",spy_step_2:"Selecione o modo de operao",spy_step_3:"Clique nos elementos para capturar seus seletores",spy_step_4:"Copie o seletor de sua preferncia para usar em seus workflows",spy_modes:"Modos de Operao",spy_mode_iframe:"Modo Iframe",spy_mode_iframe_desc:"Carrega a pgina dentro do Alqvimia. Funciona sem plugins.",spy_mode_iframe_features:"Sem instalao|Rpido|Limitado por CORS",spy_mode_bookmarklet:"Bookmarklet",spy_mode_bookmarklet_desc:"Arraste o boto para seus favoritos e use em qualquer site.",spy_mode_bookmarklet_features:"Funciona em qualquer site|Sem limites CORS|Requer arrastar",spy_mode_extension:"Extenso",spy_mode_extension_desc:"Instale a extenso para funcionalidade completa.",spy_mode_extension_features:"Funcionalidade completa|Gravao avanada|Requer instalao",spy_url_label:"URL para inspecionar",spy_url_placeholder:"https://exemplo.com",spy_load_page:"Carregar Pgina",spy_highlight_color:"Cor de destaque",spy_inspector_title:"Inspetor de Elementos",spy_no_element:"Clique em um elemento na pgina para inspecion-lo",spy_element_tag:"Tag",spy_element_id:"ID",spy_element_class:"Classe",spy_element_name:"Nome",spy_element_text:"Texto",spy_element_xpath:"XPath",spy_selector_options:"Opes de Seletor",spy_copy_selector:"Copiar",spy_add_to_workflow:"Adicionar ao Workflow",spy_recent_elements:"Elementos Recentes",spy_drag_bookmarklet:"Arraste este boto para sua barra de favoritos",wf_title:"Workflow Studio",wf_new:"Novo",wf_save:"Salvar",wf_import:"Importar",wf_export:"Exportar",wf_migrate:"Migrar",wf_ai_generate:"IA",wf_code_editor:"Editor",wf_debug:"Debug",wf_actions:"Aes",wf_properties:"Propriedades",wf_variables:"Variveis",wf_search_actions:"Buscar aes...",wf_drag_here:"Arraste aes aqui para construir seu workflow",wf_use_ai:"Ou use o gerador com IA para criar workflows automaticamente",wf_start:"Iniciar",wf_end:"Fim",wf_steps:"passos",wf_breakpoints:"breakpoints",wf_clipboard:"rea de transferncia",wf_debugging:"Depurando...",wf_list_view:"Vista de lista",wf_flow_view:"Vista de fluxo",wf_voice_commands:"Comandos de voz",wf_stop_voice:"Parar",wf_load_more_actions:"Carregar mais aes",wf_save_title:"Salvar Workflow",wf_save_name:"Nome do Workflow",wf_save_location:"Local de Salvamento",wf_save_local:"Armazenamento Local",wf_save_local_desc:"Salvo no navegador",wf_save_file:"Baixar Arquivo",wf_save_file_desc:"Arquivo .alq no seu PC",wf_save_folder:"Pasta de Destino",wf_save_new_folder:"Nova Pasta",wf_save_folder_name:"Nome da nova pasta...",wf_save_summary:"Resumo",wf_save_will_save:"Ser salvo em:",wf_folder_my_workflows:"Meus Workflows",wf_folder_production:"Produo",wf_folder_development:"Desenvolvimento",wf_folder_testing:"Testes",wf_folder_templates:"Modelos",wf_folder_archived:"Arquivados",cat_control_flow:"Controle de Fluxo",cat_dialogs:"Dilogos e Mensagens",cat_variables:"Variveis e Dados",cat_text:"Texto e Strings",cat_collections:"Colees",cat_web_browser:"Navegador Web",cat_active_directory:"Active Directory",cat_ai:"Inteligncia Artificial",cat_database:"Banco de Dados",cat_files:"Arquivos e Pastas",cat_email:"E-mail",cat_excel:"Excel",cat_pdf:"PDF",cat_rest:"REST / API",cat_sap:"SAP",cat_microsoft365:"Microsoft 365",cat_mouse_keyboard:"Mouse e Teclado",cat_windows:"Windows / Sistema",cat_ocr_image:"OCR e Imagens",cat_credentials:"Credenciais",ocr_title:"Configurao de OCR",ocr_subtitle:"Configure provedores de reconhecimento ptico de caracteres. Selecione um motor e configure credenciais.",ocr_tesseract:"Tesseract OCR",ocr_tesseract_desc:"Motor OCR de cdigo aberto. Funciona offline.",ocr_free:"GRATUITO",ocr_cloud:"NUVEM",ocr_offline:"Offline",ocr_languages:"idiomas",ocr_open_source:"Cdigo Aberto",ocr_azure:"Azure Computer Vision",ocr_azure_desc:"OCR empresarial da Microsoft com IA avanada e alta preciso.",ocr_advanced_ai:"IA Avanada",ocr_tables_forms:"Tabelas/Forms",ocr_handwriting:"Escrita manual",ocr_google:"Google Cloud Vision",ocr_google_desc:"OCR poderoso do Google com deteco de objetos e etiquetas.",ocr_high_speed:"Alta velocidade",ocr_native_pdf:"PDF nativo",ocr_aws:"AWS Textract",ocr_aws_desc:"Extrao inteligente de texto, tabelas e formulrios da Amazon.",ocr_invoices:"Faturas",ocr_id_docs:"Documentos de ID",ocr_complex_tables:"Tabelas complexas",ocr_endpoint:"Endpoint",ocr_api_key:"Chave de API",ocr_credentials_file:"Arquivo de credenciais JSON",ocr_project_id:"ID do Projeto",ocr_access_key:"Access Key ID",ocr_secret_key:"Secret Access Key",ocr_region:"Regio",ocr_language:"Idioma",ocr_primary_language:"Idioma principal",ocr_secondary_language:"Idioma secundrio (opcional)",ocr_none:"Nenhum",ocr_image_processing:"Processamento de Imagem",ocr_enhance_contrast:"Melhorar contraste automaticamente",ocr_fix_skew:"Corrigir inclinao",ocr_remove_noise:"Remover rudo de fundo",ocr_binarize:"Binarizar imagem (preto e branco)",ocr_structure_detection:"Deteco de Estruturas",ocr_detect_tables:"Detectar tabelas",ocr_detect_forms:"Detectar formulrios",ocr_detect_handwriting:"Detectar escrita manual",ocr_detect_barcodes:"Detectar cdigos de barras/QR",ocr_quality:"Qualidade e Desempenho",ocr_confidence:"Limite de confiana",ocr_resolution:"Resoluo de processamento (DPI)",ocr_segmentation:"Modo de segmentao",ocr_seg_auto:"Automtico",ocr_seg_block:"Bloco nico de texto",ocr_seg_column:"Coluna nica",ocr_seg_line:"Linha nica",ocr_seg_word:"Palavra nica",ocr_seg_sparse:"Texto esparso",ocr_test_config:"Testar configurao",ocr_test_desc:"Envie uma imagem de teste para verificar se o OCR funciona corretamente.",ocr_test_btn:"Testar OCR",ocr_ready:"Pronto para usar",ocr_verify_update:"Verificar/Atualizar",ocr_create_resource:"Criar recurso",ocr_configure_console:"Configurar no console",ai_title:"Centro de IA/ML Alqvimia",ai_subtitle:"Automao Inteligente Empresarial",ai_metrics:"Mtricas",ai_configuration:"Configurao",ai_overview:"Viso Geral",ai_process_mining:"Process Mining",ai_task_mining:"Task Mining",ai_doc_understanding:"Document Understanding",ai_agentic:"Agentic Automation",ai_comm_mining:"Communications Mining",ai_test_suite:"Test Suite",ai_documents_processed:"Documentos Processados",ai_processes_discovered:"Processos Descobertos",ai_tasks_automated:"Tarefas Automatizadas",ai_time_saved:"Tempo Economizado",ai_avg_accuracy:"Preciso Mdia",ai_active_agents:"Agentes Ativos",ai_modules:"Mdulos de IA/ML",ai_pm_desc:"Descubra e analise processos de negcio",ai_tm_desc:"Identifique tarefas automatizveis",ai_du_desc:"Extraia dados de documentos com IA",ai_aa_desc:"Agentes autnomos inteligentes",ai_cm_desc:"Analise e-mails, chats e chamadas",ai_ts_desc:"Testes automatizados com IA",pm_title:"Process Mining",pm_subtitle:"Descubra, analise e otimize seus processos de negcio",pm_import_log:"Importar Log",pm_new_analysis:"Nova Anlise",pm_variants:"variantes",pm_cases_analyzed:"Casos analisados",pm_avg_time:"Tempo mdio",pm_bottleneck:"Gargalo",pm_view_map:"Ver Mapa",pm_optimize:"Otimizar",pm_visualization:"Visualizao de Processos",pm_select_process:"Selecione um processo para ver seu mapa de fluxo interativo",tm_title:"Task Mining",tm_subtitle:"Descubra tarefas repetitivas candidatas para automao",tm_start_recording:"Iniciar Gravao",tm_analyze_tasks:"Analisar Tarefas",tm_detected_task:"Tarefa Detectada",tm_frequency:"Frequncia/dia",tm_avg_time:"Tempo Mdio",tm_automatable:"Automatizvel",tm_priority:"Prioridade",tm_action:"Ao",tm_automate:"Automatizar",tm_high:"Alta",tm_medium:"Mdia",tm_low:"Baixa",tm_savings_potential:"Potencial de Economia Estimado",tm_hours_month:"Horas/ms economizveis",tm_savings_month:"Economia estimada/ms",tm_roi:"ROI estimado",du_title:"Document Understanding (IDP)",du_subtitle:"Processamento Inteligente de Documentos com Machine Learning",du_train_model:"Treinar Modelo",du_process_docs:"Processar Documentos",du_invoices:"Faturas",du_contracts:"Contratos",du_purchase_orders:"Ordens de Compra",du_forms:"Formulrios",du_receipts:"Recibos",du_id_documents:"Documentos de ID",du_documents:"documentos",du_accuracy:"preciso",du_pipeline:"Pipeline de Extrao",du_digitization:"Digitalizao",du_digitization_desc:"OCR e pr-processamento",du_classification:"Classificao",du_classification_desc:"ML classifica tipo de documento",du_extraction:"Extrao",du_extraction_desc:"NER extrai campos-chave",du_validation:"Validao",du_validation_desc:"Regras de negcio e confiana",du_export:"Exportao",du_export_desc:"Integrao com sistemas",du_extractable_fields:"Campos Extraveis (Exemplo: Fatura)",aa_title:"Agentic Automation",aa_subtitle:"Agentes autnomos inteligentes que trabalham por voc",aa_create_agent:"Criar Novo Agente",aa_tasks_executed:"Tarefas executadas",aa_success_rate:"Taxa de sucesso",aa_pause:"Pausar",aa_start:"Iniciar",aa_configure:"Configurar",aa_capabilities:"Capacidades dos Agentes",aa_decision_making:"Tomada de deciso",aa_exception_handling:"Tratamento de excees",aa_continuous_learning:"Aprendizado contnuo",aa_multi_agent:"Colaborao multi-agente",aa_llm_integration:"Integrao com LLMs",aa_self_optimization:"Auto-otimizao",cm_title:"Communications Mining",cm_subtitle:"Analise e-mails, chats e chamadas para descobrir insights",cm_connect_sources:"Conectar Fontes",cm_emails:"E-mails",cm_chats:"Chats",cm_calls:"Chamadas",cm_sentiment:"Sentimento",cm_main_topics:"Tpicos principais",cm_insights:"Insights Descobertos",ts_title:"Test Suite",ts_subtitle:"Testes automatizados para seus workflows e robs",ts_import_tests:"Importar Testes",ts_run_suite:"Executar Suite",ts_total_tests:"Total de Testes",ts_passed:"Aprovados",ts_failed:"Reprovados",ts_skipped:"Ignorados",ts_unit_tests:"Testes Unitrios",ts_unit_desc:"Testes de aes individuais",ts_integration_tests:"Testes de Integrao",ts_integration_desc:"Testes de fluxos completos",ts_e2e_tests:"Testes E2E",ts_e2e_desc:"Testes ponta a ponta",ts_success_rate:"Taxa de sucesso",ce_title:"Editor de Cdigo",ce_new_file:"Novo arquivo",ce_save_file:"Salvar",ce_run_code:"Executar",ce_to_workflow:"Para Workflow",ce_ai_commands:"Comando IA",ce_voice:"Voz",ce_stop:"Parar",ce_console:"Console",ce_clear_console:"Limpar console",ce_ai_panel:"Painel de IA",ce_explain:"Explicar",ce_optimize:"Otimizar",ce_refactor:"Refatorar",ce_debug:"Buscar Bugs",ce_document:"Documentar",ce_test:"Gerar Testes",ce_convert:"Converter",ce_security:"Segurana",ce_complete:"Completar",ce_fix:"Corrigir",ce_lines:"linhas",ce_saved:"Salvo",ce_unsaved:"No salvo",ce_listening:"Ouvindo...",help_title:"Como funciona?",help_close:"Fechar ajuda",help_got_it:"Entendi",help_learn_more:"Saiba mais",help_tips:"Dicas",help_shortcuts:"Atalhos de teclado",help_wf_step1_title:"Arraste aes",help_wf_step1_desc:"Selecione aes do painel esquerdo e arraste-as para a rea de trabalho.",help_wf_step2_title:"Configure propriedades",help_wf_step2_desc:"Clique em cada ao para configurar seus parmetros no painel direito.",help_wf_step3_title:"Conecte o fluxo",help_wf_step3_desc:"As aes so executadas em ordem de cima para baixo.",help_wf_step4_title:"Salve e execute",help_wf_step4_desc:"Salve seu workflow e execute-o no Executor.",help_wf_tip_voice:"Use comandos de voz para adicionar aes",help_wf_tip_debug:"Use F9 para adicionar breakpoints",help_wf_tip_ai:"Gere workflows com IA descrevendo o que voc precisa",help_ce_step1_title:"Escreva seu cdigo",help_ce_step1_desc:"Use o editor com destaque de sintaxe para escrever cdigo.",help_ce_step2_title:"Use comandos de IA",help_ce_step2_desc:"Pressione Ctrl+I para invocar o assistente de IA.",help_ce_step3_title:"Execute e teste",help_ce_step3_desc:"Execute seu cdigo e veja os resultados no console.",help_ce_step4_title:"Exporte para Workflow",help_ce_step4_desc:"Converta seu cdigo em aes de workflow.",help_ce_tip_ai:"A IA pode explicar, otimizar e refatorar cdigo",help_ce_tip_voice:"Dite cdigo usando comandos de voz",help_ai_step1_title:"Explore os mdulos",help_ai_step1_desc:"Selecione entre Process Mining, Task Mining, IDP e mais.",help_ai_step2_title:"Analise dados",help_ai_step2_desc:"Importe logs e documentos para anlise com IA.",help_ai_step3_title:"Descubra insights",help_ai_step3_desc:"A IA identifica padres, gargalos e oportunidades.",help_ai_step4_title:"Automatize",help_ai_step4_desc:"Converta os insights em workflows automatizados.",help_ai_tip_pm:"Process Mining descobre processos reais dos seus dados",help_ai_tip_idp:"IDP extrai dados de faturas, contratos e mais",help_rec_step1_title:"Inicie gravao",help_rec_step1_desc:"Clique em Gravar para comear a capturar suas aes.",help_rec_step2_title:"Realize as aes",help_rec_step2_desc:"Navegue e execute as aes que deseja automatizar.",help_rec_step3_title:"Pare e revise",help_rec_step3_desc:"Pare a gravao e revise os passos capturados.",help_rec_step4_title:"Gere workflow",help_rec_step4_desc:"Converta a gravao em um workflow executvel.",help_set_step1_title:"Personalize sua experincia",help_set_step1_desc:"Mude tema, idioma e preferncias visuais.",help_set_step2_title:"Configure integraes",help_set_step2_desc:"Conecte com servios externos como IA, OCR e mais.",help_set_step3_title:"Gerencie credenciais",help_set_step3_desc:"Armazene suas credenciais de forma segura.",msg_success:"Sucesso",msg_error:"Erro",msg_warning:"Aviso",msg_info:"Informao",msg_loading:"Carregando...",msg_saving:"Salvando...",msg_saved:"Salvo com sucesso",msg_deleted:"Excludo com sucesso",msg_copied:"Copiado para a rea de transferncia",msg_no_data:"Nenhum dado disponvel",msg_confirm_delete:"Tem certeza de que deseja excluir?",msg_unsaved_changes:"Voc tem alteraes no salvas. Deseja continuar?",lang_spanish:"Espaol",lang_english:"English",lang_portuguese:"Portugus",lang_select:"Selecionar idioma",rec_connect_first:"Conecte-se ao servidor primeiro",rec_select_window:"Por favor selecione uma janela para gravar",rec_target_window:"Janela Alvo",rec_no_window:"Nenhuma janela selecionada. Gravar em qualquer janela ativa.",rec_no_windows:"Nenhuma janela aberta encontrada",rec_start_recording:"Iniciar Gravao",rec_stop_recording:"Parar",rec_pause:"Pausar",rec_resume:"Retomar",rec_capture_element:"Capturar Elemento",rec_recorded_actions:"Aes Gravadas",rec_no_actions:"Nenhuma ao gravada",rec_save_workflow:"Salvar como Workflow",rec_clear_recording:"Limpar",rec_select_window_modal:"Selecionar Janela para Gravar",rec_update_list:"Atualizar Lista",rec_windows_found:"janelas encontradas",rec_searching_windows:"Buscando janelas abertas...",rec_no_windows_found:"Nenhuma janela aberta encontrada",rec_open_app_refresh:"Abra um aplicativo e atualize a lista",rec_configure_element:"Configurar Elemento Capturado",rec_element_info:"Informao do Elemento",rec_action_config:"Configurao de Ao",rec_variable_name:"Nome da Varivel",rec_element_type:"Tipo de Elemento",rec_action_type:"Tipo de Ao",rec_wait_before:"Espera antes (ms)",rec_wait_after:"Espera depois (ms)",rec_capture_image:"Capturar imagem do elemento",rec_description:"Descrio (opcional)",rec_add_action:"Adicionar Ao",rec_workflow_name:"Nome do Workflow",rec_workflow_desc:"Descrio",rec_summary:"Resumo",rec_actions_count:"aes"}},Ef=f.createContext();function Yy({children:a}){const[t,r]=f.useState(()=>{try{const s=localStorage.getItem("alqvimia_language");return console.log("[Language] Idioma cargado:",s||"es (default)"),s||"es"}catch(s){return console.warn("[Language] Error leyendo localStorage:",s),"es"}});f.useEffect(()=>{try{localStorage.setItem("alqvimia_language",t),document.documentElement.lang=t,console.log("[Language] Idioma guardado en localStorage:",t)}catch(s){console.warn("[Language] Error guardando en localStorage:",s)}},[t]);const i=s=>{var c;return((c=Ws[t])==null?void 0:c[s])||Ws.es[s]||s},n=s=>{Ws[s]&&(console.log("[Language] Cambiando idioma de",t,"a",s),r(s))},l=[{code:"es",name:"Espaol",flag:""},{code:"en",name:"English",flag:""},{code:"pt",name:"Portugus",flag:""}];return e.jsx(Ef.Provider,{value:{language:t,t:i,changeLanguage:n,availableLanguages:l},children:a})}function Ta(){const a=f.useContext(Ef);if(!a)throw new Error("useLanguage must be used within a LanguageProvider");return a}function Zy(){const{language:a,changeLanguage:t,availableLanguages:r,t:i}=Ta(),[n,l]=f.useState(!1),s=f.useRef(null),c=r.find(p=>p.code===a);return f.useEffect(()=>{const p=h=>{s.current&&!s.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),e.jsxs("div",{className:"language-selector",ref:s,children:[e.jsxs("button",{className:"language-btn",onClick:()=>l(!n),title:i("lang_select"),children:[e.jsx("span",{className:"lang-flag",children:c==null?void 0:c.flag}),e.jsx("span",{className:"lang-code",children:a.toUpperCase()}),e.jsx("i",{className:`fas fa-chevron-${n?"up":"down"}`})]}),n&&e.jsxs("div",{className:"language-dropdown",children:[e.jsxs("div",{className:"language-dropdown-header",children:[e.jsx("i",{className:"fas fa-globe"}),e.jsx("span",{children:i("lang_select")})]}),r.map(p=>e.jsxs("button",{className:`language-option ${a===p.code?"active":""}`,onClick:()=>{t(p.code),l(!1)},children:[e.jsx("span",{className:"lang-flag",children:p.flag}),e.jsx("span",{className:"lang-name",children:p.name}),a===p.code&&e.jsx("i",{className:"fas fa-check"})]},p.code))]})]})}function Fu(){const{t:a}=Ta(),[t,r]=f.useState("https://www.google.com"),[i,n]=f.useState(!1),[l,s]=f.useState({tag:"",id:"",className:"",name:"",text:"",href:"",src:"",type:"",value:"",xpath:"",cssSelector:""}),[c,p]=f.useState([]),[h,w]=f.useState("iframe"),[m,b]=f.useState(!1),[j,N]=f.useState(!1),[_,D]=f.useState([]),[y,g]=f.useState("#ff6b6b"),[d,T]=f.useState(!0),{socket:z,isConnected:q}=Er(),P=f.useRef(null),[L,te]=f.useState([]),[X,O]=f.useState(null),[be,me]=f.useState(!1),[H,Z]=f.useState(null),ne=4e3,ye=`javascript:(function(){
    var s=document.createElement('script');
    s.src='http://${window.location.hostname}:${ne}/spy-injector.js';
    s.onload=function(){
      var ws=new WebSocket('ws://${window.location.hostname}:${ne}');
      ws.onopen=function(){console.log('Alqvimia Spy conectado')};
      ws.onmessage=function(e){console.log('Mensaje:',e.data)};
      window.AlqvimiaSpyWS=ws;
    };
    document.body.appendChild(s);
  })();`,B=M=>{const Q=[];if(M.id&&Q.push({type:"ID",value:`#${M.id}`,priority:1}),M.cssSelector&&Q.push({type:"CSS",value:M.cssSelector,priority:2}),M.className){const se=M.className.split(" ").filter(ue=>ue.trim());se.length>0&&Q.push({type:"Class",value:`.${se.join(".")}`,priority:3})}if(M.name&&Q.push({type:"Name",value:`[name="${M.name}"]`,priority:4}),M.xpath&&Q.push({type:"XPath",value:M.xpath,priority:5}),M.dataTestId&&Q.push({type:"Data-TestId",value:`[data-testid="${M.dataTestId}"]`,priority:1}),M.tag){let se=M.tag.toLowerCase();M.type&&(se+=`[type="${M.type}"]`),M.href&&(se+=`[href="${M.href}"]`),Q.push({type:"Tag+Attr",value:se,priority:6})}return Q.sort((se,ue)=>se.priority-ue.priority)};f.useEffect(()=>{const M=Q=>{if(Q.data&&Q.data.type==="ALQVIMIA_ELEMENT_SELECTED"){const se=Q.data.element;s(se),p(B(se)),n(!0),D(ue=>[se,...ue.slice(0,9)])}};return window.addEventListener("message",M),()=>window.removeEventListener("message",M)},[]),f.useEffect(()=>{z&&z.on("element-selected",M=>{s(M),p(B(M)),n(!0),D(Q=>[M,...Q.slice(0,9)])})},[z]);const G=async()=>{me(!0),Z(null);try{const Q=await(await fetch("http://localhost:4000/api/windows")).json();Q.success?te(Q.windows||[]):Z(Q.error||"Error al obtener ventanas")}catch(M){console.error("Error fetching windows:",M),Z("No se pudo conectar al servidor")}finally{me(!1)}};f.useEffect(()=>{h==="desktop"&&G()},[h]);const K=M=>{const Q={browser:"fa-globe",editor:"fa-code",explorer:"fa-folder",terminal:"fa-terminal",office:"fa-file-alt",application:"fa-window-maximize"};return Q[M]||Q.application},S=()=>{if(h==="iframe")b(!0);else if(h==="bookmarklet")N(!0);else if(h==="extension"){if(!q){alert("Conecta al servidor primero para usar el modo Extension");return}z&&(z.emit("launch-spy",{url:t}),b(!0))}},J=()=>{b(!1),h==="extension"&&z&&z.emit("stop-spy")},x=()=>{if(c.length>0){const M={type:"element_interaction",element:l,selectors:c,createdAt:new Date().toISOString()},Q=JSON.parse(localStorage.getItem("alqvimia_spy_elements")||"[]");Q.push(M),localStorage.setItem("alqvimia_spy_elements",JSON.stringify(Q)),alert("Elemento agregado a Workflow")}},W=M=>{var se;navigator.clipboard.writeText(M||((se=c[0])==null?void 0:se.value)||"");const Q=document.activeElement;if(Q){const ue=Q.innerHTML;Q.innerHTML='<i class="fas fa-check"></i> Copiado!',setTimeout(()=>Q.innerHTML=ue,1500)}},Y=()=>{const M=c.map(Q=>`${Q.type}: ${Q.value}`).join(`
`);navigator.clipboard.writeText(M)},fe=`
    <script>
      document.addEventListener('mouseover', function(e) {
        e.target.style.outline = '2px solid ${y}';
        e.target.style.outlineOffset = '2px';
      });
      document.addEventListener('mouseout', function(e) {
        e.target.style.outline = '';
        e.target.style.outlineOffset = '';
      });
      document.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();

        var elem = e.target;
        var xpath = '';
        var current = elem;
        while (current && current.nodeType === 1) {
          var index = 1;
          var sibling = current.previousSibling;
          while (sibling) {
            if (sibling.nodeType === 1 && sibling.tagName === current.tagName) index++;
            sibling = sibling.previousSibling;
          }
          xpath = '/' + current.tagName.toLowerCase() + '[' + index + ']' + xpath;
          current = current.parentNode;
        }

        var cssSelector = '';
        if (elem.id) cssSelector = '#' + elem.id;
        else if (elem.className) cssSelector = elem.tagName.toLowerCase() + '.' + elem.className.split(' ').join('.');
        else cssSelector = elem.tagName.toLowerCase();

        window.parent.postMessage({
          type: 'ALQVIMIA_ELEMENT_SELECTED',
          element: {
            tag: elem.tagName,
            id: elem.id || '',
            className: elem.className || '',
            name: elem.name || '',
            text: elem.innerText?.substring(0, 100) || '',
            href: elem.href || '',
            src: elem.src || '',
            type: elem.type || '',
            value: elem.value || '',
            xpath: xpath,
            cssSelector: cssSelector,
            dataTestId: elem.dataset?.testid || ''
          }
        }, '*');
      }, true);
    <\/script>
  `;return e.jsxs("div",{className:"view active",id:"spy-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-search"})," ",a("spy_title")]}),e.jsx("p",{children:a("spy_subtitle")}),e.jsxs("button",{className:"btn btn-sm btn-secondary help-btn",onClick:()=>N(!j),children:[e.jsx("i",{className:"fas fa-question-circle"})," ",a("help_title")]})]}),j&&e.jsxs("div",{className:"spy-help-panel",children:[e.jsxs("div",{className:"help-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-info-circle"})," ",a("spy_help_title")]}),e.jsx("button",{onClick:()=>N(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"help-content",children:[e.jsx("p",{children:a("spy_help_intro")}),e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-cogs"})," ",a("spy_modes")]}),e.jsxs("div",{className:"help-modes",children:[e.jsxs("div",{className:"help-mode",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-window-maximize"})," ",a("spy_mode_iframe")]}),e.jsx("p",{children:a("spy_mode_iframe_desc")}),e.jsx("ul",{children:a("spy_mode_iframe_features").split("|").map((M,Q)=>e.jsx("li",{children:M},Q))})]}),e.jsxs("div",{className:"help-mode",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-bookmark"})," ",a("spy_mode_bookmarklet")]}),e.jsx("p",{children:a("spy_mode_bookmarklet_desc")}),e.jsxs("div",{className:"bookmarklet-container",children:[e.jsxs("a",{href:ye,className:"bookmarklet-btn",onClick:M=>M.preventDefault(),draggable:"true",children:[e.jsx("i",{className:"fas fa-magic"})," Alqvimia Spy"]}),e.jsx("small",{children:a("spy_drag_bookmarklet")})]})]}),e.jsxs("div",{className:"help-mode",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-plug"})," ",a("spy_mode_extension")]}),e.jsx("p",{children:a("spy_mode_extension_desc")}),e.jsx("ul",{children:a("spy_mode_extension_features").split("|").map((M,Q)=>e.jsx("li",{children:M},Q))})]})]}),e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-mouse-pointer"})," ",a("spy_how_to_use")]}),e.jsxs("ol",{children:[e.jsx("li",{children:a("spy_step_1")}),e.jsx("li",{children:a("spy_step_2")}),e.jsx("li",{children:a("spy_step_3")}),e.jsx("li",{children:a("spy_step_4")})]})]})]}),e.jsxs("div",{className:"spy-tools",children:[e.jsxs("div",{className:"spy-config-row",children:[e.jsxs("div",{className:"tool-group url-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-globe"})," ",a("spy_url_label"),":"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",placeholder:a("spy_url_placeholder"),value:t,onChange:M=>r(M.target.value)}),m?e.jsxs("button",{className:"btn btn-danger",onClick:J,children:[e.jsx("i",{className:"fas fa-stop"})," ",a("btn_stop")]}):e.jsxs("button",{className:"btn btn-primary",onClick:S,children:[e.jsx("i",{className:"fas fa-rocket"})," ",a("spy_load_page")]})]})]}),e.jsxs("div",{className:"tool-group mode-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-cog"})," ",a("spy_modes"),":"]}),e.jsxs("div",{className:"mode-selector",children:[e.jsxs("button",{className:`mode-btn ${h==="iframe"?"active":""}`,onClick:()=>w("iframe"),title:a("spy_mode_iframe_desc"),children:[e.jsx("i",{className:"fas fa-window-maximize"}),e.jsx("span",{children:"Iframe"})]}),e.jsxs("button",{className:`mode-btn ${h==="bookmarklet"?"active":""}`,onClick:()=>{w("bookmarklet"),N(!0)},title:a("spy_mode_bookmarklet_desc"),children:[e.jsx("i",{className:"fas fa-bookmark"}),e.jsx("span",{children:"Bookmarklet"})]}),e.jsxs("button",{className:`mode-btn ${h==="extension"?"active":""}`,onClick:()=>w("extension"),title:a("spy_mode_extension_desc"),disabled:!q,children:[e.jsx("i",{className:"fas fa-plug"}),e.jsx("span",{children:"Extension"}),!q&&e.jsxs("small",{children:["(",a("disconnected"),")"]})]}),e.jsxs("button",{className:`mode-btn ${h==="desktop"?"active":""}`,onClick:()=>w("desktop"),title:a("spy_mode_desktop_desc")||"Espiar ventanas de Windows",children:[e.jsx("i",{className:"fas fa-desktop"}),e.jsx("span",{children:"Desktop"})]})]})]}),e.jsxs("div",{className:"tool-group options-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-palette"})," ",a("spy_highlight_color"),":"]}),e.jsx("input",{type:"color",value:y,onChange:M=>g(M.target.value),title:a("spy_highlight_color")})]})]}),h==="desktop"&&e.jsxs("div",{className:"windows-selector-panel",children:[e.jsxs("div",{className:"windows-panel-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-desktop"})," ",a("spy_windows_title")||"Ventanas de Windows"]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:G,disabled:be,children:[e.jsx("i",{className:`fas fa-sync ${be?"fa-spin":""}`}),a("btn_refresh")||"Actualizar"]})]}),H&&e.jsxs("div",{className:"windows-error",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("span",{children:H})]}),be?e.jsxs("div",{className:"windows-loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("span",{children:a("loading")||"Cargando ventanas..."})]}):e.jsx("div",{className:"windows-grid",children:L.length===0?e.jsxs("div",{className:"windows-empty",children:[e.jsx("i",{className:"fas fa-window-restore"}),e.jsx("p",{children:a("spy_no_windows")||"No se encontraron ventanas abiertas"})]}):L.map(M=>e.jsxs("div",{className:`window-card ${(X==null?void 0:X.id)===M.id?"selected":""}`,onClick:()=>O(M),children:[e.jsx("div",{className:"window-icon",children:e.jsx("i",{className:`fas ${K(M.type)}`})}),e.jsxs("div",{className:"window-info",children:[e.jsx("div",{className:"window-title",title:M.title,children:M.title.length>40?M.title.substring(0,40)+"...":M.title}),e.jsxs("div",{className:"window-process",children:[e.jsx("span",{className:`window-type type-${M.type}`,children:M.type}),e.jsx("span",{className:"window-handle",children:M.processName})]})]}),(X==null?void 0:X.id)===M.id&&e.jsx("div",{className:"window-selected-badge",children:e.jsx("i",{className:"fas fa-check"})})]},M.id))}),X&&e.jsxs("div",{className:"selected-window-info",children:[e.jsxs("div",{className:"selected-window-details",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-window-maximize"})," ",a("spy_selected_window")||"Ventana Seleccionada"]}),e.jsxs("div",{className:"detail-row",children:[e.jsxs("span",{className:"detail-label",children:[a("spy_window_title")||"Ttulo",":"]}),e.jsx("span",{className:"detail-value",children:X.title})]}),e.jsxs("div",{className:"detail-row",children:[e.jsxs("span",{className:"detail-label",children:[a("spy_window_process")||"Proceso",":"]}),e.jsx("span",{className:"detail-value",children:X.processName})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Handle:"}),e.jsx("span",{className:"detail-value code",children:X.handle})]})]}),e.jsxs("div",{className:"selected-window-actions",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>{z&&z.emit("spy:start",{targetWindow:X}),b(!0)},children:[e.jsx("i",{className:"fas fa-crosshairs"})," ",a("spy_start_capture")||"Iniciar Captura"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>{navigator.clipboard.writeText(JSON.stringify(X,null,2))},children:[e.jsx("i",{className:"fas fa-copy"})," ",a("btn_copy")||"Copiar"," Info"]})]})]}),e.jsxs("div",{className:"windows-tip",children:[e.jsx("i",{className:"fas fa-info-circle"}),e.jsx("span",{children:a("spy_desktop_tip")||"Selecciona una ventana para capturar elementos de aplicaciones Windows (no solo navegadores)."})]})]}),m&&h==="iframe"&&e.jsxs("div",{className:"spy-iframe-container",children:[e.jsxs("div",{className:"iframe-toolbar",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-globe"})," ",t]}),e.jsxs("div",{className:"iframe-actions",children:[e.jsx("button",{onClick:()=>{var M,Q;return(Q=(M=P.current)==null?void 0:M.contentWindow)==null?void 0:Q.location.reload()},title:"Recargar",children:e.jsx("i",{className:"fas fa-sync"})}),e.jsx("button",{onClick:()=>window.open(t,"_blank"),title:"Abrir en nueva pestaa",children:e.jsx("i",{className:"fas fa-external-link-alt"})})]})]}),e.jsx("iframe",{ref:P,srcDoc:`
                <!DOCTYPE html>
                <html>
                <head>
                  <base href="${t}">
                  <style>
                    * { cursor: crosshair !important; }
                    body { margin: 0; padding: 0; }
                  </style>
                </head>
                <body>
                  <div style="display:flex;align-items:center;justify-content:center;height:100vh;background:#1e293b;color:#e2e8f0;flex-direction:column;gap:1rem;">
                    <i class="fas fa-spinner fa-spin" style="font-size:2rem;"></i>
                    <p>Cargando pgina...</p>
                    <p style="font-size:0.8rem;color:#94a3b8;">Nota: Algunos sitios bloquean iframes por seguridad.<br/>Usa el modo Bookmarklet si no carga.</p>
                  </div>
                  ${fe}
                </body>
                </html>
              `,className:"spy-iframe",sandbox:"allow-same-origin allow-scripts allow-forms"}),e.jsxs("div",{className:"iframe-note",children:[e.jsx("i",{className:"fas fa-info-circle"}),"Si la pgina no carga correctamente, algunos sitios bloquean iframes. Usa el modo ",e.jsx("strong",{children:"Bookmarklet"}),"."]})]}),!m&&e.jsxs("div",{className:"spy-features",children:[e.jsxs("div",{className:"feature-card",children:[e.jsx("i",{className:"fas fa-crosshairs"}),e.jsx("h3",{children:"Selector Picker"}),e.jsx("p",{children:"Haz clic en cualquier elemento para obtener su selector automticamente"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("i",{className:"fas fa-code"}),e.jsx("h3",{children:"Mltiples Selectores"}),e.jsx("p",{children:"CSS, XPath, ID, Class, Name, Data-TestId y ms"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("i",{className:"fas fa-eye"}),e.jsx("h3",{children:"Sin Plugins"}),e.jsx("p",{children:"Funciona directamente en el navegador sin extensiones"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("h3",{children:"Integracin Workflow"}),e.jsx("p",{children:"Agrega elementos directamente a tus flujos de automatizacin"})]})]}),i&&e.jsxs("div",{className:"element-inspector",children:[e.jsxs("div",{className:"inspector-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-cube"})," ",a("spy_inspector_title")]}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>n(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"inspector-grid",children:[e.jsxs("div",{className:"inspector-item",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-tag"})," ",a("spy_element_tag"),":"]}),e.jsx("input",{type:"text",readOnly:!0,value:l.tag})]}),e.jsxs("div",{className:"inspector-item",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-hashtag"})," ",a("spy_element_id"),":"]}),e.jsx("input",{type:"text",readOnly:!0,value:l.id})]}),e.jsxs("div",{className:"inspector-item",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-code"})," ",a("spy_element_class"),":"]}),e.jsx("input",{type:"text",readOnly:!0,value:l.className})]}),e.jsxs("div",{className:"inspector-item",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-signature"})," ",a("spy_element_name"),":"]}),e.jsx("input",{type:"text",readOnly:!0,value:l.name})]}),l.text&&e.jsxs("div",{className:"inspector-item full-width",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-font"})," ",a("spy_element_text"),":"]}),e.jsx("input",{type:"text",readOnly:!0,value:l.text})]}),l.href&&e.jsxs("div",{className:"inspector-item full-width",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-link"})," Href:"]}),e.jsx("input",{type:"text",readOnly:!0,value:l.href})]})]}),e.jsxs("div",{className:"selector-options",children:[e.jsxs("div",{className:"selector-header",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-list"})," ",a("spy_selector_options")]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:Y,title:a("btn_copy"),children:[e.jsx("i",{className:"fas fa-copy"})," ",a("btn_copy")]})]}),e.jsx("div",{className:"selector-list",children:c.map((M,Q)=>e.jsxs("div",{className:"selector-item",children:[e.jsx("span",{className:`selector-type type-${M.type.toLowerCase()}`,children:M.type}),e.jsx("code",{children:M.value}),e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>W(M.value),title:a("btn_copy"),children:e.jsx("i",{className:"fas fa-copy"})})]},Q))})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsxs("button",{className:"btn btn-success",onClick:x,children:[e.jsx("i",{className:"fas fa-plus"})," ",a("spy_add_to_workflow")]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>W(),children:[e.jsx("i",{className:"fas fa-copy"})," ",a("spy_copy_selector")]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>{const M=JSON.stringify(l,null,2);navigator.clipboard.writeText(M)},children:[e.jsx("i",{className:"fas fa-code"})," ",a("btn_copy")," JSON"]})]})]}),_.length>0&&e.jsxs("div",{className:"recent-elements",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-history"})," ",a("spy_recent_elements")]}),e.jsx("div",{className:"recent-list",children:_.map((M,Q)=>{var se,ue;return e.jsxs("div",{className:"recent-item",onClick:()=>{s(M),p(B(M)),n(!0)},children:[e.jsx("span",{className:"recent-tag",children:M.tag}),e.jsx("span",{className:"recent-id",children:M.id||((se=M.className)==null?void 0:se.split(" ")[0])||"sin identificador"}),e.jsx("span",{className:"recent-text",children:((ue=M.text)==null?void 0:ue.substring(0,30))||""})]},Q)})})]})]})]})}function ex({titleKey:a,steps:t,tips:r,defaultCollapsed:i=!1}){const{t:n}=Ta(),[l,s]=f.useState(!i);return e.jsxs("div",{className:"help-panel",children:[e.jsxs("div",{className:"help-panel-header",children:[e.jsxs("div",{className:"help-panel-title",children:[e.jsx("i",{className:"fas fa-question-circle"}),e.jsx("span",{children:n(a||"help_title")})]}),e.jsx("button",{className:"help-panel-toggle",onClick:()=>s(!l),title:n(l?"help_close":"help_title"),children:e.jsx("i",{className:`fas fa-chevron-${l?"up":"down"}`})})]}),e.jsxs("div",{className:`help-panel-content ${l?"":"collapsed"}`,children:[t&&t.map((c,p)=>e.jsxs("div",{className:"help-step",children:[e.jsx("div",{className:"help-step-number",children:p+1}),e.jsxs("div",{className:"help-step-content",children:[e.jsx("h4",{children:n(c.titleKey)||c.title}),e.jsx("p",{children:n(c.descKey)||c.description})]})]},p)),r&&r.length>0&&e.jsx("div",{className:"help-tips",children:r.map((c,p)=>e.jsxs("div",{className:"help-tip",children:[e.jsx("i",{className:"fas fa-lightbulb"}),e.jsx("span",{children:n(c.key)||c.text})]},p))})]})]})}function ax(){var ot,ct,pi,mi,fi,hi,bi,gi,yi,yn;const{t:a}=Ta(),{socket:t,isConnected:r}=Er(),[i,n]=f.useState(!1),[l,s]=f.useState(!1),[c,p]=f.useState([]),[h,w]=f.useState(!1),[m,b]=f.useState(!1),[j,N]=f.useState(!1),[_,D]=f.useState(!1),[y,g]=f.useState(!1),[d,T]=f.useState("application"),[z,q]=f.useState([]),[P,L]=f.useState([]),[te,X]=f.useState([]),[O,be]=f.useState(null),[me,H]=f.useState(!1),[Z,ne]=f.useState(""),[ye,B]=f.useState("auto"),[G,K]=f.useState(null),[S,J]=f.useState(!1),[x,W]=f.useState("principal"),[Y,fe]=f.useState(15),[M,Q]=f.useState("basic"),[se,ue]=f.useState({min:5,max:30,interval:1}),[de,Le]=f.useState(""),[Fe,fa]=f.useState(!1),[ga,Qe]=f.useState(!1),[pe,ia]=f.useState(""),[da,wa]=f.useState(""),[We,xe]=f.useState(""),[Me,na]=f.useState(null),[ce,Ae]=f.useState({}),[va,ge]=f.useState(null),[he,$]=f.useState(""),C=[{name:"window_active",type:"window",description:"Ventana actualmente activa"},{name:"window_desktop",type:"window",description:"Escritorio de Windows"},{name:"window_taskbar",type:"window",description:"Barra de tareas"}],I=[{id:"active",title:"Actualmente activo",description:"activo cuando el bot se est ejecutando",icon:"fa-window-restore",type:"system"},{id:"desktop",title:"Escritorio",description:"espacio predeterminado detrs de las ventanas abiertas",icon:"fa-desktop",type:"system"},{id:"taskbar",title:"Barra de tareas",description:"muestra las aplicaciones abiertas",icon:"fa-tasks",type:"system"}],re=async()=>{H(!0);try{const le=await(await fetch("http://localhost:4000/api/windows")).json();if(le.success){const ke=le.windows||[],Ke=ke.filter(oa=>oa.type==="browser"),sa=ke.filter(oa=>oa.type!=="browser");L(Ke),q(sa)}}catch(k){console.error("Error fetching windows:",k),q([{id:1,handle:"0x001",title:"Visual Studio Code",processName:"Code.exe",type:"editor",icon:"fa-code"},{id:2,handle:"0x002",title:"Explorador de archivos",processName:"explorer.exe",type:"explorer",icon:"fa-folder"},{id:3,handle:"0x003",title:"Alqvimia Backend",processName:"node.exe",type:"terminal",icon:"fa-terminal"}]),L([{id:4,handle:"0x004",title:"Alqvimia RPA 2.0",processName:"chrome.exe",type:"browser",icon:"fa-chrome"},{id:5,handle:"0x005",title:"Google - Google Chrome",processName:"chrome.exe",type:"browser",icon:"fa-chrome"}])}finally{H(!1)}},la=()=>{const le=JSON.parse(localStorage.getItem("alqvimia-variables")||"[]").filter(ke=>ke.type==="window");X([...C,...le])},Oe=(k,le)=>{if(le!=null&&le.toLowerCase().includes("chrome"))return"fa-brands fa-chrome";if(le!=null&&le.toLowerCase().includes("firefox"))return"fa-brands fa-firefox";if(le!=null&&le.toLowerCase().includes("edge"))return"fa-brands fa-edge";if(le!=null&&le.toLowerCase().includes("code"))return"fa-code";const ke={browser:"fa-globe",editor:"fa-code",explorer:"fa-folder",terminal:"fa-terminal",office:"fa-file-alt",application:"fa-window-maximize"};return ke[k]||ke.application},Aa=async k=>{if(k)try{await fetch("http://localhost:4000/api/windows/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({processId:k.id,handle:k.handle,processName:k.processName})})}catch(le){console.error("[Recorder] Error activando ventana:",le)}},Pa=()=>{if(!r){alert("Conecta al servidor primero");return}re(),la(),w(!0)},Ra=async k=>{be(k),k.type!=="system"&&k.type!=="variable"&&await Aa(k);const le=k.processName?`window_${k.processName.toLowerCase().replace(/[^a-z0-9]/g,"_").replace(".exe","")}`:`window_${k.id}`;xe(le),Le(le)},R=k=>{be({id:k.name,title:k.name,description:k.description,type:"variable",variableName:k.name}),xe(k.name),Le(k.name)},ve=()=>{if(!O){alert("Selecciona una ventana para grabar");return}w(!1),D(!0)},_e=async()=>{if(!pe.trim()){alert("Ingresa un nombre para el workflow");return}if(!We.trim()){alert("Ingresa un nombre de variable para la ventana");return}D(!1),g(!0);const k={id:`action_window_${Date.now()}`,type:"window",variableName:We,isWindowAction:!0,window:{title:O.title,processName:O.processName,handle:O.handle,type:O.type},properties:{activate:!0,maximize:!1,minimize:!1,restore:!1,close:!1,waitForReady:!0,timeout:Y*1e3,resizeWindow:ga},timestamp:new Date().toISOString()};p([k]),n(!0),s(!1),O.type!=="system"&&O.type!=="variable"&&await Aa(O),t&&(t.emit("recorder:start",{targetWindow:O,workflowName:pe,captureClicks:!0,captureKeyboard:!0}),t.emit("recorder:start-visual-detection",{windowHandle:O.handle,processName:O.processName,highlightColor:"#22c55e",highlightWidth:3}))},Be=()=>{J(!0),t&&t.emit("recorder:start-capture",{mode:ye,windowHandle:O==null?void 0:O.handle})},Ia=()=>{n(!1),s(!1),g(!1),t&&(t.emit("recorder:stop"),t.emit("recorder:stop-visual-detection"))},$a=()=>{s(!l),t&&t.emit(l?"recorder:resume":"recorder:pause")},De=f.useCallback(k=>{var Ke,sa;const le=`${((Ke=k.tagName)==null?void 0:Ke.toLowerCase())||"elem"}_${Date.now().toString(36)}`,ke={id:`action_${Date.now()}`,type:k.actionType||"click",variableName:le,element:{tagName:k.tagName,id:k.id,className:k.className,name:k.name,selector:k.selector,xpath:k.xpath,text:(sa=k.text)==null?void 0:sa.substring(0,100),value:k.value,placeholder:k.placeholder,href:k.href,src:k.src,rect:k.rect,attributes:k.attributes||{}},properties:{waitBefore:0,waitAfter:500,timeout:Y*1e3,retryOnFail:!0,retryCount:3,continueOnError:!1,takeScreenshot:!1},timestamp:new Date().toISOString()};(ke.type==="type"||ke.type==="input")&&(ke.properties.text=k.text||"",ke.properties.clearBefore=!0,ke.properties.sendEnter=!1),ke.type==="select"&&(ke.properties.selectBy="value",ke.properties.selectValue=k.value||""),p(oa=>[...oa,ke]),K(ke),t&&t.emit("recorder:action",ke)},[t,Y]);f.useEffect(()=>{if(t)return t.on("recorder:element-captured",k=>{console.log("[Recorder] Elemento capturado:",k),De(k),J(!1)}),t.on("recorder:stopped",k=>{k.actions&&p(k.actions)}),()=>{t.off("recorder:element-captured"),t.off("recorder:stopped")}},[t,De]);const Pe=Z?z.filter(k=>{var le;return k.title.toLowerCase().includes(Z.toLowerCase())||((le=k.processName)==null?void 0:le.toLowerCase().includes(Z.toLowerCase()))}):z,ze=Z?P.filter(k=>{var le;return k.title.toLowerCase().includes(Z.toLowerCase())||((le=k.processName)==null?void 0:le.toLowerCase().includes(Z.toLowerCase()))}):P,qe=k=>{ge(k.id),$(k.variableName)},ua=k=>{he.trim()&&p(le=>le.map(ke=>ke.id===k?{...ke,variableName:he.trim()}:ke)),ge(null),$("")},ur=()=>{ge(null),$("")},Tr=k=>{na(k),Ae({...k}),N(!0)},Ar=()=>{Me&&p(k=>k.map(le=>le.id===Me.id?{...ce}:le)),N(!1),na(null),Ae({})},A=k=>{confirm("Eliminar esta accin?")&&p(le=>le.filter(ke=>ke.id!==k))},F=()=>{confirm("Limpiar todas las acciones?")&&(p([]),be(null),ia(""),wa(""),xe(""),K(null))},ie=()=>{if(c.length===0){alert("No hay acciones para guardar");return}b(!0)},Re=()=>{if(!pe.trim()){alert("Ingresa un nombre");return}const k=c.map(Ke=>{var sa,oa;return{name:Ke.variableName,type:Ke.isWindowAction?"window":"element",elementType:((sa=Ke.element)==null?void 0:sa.tagName)||((oa=Ke.window)==null?void 0:oa.processName),properties:Ke.isWindowAction?Ke.window:Ke.element}}),le={id:`wf_${Date.now()}`,name:pe,description:da,targetWindow:O,windowVariable:We,variables:k,actions:c,createdAt:new Date().toISOString()},ke=JSON.parse(localStorage.getItem("alqvimia-workflows")||"[]");ke.push(le),localStorage.setItem("alqvimia-workflows",JSON.stringify(ke)),t&&t.emit("recorder:save-as-workflow",le),b(!1),alert("Workflow guardado")},we=()=>{if(!pe.trim()){alert("Ingresa un nombre");return}const k=c.map(et=>{var pr,St;return{name:et.variableName,type:et.isWindowAction?"window":"element",elementType:((pr=et.element)==null?void 0:pr.tagName)||((St=et.window)==null?void 0:St.processName),properties:et.isWindowAction?et.window:et.element}}),le={_wfl:{version:"2.0",format:"alqvimia-workflow"},name:pe,description:da,targetWindow:O,windowVariable:We,variables:k,actions:c,createdAt:new Date().toISOString()},ke=JSON.stringify(le,null,2),sa="ALQWFL2"+btoa(unescape(encodeURIComponent(ke))),oa=new Blob([sa],{type:"application/x-alqvimia-workflow"}),Xe=URL.createObjectURL(oa),Vt=document.createElement("a");Vt.href=Xe,Vt.download=`${pe.replace(/[^a-zA-Z0-9]/g,"_")}.wfl`,Vt.click(),URL.revokeObjectURL(Xe),b(!1)},je=k=>({window:"fa-window-maximize",click:"fa-mouse-pointer",doubleClick:"fa-hand-pointer",type:"fa-keyboard",input:"fa-keyboard",select:"fa-list",hover:"fa-hand-paper",scroll:"fa-arrows-alt-v",wait:"fa-clock",screenshot:"fa-camera"})[k]||"fa-circle",Za=[{titleKey:"help_rec_step1_title",descKey:"help_rec_step1_desc"},{titleKey:"help_rec_step2_title",descKey:"help_rec_step2_desc"}],Ct=k=>{var le,ke,Ke;return k.isWindowAction?e.jsxs("div",{className:"window-properties-inline",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:(le=k.properties)==null?void 0:le.activate,onChange:sa=>{p(oa=>oa.map(Xe=>Xe.id===k.id?{...Xe,properties:{...Xe.properties,activate:sa.target.checked}}:Xe))}}),"Activar"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:(ke=k.properties)==null?void 0:ke.maximize,onChange:sa=>{p(oa=>oa.map(Xe=>Xe.id===k.id?{...Xe,properties:{...Xe.properties,maximize:sa.target.checked}}:Xe))}}),"Maximizar"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:(Ke=k.properties)==null?void 0:Ke.minimize,onChange:sa=>{p(oa=>oa.map(Xe=>Xe.id===k.id?{...Xe,properties:{...Xe.properties,minimize:sa.target.checked}}:Xe))}}),"Minimizar"]})]}):null};return e.jsxs("div",{className:"view",id:"recorder-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-video"})," ",a("nav_recorder")]}),e.jsx("p",{children:"Graba acciones automticamente al hacer clic en elementos"})]}),e.jsx(ex,{titleKey:"help_title",steps:Za,defaultCollapsed:!0}),pe&&e.jsxs("div",{className:"recorder-workflow-info",children:[e.jsxs("div",{className:"workflow-info-badge",children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("span",{className:"workflow-name",children:pe})]}),O&&e.jsxs("div",{className:"window-info-badge",children:[e.jsx("i",{className:`fas ${Oe(O.type,O.processName)}`}),e.jsxs("span",{children:["$",We]}),e.jsxs("span",{className:"window-title-small",children:["(",(ot=O.title)==null?void 0:ot.substring(0,30),"...)"]}),i&&e.jsxs("div",{className:"recording-indicator",children:[e.jsx("span",{className:"recording-dot"}),"REC"]})]})]}),e.jsxs("div",{className:`recorder-layout ${y?"with-capture-panel":""}`,children:[e.jsxs("div",{className:"recorder-main-panel",children:[e.jsxs("div",{className:"recorder-controls",children:[e.jsx("div",{className:"control-panel",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-secondary btn-lg",onClick:Ia,children:[e.jsx("i",{className:"fas fa-stop"})," Detener"]}),e.jsxs("button",{className:"btn btn-primary btn-lg",onClick:$a,children:[e.jsx("i",{className:`fas fa-${l?"play":"pause"}`}),l?"Reanudar":"Pausar"]})]}):e.jsxs("button",{className:"btn btn-danger btn-lg",onClick:Pa,disabled:!r,children:[e.jsx("i",{className:"fas fa-circle"})," Iniciar Grabacin"]})}),e.jsxs("div",{className:"recording-status",children:[e.jsx("i",{className:`fas fa-${i?l?"pause-circle text-warning":"circle text-danger":"info-circle text-info"}`}),e.jsx("span",{children:i?l?"Pausado":"Grabando...":"Listo para grabar"})]})]}),e.jsxs("div",{className:"recorded-actions",children:[e.jsxs("div",{className:"actions-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-list-ol"})," Acciones",e.jsx("span",{className:"action-count",children:c.length})]}),c.length>0&&e.jsxs("div",{className:"actions-toolbar",children:[e.jsxs("button",{className:"btn btn-sm btn-success",onClick:ie,children:[e.jsx("i",{className:"fas fa-save"})," Guardar"]}),e.jsx("button",{className:"btn btn-sm btn-warning",onClick:F,children:e.jsx("i",{className:"fas fa-trash"})})]})]}),e.jsx("div",{className:"actions-list",children:c.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("i",{className:"fas fa-video-slash"}),e.jsx("p",{children:"No hay acciones"}),e.jsx("small",{children:"Inicia grabacin y haz clic en elementos"})]}):c.map((k,le)=>{var ke,Ke,sa,oa,Xe,Vt,et,pr;return e.jsxs("div",{className:`action-item type-${k.type} ${k.isWindowAction?"is-window-action":""}`,children:[e.jsx("span",{className:"action-number",children:le+1}),e.jsx("div",{className:"action-icon",children:e.jsx("i",{className:`fas ${je(k.type)}`})}),e.jsxs("div",{className:"action-details",children:[e.jsxs("div",{className:"action-main",children:[e.jsx("span",{className:`action-type-label ${k.isWindowAction?"type-window":""}`,children:k.isWindowAction?"VENTANA":k.type.toUpperCase()}),va===k.id?e.jsxs("div",{className:"var-edit-inline",children:[e.jsx("input",{type:"text",value:he,onChange:St=>$(St.target.value),onKeyDown:St=>{St.key==="Enter"&&ua(k.id),St.key==="Escape"&&ur()},autoFocus:!0,className:"var-input"}),e.jsx("button",{className:"btn-icon",onClick:()=>ua(k.id),children:e.jsx("i",{className:"fas fa-check"})}),e.jsx("button",{className:"btn-icon",onClick:ur,children:e.jsx("i",{className:"fas fa-times"})})]}):e.jsxs("span",{className:"action-variable",onClick:()=>qe(k),title:"Clic para editar nombre de variable",children:["$",k.variableName,e.jsx("i",{className:"fas fa-pencil-alt edit-icon"})]})]}),e.jsx("div",{className:"action-meta",children:k.isWindowAction?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"element-tag",children:(ke=k.window)==null?void 0:ke.processName}),e.jsx("span",{className:"element-text",children:(sa=(Ke=k.window)==null?void 0:Ke.title)==null?void 0:sa.substring(0,40)})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"element-tag",children:(oa=k.element)==null?void 0:oa.tagName}),e.jsx("span",{className:"element-text",children:((Xe=k.element)==null?void 0:Xe.text)||((Vt=k.element)==null?void 0:Vt.id)||((pr=(et=k.element)==null?void 0:et.selector)==null?void 0:pr.substring(0,30))})]})}),Ct(k)]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>Tr(k),title:"Editar accin",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"btn btn-xs btn-ghost text-danger",onClick:()=>A(k.id),title:"Eliminar accin",children:e.jsx("i",{className:"fas fa-trash"})})]})]},k.id)})})]})]}),y&&e.jsxs("div",{className:"recorder-capture-panel",children:[e.jsxs("div",{className:"capture-section",children:[e.jsxs("div",{className:"section-header with-warning",children:[e.jsx("i",{className:"fas fa-exclamation-triangle text-warning"}),e.jsx("span",{children:"Ventana"})]}),e.jsxs("div",{className:"window-selector-tabs",children:[e.jsx("button",{className:`tab-btn ${d==="browser"?"active":""}`,onClick:()=>T("browser"),children:"Navegador"}),e.jsx("button",{className:`tab-btn ${d==="application"?"active":""}`,onClick:()=>T("application"),children:"Aplicacin"}),e.jsx("button",{className:`tab-btn ${d==="variable"?"active":""}`,onClick:()=>T("variable"),children:"Variable"})]}),e.jsxs("div",{className:"window-dropdown-container",children:[e.jsxs("div",{className:"window-dropdown",children:[e.jsx("input",{type:"text",className:"window-search-input",placeholder:"Buscar ventana...",value:Z,onChange:k=>ne(k.target.value)}),e.jsx("button",{className:"dropdown-arrow",children:e.jsx("i",{className:"fas fa-caret-down"})}),e.jsx("button",{className:"refresh-btn",onClick:re,title:"Actualizar",children:e.jsx("i",{className:`fas fa-sync ${me?"fa-spin":""}`})})]}),e.jsxs("div",{className:"window-dropdown-list",children:[e.jsxs("div",{className:"dropdown-section",children:[e.jsx("div",{className:"section-label",children:"Valores predeterminados"}),I.map(k=>e.jsxs("div",{className:`dropdown-item ${(O==null?void 0:O.id)===k.id?"selected":""}`,onClick:()=>Ra(k),children:[e.jsx("i",{className:`fas ${k.icon}`}),e.jsxs("div",{className:"item-content",children:[e.jsx("span",{className:"item-title",children:k.title}),e.jsx("span",{className:"item-desc",children:k.description})]})]},k.id))]}),d==="application"&&e.jsxs("div",{className:"dropdown-section",children:[e.jsx("div",{className:"section-label",children:"Aplicaciones locales"}),Pe.map(k=>e.jsxs("div",{className:`dropdown-item ${(O==null?void 0:O.handle)===k.handle?"selected":""}`,onClick:()=>Ra(k),children:[e.jsx("i",{className:`fas ${Oe(k.type,k.processName)}`}),e.jsxs("div",{className:"item-content",children:[e.jsx("span",{className:"item-title",children:k.title}),e.jsx("span",{className:"item-desc",children:k.processName})]})]},`${k.id}-${k.handle}`))]}),d==="browser"&&e.jsxs("div",{className:"dropdown-section",children:[e.jsxs("div",{className:"section-label",children:["Google Chrome (",ze.length,")"]}),ze.map(k=>e.jsxs("div",{className:`dropdown-item ${(O==null?void 0:O.handle)===k.handle?"selected":""}`,onClick:()=>Ra(k),children:[e.jsx("i",{className:`fas ${Oe(k.type,k.processName)}`}),e.jsx("div",{className:"item-content",children:e.jsx("span",{className:"item-title",children:k.title})})]},`${k.id}-${k.handle}`))]}),d==="variable"&&e.jsxs("div",{className:"dropdown-section",children:[e.jsx("div",{className:"section-label",children:"Variables de ventana"}),te.map(k=>e.jsxs("div",{className:`dropdown-item ${(O==null?void 0:O.variableName)===k.name?"selected":""}`,onClick:()=>R(k),children:[e.jsx("i",{className:"fas fa-cube"}),e.jsxs("div",{className:"item-content",children:[e.jsxs("span",{className:"item-title",children:["$",k.name]}),e.jsx("span",{className:"item-desc",children:k.description})]})]},k.name))]})]})]}),e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:ga,onChange:k=>Qe(k.target.checked)}),e.jsx("span",{children:"Cambiar tamao de ventana"}),e.jsx("small",{className:"option-hint",children:"Puede mejorar la precisin del bot"})]})]}),e.jsxs("div",{className:"capture-section",children:[e.jsxs("div",{className:"properties-tabs",children:[e.jsx("button",{className:`tab-btn ${x==="principal"?"active":""}`,onClick:()=>W("principal"),children:"Principal"}),e.jsx("button",{className:`tab-btn ${x==="anclaje"?"active":""}`,onClick:()=>W("anclaje"),children:"Anclaje"})]}),x==="principal"&&e.jsxs("div",{className:"properties-content",children:[e.jsxs("div",{className:"capture-object-section",children:[e.jsxs("button",{className:`capture-btn ${S?"capturing":""}`,onClick:Be,disabled:S,children:[e.jsx("i",{className:`fas ${S?"fa-spinner fa-spin":"fa-crosshairs"}`}),S?"Capturando...":"Capturar objeto"]}),e.jsx("p",{className:"capture-hint",children:"Para poder capturar un objeto, primero debe elegir una ventana."})]}),e.jsxs("div",{className:"timeout-section",children:[e.jsx("label",{children:"Establecer el tiempo de espera del sistema"}),e.jsxs("div",{className:"timeout-tabs",children:[e.jsx("button",{className:`tab-btn small ${M==="basic"?"active":""}`,onClick:()=>Q("basic"),children:"Bsica"}),e.jsx("button",{className:`tab-btn small ${M==="advanced"?"active":""}`,onClick:()=>Q("advanced"),children:"Avanzado"})]}),M==="basic"?e.jsxs("div",{className:"timeout-basic",children:[e.jsx("label",{children:"Esperar respuesta del sistema (en segundos)"}),e.jsxs("div",{className:"input-with-var",children:[e.jsx("span",{className:"input-prefix",children:"#"}),e.jsx("input",{type:"number",value:Y,onChange:k=>fe(parseInt(k.target.value)||15),min:1,max:300}),e.jsx("button",{className:"var-btn",onClick:()=>{},title:"Seleccionar variable",children:"(x)"})]})]}):e.jsx("div",{className:"timeout-advanced",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mnimo (seg)"}),e.jsx("input",{type:"number",value:se.min,onChange:k=>ue({...se,min:parseInt(k.target.value)||5})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mximo (seg)"}),e.jsx("input",{type:"number",value:se.max,onChange:k=>ue({...se,max:parseInt(k.target.value)||30})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Intervalo (seg)"}),e.jsx("input",{type:"number",value:se.interval,onChange:k=>ue({...se,interval:parseInt(k.target.value)||1})})]})]})})]}),e.jsxs("div",{className:"output-variable-section",children:[e.jsxs("div",{className:"section-header with-warning",children:[e.jsx("i",{className:"fas fa-exclamation-triangle text-warning"}),e.jsx("span",{children:"Asignar la salida a una variable"})]}),e.jsxs("div",{className:"input-with-var",children:[e.jsxs("select",{value:de,onChange:k=>Le(k.target.value),className:"variable-select",children:[e.jsx("option",{value:"",children:"Seleccionar variable..."}),C.map(k=>e.jsxs("option",{value:k.name,children:["$",k.name]},k.name))]}),e.jsx("button",{className:"var-btn",onClick:()=>fa(!Fe),title:"Seleccionar variable",children:"(x)"})]})]})]}),x==="anclaje"&&e.jsxs("div",{className:"properties-content",children:[e.jsxs("div",{className:"anchor-info",children:[e.jsx("i",{className:"fas fa-anchor"}),e.jsx("p",{children:"Configure puntos de anclaje para mejorar la deteccin de elementos cuando la interfaz cambia."})]}),e.jsxs("button",{className:"btn btn-secondary btn-block",children:[e.jsx("i",{className:"fas fa-plus"})," Agregar punto de anclaje"]})]})]}),G&&e.jsxs("div",{className:"capture-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("i",{className:"fas fa-check-circle text-success"}),e.jsx("span",{children:"ltimo objeto capturado"})]}),e.jsxs("div",{className:"captured-object-preview",children:[e.jsxs("div",{className:"object-info",children:[e.jsx("span",{className:"object-type",children:((ct=G.element)==null?void 0:ct.tagName)||"ELEMENT"}),e.jsxs("span",{className:"object-var",children:["$",G.variableName]})]}),e.jsx("code",{className:"object-selector",children:(pi=G.element)==null?void 0:pi.selector})]})]})]})]}),h&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content modal-lg",onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-desktop"})," Seleccionar Ventana"]}),e.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"window-modal-tabs",children:[e.jsxs("button",{className:`modal-tab ${d==="browser"?"active":""}`,onClick:()=>T("browser"),children:[e.jsx("i",{className:"fas fa-globe"})," Navegador"]}),e.jsxs("button",{className:`modal-tab ${d==="application"?"active":""}`,onClick:()=>T("application"),children:[e.jsx("i",{className:"fas fa-window-maximize"})," Aplicacin"]}),e.jsxs("button",{className:`modal-tab ${d==="variable"?"active":""}`,onClick:()=>T("variable"),children:[e.jsx("i",{className:"fas fa-cube"})," Variable"]})]}),e.jsxs("div",{className:"window-selector-toolbar",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:Z,onChange:k=>ne(k.target.value)}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:re,disabled:me,children:[e.jsx("i",{className:`fas fa-sync ${me?"fa-spin":""}`})," Actualizar"]})]}),me?e.jsxs("div",{className:"windows-loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin fa-2x"}),e.jsx("p",{children:"Buscando ventanas..."})]}):e.jsxs("div",{className:"windows-list-container",children:[e.jsxs("div",{className:"windows-section",children:[e.jsx("h4",{children:"Valores predeterminados"}),e.jsx("div",{className:"windows-grid compact",children:I.map(k=>e.jsxs("div",{className:`window-card compact ${(O==null?void 0:O.id)===k.id?"selected":""}`,onClick:()=>Ra(k),children:[e.jsx("div",{className:"window-card-icon",children:e.jsx("i",{className:`fas ${k.icon}`})}),e.jsxs("div",{className:"window-card-info",children:[e.jsx("span",{className:"window-card-title",children:k.title}),e.jsx("span",{className:"window-process-name",children:k.description})]}),(O==null?void 0:O.id)===k.id&&e.jsx("i",{className:"fas fa-check-circle window-selected-check"})]},k.id))})]}),d==="application"&&e.jsxs("div",{className:"windows-section",children:[e.jsx("h4",{children:"Aplicaciones locales"}),e.jsx("div",{className:"windows-grid",children:Pe.map(k=>e.jsxs("div",{className:`window-card ${(O==null?void 0:O.handle)===k.handle?"selected":""}`,onClick:()=>Ra(k),children:[e.jsx("div",{className:"window-card-icon",children:e.jsx("i",{className:`fas ${Oe(k.type,k.processName)}`})}),e.jsxs("div",{className:"window-card-info",children:[e.jsx("span",{className:"window-card-title",children:k.title.length>40?k.title.substring(0,40)+"...":k.title}),e.jsx("span",{className:"window-process-name",children:k.processName})]}),(O==null?void 0:O.handle)===k.handle&&e.jsx("i",{className:"fas fa-check-circle window-selected-check"})]},`${k.id}-${k.handle}`))})]}),d==="browser"&&e.jsxs("div",{className:"windows-section",children:[e.jsx("h4",{children:"Navegadores"}),e.jsx("div",{className:"windows-grid",children:ze.map(k=>e.jsxs("div",{className:`window-card ${(O==null?void 0:O.handle)===k.handle?"selected":""}`,onClick:()=>Ra(k),children:[e.jsx("div",{className:"window-card-icon",children:e.jsx("i",{className:`fas ${Oe(k.type,k.processName)}`})}),e.jsxs("div",{className:"window-card-info",children:[e.jsx("span",{className:"window-card-title",children:k.title.length>40?k.title.substring(0,40)+"...":k.title}),e.jsx("span",{className:"window-process-name",children:k.processName})]}),(O==null?void 0:O.handle)===k.handle&&e.jsx("i",{className:"fas fa-check-circle window-selected-check"})]},`${k.id}-${k.handle}`))})]}),d==="variable"&&e.jsxs("div",{className:"windows-section",children:[e.jsx("h4",{children:"Variables de tipo Ventana"}),e.jsx("div",{className:"variables-list-modal",children:te.map(k=>e.jsxs("div",{className:`variable-card ${(O==null?void 0:O.variableName)===k.name?"selected":""}`,onClick:()=>R(k),children:[e.jsx("i",{className:"fas fa-cube"}),e.jsxs("div",{className:"variable-info",children:[e.jsxs("span",{className:"variable-name",children:["$",k.name]}),e.jsx("span",{className:"variable-desc",children:k.description})]}),(O==null?void 0:O.variableName)===k.name&&e.jsx("i",{className:"fas fa-check-circle"})]},k.name))})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",onClick:ve,disabled:!O,children:[e.jsx("i",{className:"fas fa-arrow-right"})," Siguiente"]})]})]})}),_&&e.jsx("div",{className:"modal-overlay",onClick:()=>D(!1),children:e.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-project-diagram"})," Configurar Workflow"]}),e.jsx("button",{className:"modal-close",onClick:()=>D(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"selected-window-preview",children:[e.jsx("i",{className:`fas ${Oe(O==null?void 0:O.type,O==null?void 0:O.processName)}`}),e.jsxs("div",{children:[e.jsx("strong",{children:O==null?void 0:O.title}),e.jsx("small",{children:(O==null?void 0:O.processName)||(O==null?void 0:O.description)})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-file-alt"})," Nombre del Workflow *"]}),e.jsx("input",{type:"text",className:"form-control",value:pe,onChange:k=>ia(k.target.value),placeholder:"Ej: Automatizar Login SAP",autoFocus:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-code"})," Variable de Ventana *"]}),e.jsxs("div",{className:"input-with-prefix",children:[e.jsx("span",{className:"input-prefix",children:"$"}),e.jsx("input",{type:"text",className:"form-control",value:We,onChange:k=>xe(k.target.value.replace(/[^a-zA-Z0-9_]/g,"")),placeholder:"window_sap"})]}),e.jsx("small",{className:"form-hint",children:"Esta variable representar la ventana seleccionada en el workflow"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-align-left"})," Descripcin (opcional)"]}),e.jsx("textarea",{className:"form-control",value:da,onChange:k=>wa(k.target.value),placeholder:"Descripcin del workflow...",rows:"2"})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{className:"btn btn-secondary",onClick:()=>{D(!1),w(!0)},children:[e.jsx("i",{className:"fas fa-arrow-left"})," Atrs"]}),e.jsxs("button",{className:"btn btn-success",onClick:_e,disabled:!pe.trim()||!We.trim(),children:[e.jsx("i",{className:"fas fa-play"})," Iniciar Grabacin"]})]})]})}),j&&Me&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content modal-lg",onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:`fas ${je(Me.type)}`}),"Editar ",Me.isWindowAction?"Ventana":"Accin"]}),e.jsx("button",{className:"modal-close",onClick:()=>N(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"edit-action-grid",children:[e.jsxs("div",{className:"edit-section",children:[e.jsx("h4",{children:"Informacin"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nombre de Variable"}),e.jsxs("div",{className:"input-with-prefix",children:[e.jsx("span",{className:"input-prefix",children:"$"}),e.jsx("input",{type:"text",className:"form-control",value:ce.variableName||"",onChange:k=>Ae({...ce,variableName:k.target.value.replace(/[^a-zA-Z0-9_]/g,"")})})]})]}),!Me.isWindowAction&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tipo de Accin"}),e.jsxs("select",{className:"form-control",value:ce.type||"click",onChange:k=>Ae({...ce,type:k.target.value}),children:[e.jsx("option",{value:"click",children:"Click"}),e.jsx("option",{value:"doubleClick",children:"Doble Click"}),e.jsx("option",{value:"type",children:"Escribir Texto"}),e.jsx("option",{value:"select",children:"Seleccionar"}),e.jsx("option",{value:"hover",children:"Hover"}),e.jsx("option",{value:"scroll",children:"Scroll"}),e.jsx("option",{value:"wait",children:"Esperar"}),e.jsx("option",{value:"screenshot",children:"Captura"})]})]}),Me.element&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Selector CSS"}),e.jsx("input",{type:"text",className:"form-control code",value:((mi=ce.element)==null?void 0:mi.selector)||"",onChange:k=>Ae({...ce,element:{...ce.element,selector:k.target.value}})})]})]}),e.jsxs("div",{className:"edit-section",children:[e.jsx("h4",{children:"Propiedades"}),Me.isWindowAction?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:((fi=ce.properties)==null?void 0:fi.activate)||!1,onChange:k=>Ae({...ce,properties:{...ce.properties,activate:k.target.checked}})}),"Activar ventana"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:((hi=ce.properties)==null?void 0:hi.maximize)||!1,onChange:k=>Ae({...ce,properties:{...ce.properties,maximize:k.target.checked}})}),"Maximizar ventana"]})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Timeout (ms)"}),e.jsx("input",{type:"number",className:"form-control",value:((bi=ce.properties)==null?void 0:bi.timeout)||3e4,onChange:k=>Ae({...ce,properties:{...ce.properties,timeout:parseInt(k.target.value)}})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Espera antes (ms)"}),e.jsx("input",{type:"number",className:"form-control",value:((gi=ce.properties)==null?void 0:gi.waitBefore)||0,onChange:k=>Ae({...ce,properties:{...ce.properties,waitBefore:parseInt(k.target.value)}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Espera despus (ms)"}),e.jsx("input",{type:"number",className:"form-control",value:((yi=ce.properties)==null?void 0:yi.waitAfter)||500,onChange:k=>Ae({...ce,properties:{...ce.properties,waitAfter:parseInt(k.target.value)}})})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:((yn=ce.properties)==null?void 0:yn.continueOnError)||!1,onChange:k=>Ae({...ce,properties:{...ce.properties,continueOnError:k.target.checked}})}),"Continuar si hay error"]})})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>N(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",onClick:Ar,children:[e.jsx("i",{className:"fas fa-save"})," Guardar Cambios"]})]})]})}),m&&e.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:e.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-save"})," Guardar Workflow"]}),e.jsx("button",{className:"modal-close",onClick:()=>b(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nombre *"}),e.jsx("input",{type:"text",className:"form-control",value:pe,onChange:k=>ia(k.target.value),placeholder:"Mi workflow"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Descripcin"}),e.jsx("textarea",{className:"form-control",value:da,onChange:k=>wa(k.target.value),placeholder:"Descripcin opcional...",rows:"2"})]}),e.jsxs("div",{className:"workflow-summary",children:[e.jsx("h4",{children:"Resumen"}),e.jsxs("div",{className:"summary-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("i",{className:"fas fa-list"}),e.jsxs("span",{children:[c.length," acciones"]})]}),e.jsxs("div",{className:"stat",children:[e.jsx("i",{className:"fas fa-code"}),e.jsxs("span",{children:[c.length," variables"]})]}),O&&e.jsxs("div",{className:"stat",children:[e.jsx("i",{className:"fas fa-desktop"}),e.jsx("span",{children:O.processName||O.title})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>b(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-info",onClick:we,disabled:!pe.trim(),children:[e.jsx("i",{className:"fas fa-download"})," Descargar .wfl"]}),e.jsxs("button",{className:"btn btn-success",onClick:Re,disabled:!pe.trim(),children:[e.jsx("i",{className:"fas fa-save"})," Guardar"]})]})]})})]})}const Ho={browser_open:{title:"Abrir Navegador",icon:"fa-window-maximize",description:"Abre una nueva instancia del navegador web",fields:[{key:"browser",label:"Navegador",type:"select",required:!0,default:"chrome",options:[{value:"chrome",label:"Google Chrome",icon:"fab fa-chrome"},{value:"edge",label:"Microsoft Edge",icon:"fab fa-edge"},{value:"firefox",label:"Mozilla Firefox",icon:"fab fa-firefox"},{value:"brave",label:"Brave",icon:"fas fa-shield-alt"}]},{key:"headless",label:"Modo Headless",type:"toggle",default:!1,helpText:"Ejecutar sin interfaz grfica (ms rpido)"},{key:"incognito",label:"Modo Incgnito",type:"toggle",default:!1,helpText:"Abrir en ventana privada"},{key:"maximized",label:"Maximizar Ventana",type:"toggle",default:!0},{key:"width",label:"Ancho (px)",type:"number",default:1920,min:800,max:3840,condition:{field:"maximized",value:!1}},{key:"height",label:"Alto (px)",type:"number",default:1080,min:600,max:2160,condition:{field:"maximized",value:!1}},{key:"userAgent",label:"User Agent",type:"text",placeholder:"Dejar vaco para usar el predeterminado",advanced:!0},{key:"proxy",label:"Servidor Proxy",type:"text",placeholder:"http://proxy:puerto",advanced:!0}]},open_browser:{extends:"browser_open"},navigate:{title:"Navegar a URL",icon:"fa-compass",description:"Navega a una direccin web especfica",fields:[{key:"url",label:"URL",type:"url",required:!0,placeholder:"https://ejemplo.com",helpText:"Direccin web completa incluyendo https://"},{key:"waitUntil",label:"Esperar hasta",type:"select",default:"load",options:[{value:"load",label:"Carga completa",icon:"fas fa-check-circle"},{value:"domcontentloaded",label:"DOM cargado",icon:"fas fa-code"},{value:"networkidle0",label:"Red inactiva (0)",icon:"fas fa-network-wired"},{value:"networkidle2",label:"Red inactiva (2)",icon:"fas fa-network-wired"}]},{key:"timeout",label:"Timeout (segundos)",type:"slider",default:30,min:5,max:120,step:5,unit:"s"},{key:"clearCookies",label:"Limpiar cookies antes",type:"toggle",default:!1,advanced:!0}]},click:{title:"Hacer Clic",icon:"fa-mouse-pointer",description:"Realiza un clic en un elemento de la pgina",fields:[{key:"selector",label:"Selector",type:"selector",required:!0,placeholder:"#button-id, .class-name, [data-attr]",helpText:"Selector CSS o XPath del elemento"},{key:"selectorType",label:"Tipo de Selector",type:"buttonGroup",default:"css",options:[{value:"css",label:"CSS"},{value:"xpath",label:"XPath"},{value:"text",label:"Texto"}]},{key:"clickType",label:"Tipo de Clic",type:"select",default:"single",options:[{value:"single",label:"Clic Simple",icon:"fas fa-mouse-pointer"},{value:"double",label:"Doble Clic",icon:"fas fa-mouse"},{value:"right",label:"Clic Derecho",icon:"fas fa-mouse-pointer"}]},{key:"button",label:"Botn del Mouse",type:"buttonGroup",default:"left",options:[{value:"left",label:"Izquierdo"},{value:"middle",label:"Central"},{value:"right",label:"Derecho"}]},{key:"waitBefore",label:"Esperar antes (ms)",type:"number",default:0,min:0,max:1e4,step:100},{key:"scrollIntoView",label:"Scroll al elemento",type:"toggle",default:!0},{key:"force",label:"Forzar clic",type:"toggle",default:!1,helpText:"Ignorar visibilidad del elemento",advanced:!0}]},type:{title:"Escribir Texto",icon:"fa-keyboard",description:"Escribe texto en un campo de entrada",fields:[{key:"selector",label:"Selector del Campo",type:"selector",required:!0,placeholder:'#input-id, input[name="email"]'},{key:"text",label:"Texto a Escribir",type:"textarea",required:!0,placeholder:"Texto que se escribir...",rows:3},{key:"inputMethod",label:"Mtodo de Entrada",type:"select",default:"type",options:[{value:"type",label:"Teclear (simula teclado)",icon:"fas fa-keyboard"},{value:"fill",label:"Rellenar (instantneo)",icon:"fas fa-fill"},{value:"paste",label:"Pegar desde portapapeles",icon:"fas fa-paste"}]},{key:"clearBefore",label:"Limpiar campo antes",type:"toggle",default:!0},{key:"delay",label:"Delay entre teclas (ms)",type:"slider",default:50,min:0,max:500,step:10,unit:"ms",condition:{field:"inputMethod",value:"type"}},{key:"pressEnter",label:"Presionar Enter al final",type:"toggle",default:!1}]},extract_text:{title:"Extraer Texto",icon:"fa-font",description:"Extrae texto de un elemento de la pgina",fields:[{key:"selector",label:"Selector del Elemento",type:"selector",required:!0,placeholder:".content, #resultado"},{key:"extractType",label:"Qu Extraer",type:"select",default:"innerText",options:[{value:"innerText",label:"Texto visible",icon:"fas fa-font"},{value:"innerHTML",label:"HTML interno",icon:"fas fa-code"},{value:"value",label:"Valor del input",icon:"fas fa-keyboard"},{value:"attribute",label:"Atributo especfico",icon:"fas fa-tag"}]},{key:"attribute",label:"Nombre del Atributo",type:"text",placeholder:"href, src, data-id...",condition:{field:"extractType",value:"attribute"}},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0,placeholder:"textoExtraido"},{key:"trim",label:"Eliminar espacios",type:"toggle",default:!0},{key:"regex",label:"Aplicar Regex",type:"text",placeholder:"\\d+",advanced:!0,helpText:"Expresin regular para filtrar el resultado"}]},extract:{extends:"extract_text"},screenshot:{title:"Captura de Pantalla",icon:"fa-camera",description:"Toma una captura de la pgina o elemento",fields:[{key:"target",label:"Capturar",type:"select",default:"page",options:[{value:"page",label:"Pgina completa",icon:"fas fa-desktop"},{value:"viewport",label:"Solo viewport",icon:"fas fa-crop"},{value:"element",label:"Elemento especfico",icon:"fas fa-object-group"}]},{key:"selector",label:"Selector del Elemento",type:"selector",placeholder:"#elemento",condition:{field:"target",value:"element"}},{key:"format",label:"Formato",type:"buttonGroup",default:"png",options:[{value:"png",label:"PNG"},{value:"jpeg",label:"JPEG"},{value:"webp",label:"WebP"}]},{key:"quality",label:"Calidad",type:"slider",default:80,min:10,max:100,step:5,unit:"%",condition:{field:"format",notValue:"png"}},{key:"path",label:"Ruta de Guardado",type:"file",placeholder:"C:\\capturas\\screenshot.png",fileType:"save"},{key:"variable",label:"Guardar en Variable (Base64)",type:"variable",placeholder:"screenshotBase64"}]},scroll:{title:"Hacer Scroll",icon:"fa-arrows-alt-v",description:"Realiza scroll en la pgina o elemento",fields:[{key:"scrollType",label:"Tipo de Scroll",type:"select",default:"pixels",options:[{value:"pixels",label:"Por pxeles",icon:"fas fa-arrows-alt-v"},{value:"element",label:"Hacia elemento",icon:"fas fa-crosshairs"},{value:"top",label:"Inicio de pgina",icon:"fas fa-chevron-up"},{value:"bottom",label:"Final de pgina",icon:"fas fa-chevron-down"}]},{key:"direction",label:"Direccin",type:"buttonGroup",default:"down",options:[{value:"up",label:"Arriba"},{value:"down",label:"Abajo"}],condition:{field:"scrollType",value:"pixels"}},{key:"pixels",label:"Pxeles",type:"number",default:500,min:0,max:1e4,step:100,condition:{field:"scrollType",value:"pixels"}},{key:"selector",label:"Selector del Elemento",type:"selector",placeholder:"#seccion",condition:{field:"scrollType",value:"element"}},{key:"behavior",label:"Comportamiento",type:"buttonGroup",default:"smooth",options:[{value:"smooth",label:"Suave"},{value:"instant",label:"Instantneo"}]}]},browser_close:{title:"Cerrar Navegador",icon:"fa-times-circle",description:"Cierra la instancia del navegador",fields:[{key:"saveSession",label:"Guardar Sesin",type:"toggle",default:!1,helpText:"Mantener cookies y datos para prxima ejecucin"},{key:"clearData",label:"Limpiar Datos",type:"toggle",default:!1,helpText:"Eliminar cookies, cach y datos de sesin"}]},close_browser:{extends:"browser_close"},ad_connect:{title:"Conectar AD",icon:"fa-server",description:"Conecta con Active Directory",fields:[{key:"server",label:"Servidor LDAP",type:"text",required:!0,placeholder:"ldap://dc.empresa.com"},{key:"port",label:"Puerto",type:"number",default:389,options:[{value:389,label:"389 (LDAP)"},{value:636,label:"636 (LDAPS)"}]},{key:"useSSL",label:"Usar SSL/TLS",type:"toggle",default:!1},{key:"baseDN",label:"Base DN",type:"text",required:!0,placeholder:"DC=empresa,DC=com"},{key:"username",label:"Usuario",type:"text",required:!0,placeholder:"admin@empresa.com"},{key:"password",label:"Contrasea",type:"password",required:!0,encrypted:!0}]},ad_get_user:{title:"Obtener Usuario",icon:"fa-user",description:"Obtiene informacin de un usuario del AD",fields:[{key:"searchBy",label:"Buscar por",type:"select",default:"sAMAccountName",options:[{value:"sAMAccountName",label:"Nombre de usuario"},{value:"mail",label:"Email"},{value:"employeeID",label:"ID de empleado"},{value:"cn",label:"Nombre completo"}]},{key:"searchValue",label:"Valor a Buscar",type:"text",required:!0,placeholder:"jperez"},{key:"attributes",label:"Atributos a Obtener",type:"multiSelect",default:["displayName","mail","department"],options:[{value:"displayName",label:"Nombre completo"},{value:"mail",label:"Email"},{value:"department",label:"Departamento"},{value:"title",label:"Cargo"},{value:"manager",label:"Manager"},{value:"telephoneNumber",label:"Telfono"},{value:"memberOf",label:"Grupos"}]},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0,placeholder:"usuarioAD"}]},ad_create_user:{title:"Crear Usuario",icon:"fa-user-plus",description:"Crea un nuevo usuario en Active Directory",fields:[{key:"firstName",label:"Nombre",type:"text",required:!0},{key:"lastName",label:"Apellido",type:"text",required:!0},{key:"username",label:"Nombre de Usuario",type:"text",required:!0,placeholder:"jperez"},{key:"email",label:"Email",type:"email",required:!0},{key:"password",label:"Contrasea Inicial",type:"password",required:!0},{key:"ou",label:"Unidad Organizativa",type:"text",placeholder:"OU=Usuarios,DC=empresa,DC=com"},{key:"department",label:"Departamento",type:"text"},{key:"title",label:"Cargo",type:"text"},{key:"mustChangePassword",label:"Cambiar contrasea al iniciar",type:"toggle",default:!0},{key:"enabled",label:"Cuenta habilitada",type:"toggle",default:!0}]},ad_disable_user:{title:"Deshabilitar Usuario",icon:"fa-user-lock",description:"Deshabilita una cuenta de usuario",fields:[{key:"username",label:"Usuario",type:"text",required:!0},{key:"moveToDisabled",label:"Mover a OU de deshabilitados",type:"toggle",default:!1},{key:"disabledOU",label:"OU de Destino",type:"text",placeholder:"OU=Deshabilitados,DC=empresa,DC=com",condition:{field:"moveToDisabled",value:!0}},{key:"removeGroups",label:"Eliminar de todos los grupos",type:"toggle",default:!1}]},ad_add_to_group:{title:"Agregar a Grupo",icon:"fa-users",description:"Agrega un usuario a un grupo de AD",fields:[{key:"username",label:"Usuario",type:"text",required:!0},{key:"group",label:"Grupo",type:"text",required:!0,placeholder:"CN=Grupo,OU=Grupos,DC=empresa,DC=com"}]},ai_text_generation:{title:"Generar Texto",icon:"fa-robot",description:"Genera texto usando IA",fields:[{key:"provider",label:"Proveedor de IA",type:"select",required:!0,options:[{value:"openai",label:"OpenAI (GPT)",icon:"fas fa-brain"},{value:"anthropic",label:"Anthropic (Claude)",icon:"fas fa-robot"},{value:"google",label:"Google (Gemini)",icon:"fab fa-google"},{value:"azure",label:"Azure OpenAI",icon:"fab fa-microsoft"}]},{key:"model",label:"Modelo",type:"select",required:!0,dependsOn:"provider",optionsMap:{openai:[{value:"gpt-4o",label:"GPT-4o (Recomendado)"},{value:"gpt-4o-mini",label:"GPT-4o Mini"},{value:"gpt-4",label:"GPT-4"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo"}],anthropic:[{value:"claude-3-opus-20240229",label:"Claude 3 Opus"},{value:"claude-3-sonnet-20240229",label:"Claude 3 Sonnet"},{value:"claude-3-haiku-20240307",label:"Claude 3 Haiku"}],google:[{value:"gemini-pro",label:"Gemini Pro"},{value:"gemini-pro-vision",label:"Gemini Pro Vision"}],azure:[{value:"gpt-4",label:"GPT-4 (Azure)"},{value:"gpt-35-turbo",label:"GPT-3.5 Turbo (Azure)"}]}},{key:"prompt",label:"Prompt",type:"textarea",required:!0,rows:5,placeholder:"Escribe tu prompt aqu..."},{key:"systemPrompt",label:"System Prompt",type:"textarea",rows:3,placeholder:"Instrucciones del sistema (opcional)",advanced:!0},{key:"temperature",label:"Temperatura",type:"slider",default:.7,min:0,max:2,step:.1,helpText:"Mayor = ms creativo, Menor = ms preciso"},{key:"maxTokens",label:"Mximo de Tokens",type:"number",default:1e3,min:100,max:8e3,step:100},{key:"variable",label:"Guardar Respuesta en",type:"variable",required:!0,placeholder:"respuestaIA"}]},ai_sentiment:{title:"Anlisis de Sentimiento",icon:"fa-smile",description:"Analiza el sentimiento de un texto",fields:[{key:"text",label:"Texto a Analizar",type:"textarea",required:!0,rows:4},{key:"language",label:"Idioma",type:"select",default:"es",options:[{value:"es",label:"Espaol"},{value:"en",label:"Ingls"},{value:"auto",label:"Detectar automtico"}]},{key:"variable",label:"Guardar Resultado en",type:"variable",required:!0,placeholder:"sentimiento"}]},ai_classification:{title:"Clasificacin",icon:"fa-tags",description:"Clasifica texto en categoras",fields:[{key:"text",label:"Texto a Clasificar",type:"textarea",required:!0,rows:4},{key:"categories",label:"Categoras",type:"tags",required:!0,placeholder:"Agregar categora...",helpText:"Presiona Enter para agregar cada categora"},{key:"multiLabel",label:"Permitir mltiples categoras",type:"toggle",default:!1},{key:"variable",label:"Guardar Clasificacin en",type:"variable",required:!0}]},ai_translation:{title:"Traduccin",icon:"fa-language",description:"Traduce texto entre idiomas",fields:[{key:"text",label:"Texto a Traducir",type:"textarea",required:!0,rows:4},{key:"sourceLanguage",label:"Idioma Origen",type:"select",default:"auto",options:[{value:"auto",label:"Detectar automtico"},{value:"es",label:"Espaol"},{value:"en",label:"Ingls"},{value:"fr",label:"Francs"},{value:"de",label:"Alemn"},{value:"pt",label:"Portugus"},{value:"it",label:"Italiano"},{value:"zh",label:"Chino"},{value:"ja",label:"Japons"}]},{key:"targetLanguage",label:"Idioma Destino",type:"select",required:!0,options:[{value:"es",label:"Espaol"},{value:"en",label:"Ingls"},{value:"fr",label:"Francs"},{value:"de",label:"Alemn"},{value:"pt",label:"Portugus"},{value:"it",label:"Italiano"},{value:"zh",label:"Chino"},{value:"ja",label:"Japons"}]},{key:"variable",label:"Guardar Traduccin en",type:"variable",required:!0}]},ai_ocr:{title:"OCR con IA",icon:"fa-file-image",description:"Extrae texto de imgenes usando IA",fields:[{key:"source",label:"Origen de Imagen",type:"select",default:"file",options:[{value:"file",label:"Archivo"},{value:"variable",label:"Variable (Base64)"},{value:"screenshot",label:"Captura de pantalla"}]},{key:"filePath",label:"Ruta del Archivo",type:"file",fileType:"open",accept:".png,.jpg,.jpeg,.gif,.bmp,.webp",condition:{field:"source",value:"file"}},{key:"imageVariable",label:"Variable de Imagen",type:"variable",condition:{field:"source",value:"variable"}},{key:"language",label:"Idioma del Texto",type:"select",default:"es",options:[{value:"es",label:"Espaol"},{value:"en",label:"Ingls"},{value:"auto",label:"Detectar automtico"}]},{key:"variable",label:"Guardar Texto en",type:"variable",required:!0}]},ai_chat:{title:"Chat IA",icon:"fa-robot",description:"Interacta con un modelo de chat IA",fields:[{key:"provider",label:"Proveedor",type:"select",required:!0,options:[{value:"openai",label:"OpenAI"},{value:"anthropic",label:"Anthropic"}]},{key:"message",label:"Mensaje",type:"textarea",required:!0,rows:4},{key:"conversationId",label:"ID de Conversacin",type:"variable",helpText:"Para mantener contexto entre mensajes"},{key:"variable",label:"Guardar Respuesta en",type:"variable",required:!0}]},ai_analyze:{title:"Analizar Documento",icon:"fa-search-plus",description:"Analiza documentos con IA",fields:[{key:"documentPath",label:"Documento",type:"file",fileType:"open",accept:".pdf,.docx,.txt"},{key:"analysisType",label:"Tipo de Anlisis",type:"select",default:"summary",options:[{value:"summary",label:"Resumen"},{value:"extract",label:"Extraccin de datos"},{value:"qa",label:"Preguntas y respuestas"}]},{key:"prompt",label:"Instrucciones/Pregunta",type:"textarea",rows:3},{key:"variable",label:"Guardar Resultado en",type:"variable",required:!0}]},db_connect:{title:"Conectar Base de Datos",icon:"fa-plug",description:"Establece conexin con una base de datos",fields:[{key:"dbType",label:"Tipo de Base de Datos",type:"select",required:!0,options:[{value:"mysql",label:"MySQL",icon:"fas fa-database"},{value:"postgresql",label:"PostgreSQL",icon:"fas fa-database"},{value:"mssql",label:"SQL Server",icon:"fab fa-microsoft"},{value:"oracle",label:"Oracle",icon:"fas fa-database"},{value:"mongodb",label:"MongoDB",icon:"fas fa-leaf"}]},{key:"host",label:"Servidor",type:"text",required:!0,placeholder:"localhost o IP"},{key:"port",label:"Puerto",type:"number",dependsOn:"dbType",defaultMap:{mysql:3306,postgresql:5432,mssql:1433,oracle:1521,mongodb:27017}},{key:"database",label:"Base de Datos",type:"text",required:!0},{key:"username",label:"Usuario",type:"text",required:!0},{key:"password",label:"Contrasea",type:"password",required:!0,encrypted:!0},{key:"connectionName",label:"Nombre de Conexin",type:"text",placeholder:"conexionPrincipal",helpText:"Identificador para usar en otras acciones"},{key:"ssl",label:"Usar SSL",type:"toggle",default:!1,advanced:!0}]},db_query:{title:"Ejecutar Consulta",icon:"fa-search",description:"Ejecuta una consulta SQL SELECT",fields:[{key:"connection",label:"Conexin",type:"variable",placeholder:"conexionPrincipal"},{key:"query",label:"Consulta SQL",type:"code",language:"sql",required:!0,placeholder:"SELECT * FROM tabla WHERE condicion = ?"},{key:"parameters",label:"Parmetros",type:"keyValue",helpText:"Parmetros para prevenir SQL injection"},{key:"variable",label:"Guardar Resultados en",type:"variable",required:!0,placeholder:"resultadosQuery"},{key:"timeout",label:"Timeout (segundos)",type:"number",default:30,min:5,max:300}]},db_insert:{title:"Insertar Datos",icon:"fa-plus-circle",description:"Inserta registros en una tabla",fields:[{key:"connection",label:"Conexin",type:"variable"},{key:"table",label:"Tabla",type:"text",required:!0},{key:"data",label:"Datos",type:"keyValue",required:!0,helpText:"Columna: Valor"},{key:"returnId",label:"Obtener ID insertado",type:"toggle",default:!0},{key:"variable",label:"Guardar ID en",type:"variable",condition:{field:"returnId",value:!0}}]},db_update:{title:"Actualizar Datos",icon:"fa-edit",description:"Actualiza registros en una tabla",fields:[{key:"connection",label:"Conexin",type:"variable"},{key:"table",label:"Tabla",type:"text",required:!0},{key:"data",label:"Datos a Actualizar",type:"keyValue",required:!0},{key:"where",label:"Condicin WHERE",type:"text",required:!0,placeholder:"id = ?"},{key:"parameters",label:"Parmetros WHERE",type:"keyValue"}]},db_disconnect:{title:"Desconectar",icon:"fa-unlink",description:"Cierra la conexin a la base de datos",fields:[{key:"connection",label:"Conexin",type:"variable"}]},file_read:{title:"Leer Archivo",icon:"fa-file-alt",description:"Lee el contenido de un archivo",fields:[{key:"path",label:"Ruta del Archivo",type:"file",required:!0,fileType:"open"},{key:"encoding",label:"Codificacin",type:"select",default:"utf-8",options:[{value:"utf-8",label:"UTF-8"},{value:"ascii",label:"ASCII"},{value:"latin1",label:"Latin-1"},{value:"utf-16",label:"UTF-16"}]},{key:"readAs",label:"Leer como",type:"select",default:"text",options:[{value:"text",label:"Texto"},{value:"lines",label:"Array de lneas"},{value:"json",label:"JSON"},{value:"binary",label:"Binario (Base64)"}]},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},file_write:{title:"Escribir Archivo",icon:"fa-file-edit",description:"Escribe contenido en un archivo",fields:[{key:"path",label:"Ruta del Archivo",type:"file",required:!0,fileType:"save"},{key:"content",label:"Contenido",type:"textarea",required:!0,rows:5},{key:"mode",label:"Modo de Escritura",type:"select",default:"overwrite",options:[{value:"overwrite",label:"Sobrescribir"},{value:"append",label:"Agregar al final"},{value:"prepend",label:"Agregar al inicio"}]},{key:"encoding",label:"Codificacin",type:"select",default:"utf-8",options:[{value:"utf-8",label:"UTF-8"},{value:"ascii",label:"ASCII"},{value:"latin1",label:"Latin-1"}]},{key:"createPath",label:"Crear carpetas si no existen",type:"toggle",default:!0}]},file_copy:{title:"Copiar Archivo",icon:"fa-copy",description:"Copia un archivo a otra ubicacin",fields:[{key:"source",label:"Archivo Origen",type:"file",required:!0,fileType:"open"},{key:"destination",label:"Destino",type:"file",required:!0,fileType:"save"},{key:"overwrite",label:"Sobrescribir si existe",type:"toggle",default:!1}]},file_move:{title:"Mover Archivo",icon:"fa-file-export",description:"Mueve un archivo a otra ubicacin",fields:[{key:"source",label:"Archivo Origen",type:"file",required:!0,fileType:"open"},{key:"destination",label:"Destino",type:"file",required:!0,fileType:"save"},{key:"overwrite",label:"Sobrescribir si existe",type:"toggle",default:!1}]},file_delete:{title:"Eliminar Archivo",icon:"fa-trash",description:"Elimina un archivo",fields:[{key:"path",label:"Archivo a Eliminar",type:"file",required:!0,fileType:"open"},{key:"permanent",label:"Eliminar permanentemente",type:"toggle",default:!1,helpText:"Si est desactivado, se mover a la papelera"}]},file_exists:{title:"Archivo Existe",icon:"fa-question-circle",description:"Verifica si un archivo existe",fields:[{key:"path",label:"Ruta del Archivo",type:"file",required:!0,fileType:"open"},{key:"variable",label:"Guardar Resultado en",type:"variable",required:!0,helpText:"true si existe, false si no"}]},email_send:{title:"Enviar Email",icon:"fa-paper-plane",description:"Enva un correo electrnico",fields:[{key:"provider",label:"Proveedor",type:"select",default:"smtp",options:[{value:"smtp",label:"SMTP Personalizado"},{value:"outlook",label:"Microsoft Outlook"},{value:"gmail",label:"Gmail"}]},{key:"smtpServer",label:"Servidor SMTP",type:"text",condition:{field:"provider",value:"smtp"},placeholder:"smtp.empresa.com"},{key:"smtpPort",label:"Puerto",type:"number",default:587,condition:{field:"provider",value:"smtp"}},{key:"to",label:"Destinatario(s)",type:"tags",required:!0,placeholder:"email@ejemplo.com"},{key:"cc",label:"CC",type:"tags",placeholder:"email@ejemplo.com"},{key:"bcc",label:"CCO",type:"tags",placeholder:"email@ejemplo.com"},{key:"subject",label:"Asunto",type:"text",required:!0},{key:"body",label:"Cuerpo del Mensaje",type:"richtext",required:!0},{key:"isHtml",label:"Formato HTML",type:"toggle",default:!0},{key:"attachments",label:"Adjuntos",type:"fileList",multiple:!0},{key:"priority",label:"Prioridad",type:"select",default:"normal",options:[{value:"high",label:"Alta"},{value:"normal",label:"Normal"},{value:"low",label:"Baja"}]}]},email_read:{title:"Leer Email",icon:"fa-envelope-open",description:"Lee correos electrnicos",fields:[{key:"provider",label:"Proveedor",type:"select",default:"imap",options:[{value:"imap",label:"IMAP"},{value:"outlook",label:"Microsoft Outlook"},{value:"gmail",label:"Gmail"}]},{key:"folder",label:"Carpeta",type:"text",default:"INBOX"},{key:"filter",label:"Filtrar por",type:"select",default:"unread",options:[{value:"all",label:"Todos"},{value:"unread",label:"No ledos"},{value:"today",label:"De hoy"},{value:"subject",label:"Por asunto"},{value:"from",label:"Por remitente"}]},{key:"filterValue",label:"Valor del Filtro",type:"text",condition:{field:"filter",inValues:["subject","from"]}},{key:"limit",label:"Mximo de Correos",type:"number",default:10,min:1,max:100},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},email_download_attachment:{title:"Descargar Adjunto",icon:"fa-paperclip",description:"Descarga adjuntos de un correo",fields:[{key:"emailVariable",label:"Variable del Email",type:"variable",required:!0},{key:"filter",label:"Filtrar Adjuntos",type:"text",placeholder:"*.pdf, *.xlsx"},{key:"savePath",label:"Carpeta de Destino",type:"file",fileType:"folder",required:!0},{key:"overwrite",label:"Sobrescribir existentes",type:"toggle",default:!1}]},step_group:{title:"Step (Grupo)",icon:"fa-layer-group",description:"Contenedor para agrupar y organizar acciones. Solo visible en desarrollo.",isContainer:!0,fields:[{key:"name",label:"Ttulo del Step",type:"text",required:!0,placeholder:"Ej: Inicializacin, Procesamiento, Limpieza...",helpText:"Nombre descriptivo para identificar este grupo de acciones"},{key:"description",label:"Descripcin",type:"textarea",placeholder:"Descripcin opcional del propsito de este grupo",rows:2},{key:"color",label:"Color",type:"select",default:"blue",options:[{value:"blue",label:"Azul"},{value:"green",label:"Verde"},{value:"orange",label:"Naranja"},{value:"purple",label:"Morado"},{value:"red",label:"Rojo"},{value:"gray",label:"Gris"}],helpText:"Color del borde izquierdo para identificar visualmente"},{key:"collapsed",label:"Iniciar colapsado",type:"checkbox",default:!1,helpText:"Si est marcado, el grupo aparecer colapsado al abrir el flujo"}]},if_condition:{title:"Si / Condicin",icon:"fa-question",description:"Ejecuta acciones basadas en una condicin",fields:[{key:"leftOperand",label:"Valor Izquierdo",type:"expression",required:!0,placeholder:"variable o valor"},{key:"operator",label:"Operador",type:"select",required:!0,options:[{value:"==",label:"Igual a (==)"},{value:"!=",label:"Diferente de (!=)"},{value:">",label:"Mayor que (>)"},{value:">=",label:"Mayor o igual (>=)"},{value:"<",label:"Menor que (<)"},{value:"<=",label:"Menor o igual (<=)"},{value:"contains",label:"Contiene"},{value:"startsWith",label:"Empieza con"},{value:"endsWith",label:"Termina con"},{value:"matches",label:"Coincide (regex)"},{value:"isEmpty",label:"Est vaco"},{value:"isNotEmpty",label:"No est vaco"}]},{key:"rightOperand",label:"Valor Derecho",type:"expression",placeholder:"variable o valor",condition:{field:"operator",notInValues:["isEmpty","isNotEmpty"]}},{key:"caseSensitive",label:"Distinguir maysculas",type:"toggle",default:!1,condition:{field:"operator",inValues:["contains","startsWith","endsWith"]}}]},for_loop:{title:"Bucle For",icon:"fa-redo",description:"Repite acciones un nmero determinado de veces",fields:[{key:"loopType",label:"Tipo de Bucle",type:"select",default:"count",options:[{value:"count",label:"Nmero de repeticiones"},{value:"range",label:"Rango de valores"},{value:"collection",label:"Iterar coleccin"}]},{key:"count",label:"Repeticiones",type:"number",default:10,min:1,condition:{field:"loopType",value:"count"}},{key:"start",label:"Inicio",type:"number",default:0,condition:{field:"loopType",value:"range"}},{key:"end",label:"Fin",type:"number",default:10,condition:{field:"loopType",value:"range"}},{key:"step",label:"Incremento",type:"number",default:1,condition:{field:"loopType",value:"range"}},{key:"collection",label:"Coleccin",type:"variable",condition:{field:"loopType",value:"collection"}},{key:"indexVariable",label:"Variable de ndice",type:"variable",default:"i",placeholder:"i"},{key:"itemVariable",label:"Variable del Elemento",type:"variable",placeholder:"item",condition:{field:"loopType",value:"collection"}}]},while_loop:{title:"Bucle While",icon:"fa-sync",description:"Repite acciones mientras se cumpla una condicin",fields:[{key:"leftOperand",label:"Valor Izquierdo",type:"expression",required:!0},{key:"operator",label:"Operador",type:"select",required:!0,options:[{value:"==",label:"Igual a"},{value:"!=",label:"Diferente de"},{value:">",label:"Mayor que"},{value:"<",label:"Menor que"},{value:"true",label:"Es verdadero"},{value:"false",label:"Es falso"}]},{key:"rightOperand",label:"Valor Derecho",type:"expression",condition:{field:"operator",notInValues:["true","false"]}},{key:"maxIterations",label:"Mximo de Iteraciones",type:"number",default:1e3,helpText:"Previene bucles infinitos"}]},delay:{title:"Esperar/Delay",icon:"fa-clock",description:"Pausa la ejecucin por un tiempo",fields:[{key:"unit",label:"Unidad",type:"buttonGroup",default:"seconds",options:[{value:"milliseconds",label:"ms"},{value:"seconds",label:"seg"},{value:"minutes",label:"min"}]},{key:"duration",label:"Duracin",type:"number",required:!0,default:1,min:0}]},pause:{title:"Pausa (MessageBox)",icon:"fa-pause-circle",description:"Pausa la ejecucin mostrando un mensaje y espera confirmacin del usuario",fields:[{key:"title",label:"Ttulo",type:"text",default:"Pausa",placeholder:"Ttulo del mensaje"},{key:"message",label:"Mensaje",type:"textarea",required:!0,rows:2,placeholder:"Mensaje a mostrar durante la pausa"},{key:"timeout",label:"Tiempo lmite de espera",type:"number",default:0,min:0,helpText:"0 = espera indefinida hasta que el usuario confirme"},{key:"timeoutUnit",label:"Unidad de tiempo",type:"buttonGroup",default:"seconds",options:[{value:"milliseconds",label:"ms"},{value:"seconds",label:"seg"},{value:"minutes",label:"min"}]},{key:"showTimer",label:"Mostrar contador",type:"toggle",default:!0,helpText:"Muestra el tiempo restante en el mensaje"},{key:"autoClose",label:"Cerrar automticamente al terminar tiempo",type:"toggle",default:!1,condition:{field:"timeout",notValue:0}},{key:"continueOnTimeout",label:"Continuar al agotar tiempo",type:"toggle",default:!0,helpText:"Si se agota el tiempo, contina con el siguiente paso",condition:{field:"timeout",notValue:0}}]},try_catch:{title:"Try/Catch",icon:"fa-shield-alt",description:"Maneja errores durante la ejecucin",fields:[{key:"errorVariable",label:"Variable de Error",type:"variable",default:"error",helpText:"Almacena informacin del error"},{key:"logError",label:"Registrar Error",type:"toggle",default:!0},{key:"continueOnError",label:"Continuar tras Error",type:"toggle",default:!0}]},excel_read:{title:"Leer Excel",icon:"fa-file-excel",description:"Lee datos de un archivo Excel",fields:[{key:"filePath",label:"Archivo Excel",type:"file",required:!0,fileType:"open",accept:".xlsx,.xls,.csv"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1",placeholder:"Nombre de la hoja o ndice (0, 1...)"},{key:"range",label:"Rango",type:"text",placeholder:"A1:Z100 (vaco = toda la hoja)"},{key:"hasHeaders",label:"Primera fila son encabezados",type:"toggle",default:!0},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},excel_write:{title:"Escribir Excel",icon:"fa-file-edit",description:"Escribe datos en un archivo Excel",fields:[{key:"filePath",label:"Archivo Excel",type:"file",required:!0,fileType:"save",accept:".xlsx"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"data",label:"Datos",type:"variable",required:!0,helpText:"Variable con array de datos"},{key:"startCell",label:"Celda Inicial",type:"text",default:"A1"},{key:"includeHeaders",label:"Incluir Encabezados",type:"toggle",default:!0},{key:"createIfNotExists",label:"Crear archivo si no existe",type:"toggle",default:!0}]},excel_close:{title:"Cerrar Excel",icon:"fa-times-circle",description:"Cierra un archivo Excel",fields:[{key:"save",label:"Guardar cambios",type:"toggle",default:!0}]},excel_bg_open:{title:"Abrir Archivo Excel (Segundo Plano)",icon:"fa-file-excel",description:"Abre un archivo Excel sin mostrar la aplicacin",fields:[{key:"filePath",label:"Ruta del Archivo",type:"fileWithVariable",required:!0,placeholder:"C:\\ruta\\archivo.xlsx",allowedTypes:["file","string"]},{key:"readOnly",label:"Solo lectura",type:"toggle",default:!1},{key:"sheetName",label:"Hoja activa",type:"textWithVariable",placeholder:"Nombre de la hoja o dejar vaco para la primera"},{key:"variable",label:"Guardar sesin en Variable",type:"variable",required:!0,placeholder:"excelSession"}]},excel_bg_create:{title:"Crear Archivo Excel (Segundo Plano)",icon:"fa-file-medical",description:"Crea un nuevo archivo Excel sin abrir la aplicacin",fields:[{key:"filePath",label:"Ruta del Archivo",type:"fileWithVariable",required:!0,placeholder:"C:\\ruta\\nuevo_archivo.xlsx",allowedTypes:["file","string"]},{key:"sheetName",label:"Nombre de la primera hoja",type:"text",default:"Hoja1"},{key:"variable",label:"Guardar sesin en Variable",type:"variable",required:!0,placeholder:"excelSession"}]},excel_bg_read_cell:{title:"Leer Celda (Segundo Plano)",icon:"fa-th-large",description:"Lee el valor de una celda especfica",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0,placeholder:"Seleccionar sesin Excel"},{key:"cell",label:"Celda",type:"textWithVariable",required:!0,placeholder:"A1"},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"variable",label:"Guardar valor en Variable",type:"variable",required:!0}]},excel_bg_read_range:{title:"Leer Rango (Segundo Plano)",icon:"fa-table",description:"Lee un rango de celdas",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"range",label:"Rango",type:"textWithVariable",required:!0,placeholder:"A1:D10"},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"includeHeaders",label:"Primera fila como encabezados",type:"toggle",default:!0},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},excel_bg_read_all:{title:"Leer Hoja Completa (Segundo Plano)",icon:"fa-file-alt",description:"Lee todos los datos de una hoja",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"includeHeaders",label:"Primera fila como encabezados",type:"toggle",default:!0},{key:"skipEmptyRows",label:"Omitir filas vacas",type:"toggle",default:!0},{key:"variable",label:"Guardar en Variable (DataTable)",type:"variable",required:!0}]},excel_bg_write_cell:{title:"Escribir Celda (Segundo Plano)",icon:"fa-pen",description:"Escribe un valor en una celda",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"cell",label:"Celda",type:"textWithVariable",required:!0,placeholder:"A1"},{key:"value",label:"Valor",type:"textWithVariable",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_write_range:{title:"Escribir Rango (Segundo Plano)",icon:"fa-edit",description:"Escribe datos en un rango de celdas",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"startCell",label:"Celda inicial",type:"textWithVariable",required:!0,placeholder:"A1"},{key:"data",label:"Datos (DataTable o Array)",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"includeHeaders",label:"Incluir encabezados",type:"toggle",default:!0}]},excel_bg_write_row:{title:"Escribir Fila (Segundo Plano)",icon:"fa-grip-lines",description:"Escribe una fila de datos",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"rowNumber",label:"Nmero de fila",type:"number",required:!0,min:1,default:1},{key:"startColumn",label:"Columna inicial",type:"textWithVariable",default:"A"},{key:"values",label:"Valores (Array)",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_write_column:{title:"Escribir Columna (Segundo Plano)",icon:"fa-grip-lines-vertical",description:"Escribe una columna de datos",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"column",label:"Columna",type:"textWithVariable",required:!0,placeholder:"A"},{key:"startRow",label:"Fila inicial",type:"number",default:1,min:1},{key:"values",label:"Valores (Array)",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_append_row:{title:"Agregar Fila al Final (Segundo Plano)",icon:"fa-plus",description:"Agrega una nueva fila al final de los datos",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"values",label:"Valores (Array)",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_insert_row:{title:"Insertar Fila (Segundo Plano)",icon:"fa-plus-circle",description:"Inserta una nueva fila en una posicin especfica",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"rowNumber",label:"Nmero de fila",type:"number",required:!0,min:1},{key:"count",label:"Cantidad de filas",type:"number",default:1,min:1},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_delete_row:{title:"Eliminar Fila (Segundo Plano)",icon:"fa-minus-circle",description:"Elimina una o ms filas",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"rowNumber",label:"Nmero de fila",type:"number",required:!0,min:1},{key:"count",label:"Cantidad de filas",type:"number",default:1,min:1},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_insert_column:{title:"Insertar Columna (Segundo Plano)",icon:"fa-columns",description:"Inserta una nueva columna",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"column",label:"Columna",type:"textWithVariable",required:!0,placeholder:"A"},{key:"count",label:"Cantidad de columnas",type:"number",default:1,min:1},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_delete_column:{title:"Eliminar Columna (Segundo Plano)",icon:"fa-minus-square",description:"Elimina una o ms columnas",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"column",label:"Columna",type:"textWithVariable",required:!0,placeholder:"A"},{key:"count",label:"Cantidad de columnas",type:"number",default:1,min:1},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_get_row_count:{title:"Contar Filas (Segundo Plano)",icon:"fa-list-ol",description:"Obtiene el nmero total de filas con datos",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},excel_bg_get_column_count:{title:"Contar Columnas (Segundo Plano)",icon:"fa-list",description:"Obtiene el nmero total de columnas con datos",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},excel_bg_get_last_row:{title:"ltima Fila con Datos (Segundo Plano)",icon:"fa-arrow-down",description:"Obtiene el nmero de la ltima fila con datos",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"column",label:"Columna de referencia",type:"textWithVariable",placeholder:"Dejar vaco para cualquier columna"},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},excel_bg_get_last_column:{title:"ltima Columna con Datos (Segundo Plano)",icon:"fa-arrow-right",description:"Obtiene la letra de la ltima columna con datos",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"row",label:"Fila de referencia",type:"number",placeholder:"Dejar vaco para cualquier fila",min:1},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},excel_bg_find:{title:"Buscar Valor (Segundo Plano)",icon:"fa-search",description:"Busca un valor en la hoja",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"searchValue",label:"Valor a buscar",type:"textWithVariable",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"matchCase",label:"Coincidir maysculas",type:"toggle",default:!1},{key:"matchEntireCell",label:"Coincidir celda completa",type:"toggle",default:!1},{key:"variable",label:"Guardar celda encontrada en Variable",type:"variable",required:!0}]},excel_bg_find_replace:{title:"Buscar y Reemplazar (Segundo Plano)",icon:"fa-exchange-alt",description:"Busca y reemplaza valores en la hoja",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"searchValue",label:"Valor a buscar",type:"textWithVariable",required:!0},{key:"replaceValue",label:"Reemplazar con",type:"textWithVariable",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"matchCase",label:"Coincidir maysculas",type:"toggle",default:!1},{key:"replaceAll",label:"Reemplazar todos",type:"toggle",default:!0},{key:"variable",label:"Guardar cantidad reemplazada en Variable",type:"variable"}]},excel_bg_get_sheet_names:{title:"Obtener Nombres de Hojas (Segundo Plano)",icon:"fa-list",description:"Obtiene la lista de nombres de todas las hojas",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"variable",label:"Guardar en Variable (Array)",type:"variable",required:!0}]},excel_bg_create_sheet:{title:"Crear Hoja (Segundo Plano)",icon:"fa-plus-square",description:"Crea una nueva hoja en el libro",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Nombre de la hoja",type:"textWithVariable",required:!0},{key:"position",label:"Posicin",type:"select",default:"end",options:[{value:"end",label:"Al final"},{value:"start",label:"Al inicio"},{value:"index",label:"En posicin especfica"}]},{key:"index",label:"ndice de posicin",type:"number",min:0,condition:{field:"position",value:"index"}}]},excel_bg_delete_sheet:{title:"Eliminar Hoja (Segundo Plano)",icon:"fa-trash-alt",description:"Elimina una hoja del libro",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Nombre de la hoja",type:"textWithVariable",required:!0}]},excel_bg_rename_sheet:{title:"Renombrar Hoja (Segundo Plano)",icon:"fa-i-cursor",description:"Cambia el nombre de una hoja",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"oldName",label:"Nombre actual",type:"textWithVariable",required:!0},{key:"newName",label:"Nuevo nombre",type:"textWithVariable",required:!0}]},excel_bg_copy_sheet:{title:"Copiar Hoja (Segundo Plano)",icon:"fa-copy",description:"Copia una hoja existente",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sourceSheet",label:"Hoja origen",type:"textWithVariable",required:!0},{key:"newName",label:"Nombre de la copia",type:"textWithVariable",required:!0}]},excel_bg_set_formula:{title:"Establecer Frmula (Segundo Plano)",icon:"fa-function",description:"Establece una frmula en una celda",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"cell",label:"Celda",type:"textWithVariable",required:!0,placeholder:"A1"},{key:"formula",label:"Frmula",type:"textWithVariable",required:!0,placeholder:"=SUM(A1:A10)"},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_merge_cells:{title:"Combinar Celdas (Segundo Plano)",icon:"fa-object-group",description:"Combina un rango de celdas",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"range",label:"Rango",type:"textWithVariable",required:!0,placeholder:"A1:D1"},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_unmerge_cells:{title:"Descombinar Celdas (Segundo Plano)",icon:"fa-object-ungroup",description:"Descombina un rango de celdas combinadas",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"range",label:"Rango",type:"textWithVariable",required:!0,placeholder:"A1:D1"},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_set_cell_style:{title:"Estilo de Celda (Segundo Plano)",icon:"fa-paint-brush",description:"Aplica estilos a una celda o rango",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"range",label:"Celda o Rango",type:"textWithVariable",required:!0,placeholder:"A1 o A1:D10"},{key:"bold",label:"Negrita",type:"toggle",default:!1},{key:"italic",label:"Cursiva",type:"toggle",default:!1},{key:"underline",label:"Subrayado",type:"toggle",default:!1},{key:"fontColor",label:"Color de fuente",type:"text",placeholder:"#000000"},{key:"bgColor",label:"Color de fondo",type:"text",placeholder:"#FFFFFF"},{key:"fontSize",label:"Tamao de fuente",type:"number",min:6,max:72},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_set_column_width:{title:"Ancho de Columna (Segundo Plano)",icon:"fa-arrows-alt-h",description:"Establece el ancho de una columna",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"column",label:"Columna",type:"textWithVariable",required:!0,placeholder:"A"},{key:"width",label:"Ancho",type:"number",required:!0,min:1,max:255},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_set_row_height:{title:"Alto de Fila (Segundo Plano)",icon:"fa-arrows-alt-v",description:"Establece el alto de una fila",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"row",label:"Fila",type:"number",required:!0,min:1},{key:"height",label:"Alto",type:"number",required:!0,min:1,max:409},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_freeze_panes:{title:"Inmovilizar Paneles (Segundo Plano)",icon:"fa-snowflake",description:"Inmoviliza filas y/o columnas",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"cell",label:"Celda de referencia",type:"textWithVariable",required:!0,placeholder:"B2 (inmoviliza fila 1 y columna A)"},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_add_image:{title:"Insertar Imagen (Segundo Plano)",icon:"fa-image",description:"Inserta una imagen en la hoja",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"imagePath",label:"Ruta de la imagen",type:"fileWithVariable",required:!0,allowedTypes:["file","string"]},{key:"cell",label:"Celda de destino",type:"textWithVariable",required:!0,placeholder:"A1"},{key:"width",label:"Ancho (px)",type:"number",min:1},{key:"height",label:"Alto (px)",type:"number",min:1},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_add_chart:{title:"Insertar Grfico (Segundo Plano)",icon:"fa-chart-bar",description:"Crea un grfico a partir de datos",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"dataRange",label:"Rango de datos",type:"textWithVariable",required:!0,placeholder:"A1:D10"},{key:"chartType",label:"Tipo de grfico",type:"select",default:"bar",options:[{value:"bar",label:"Barras"},{value:"column",label:"Columnas"},{value:"line",label:"Lneas"},{value:"pie",label:"Circular"},{value:"area",label:"rea"},{value:"scatter",label:"Dispersin"}]},{key:"title",label:"Ttulo del grfico",type:"textWithVariable"},{key:"position",label:"Celda de destino",type:"textWithVariable",required:!0,placeholder:"F1"},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_protect_sheet:{title:"Proteger Hoja (Segundo Plano)",icon:"fa-lock",description:"Protege una hoja con contrasea",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"password",label:"Contrasea",type:"password"}]},excel_bg_unprotect_sheet:{title:"Desproteger Hoja (Segundo Plano)",icon:"fa-unlock",description:"Quita la proteccin de una hoja",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"password",label:"Contrasea",type:"password"}]},excel_bg_to_csv:{title:"Exportar a CSV (Segundo Plano)",icon:"fa-file-csv",description:"Exporta la hoja a un archivo CSV",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"outputPath",label:"Ruta de salida",type:"fileWithVariable",required:!0,allowedTypes:["file","string"]},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"delimiter",label:"Delimitador",type:"select",default:",",options:[{value:",",label:"Coma (,)"},{value:";",label:"Punto y coma (;)"},{value:"	",label:"Tabulador"},{value:"|",label:"Pipe (|)"}]},{key:"encoding",label:"Codificacin",type:"select",default:"utf-8",options:[{value:"utf-8",label:"UTF-8"},{value:"latin-1",label:"Latin-1"},{value:"cp1252",label:"Windows-1252"}]}]},excel_bg_to_json:{title:"Exportar a JSON (Segundo Plano)",icon:"fa-file-code",description:"Exporta los datos a formato JSON",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"outputType",label:"Tipo de salida",type:"select",default:"variable",options:[{value:"variable",label:"Variable"},{value:"file",label:"Archivo"}]},{key:"outputPath",label:"Ruta de salida",type:"fileWithVariable",condition:{field:"outputType",value:"file"},allowedTypes:["file","string"]},{key:"variable",label:"Guardar en Variable",type:"variable",condition:{field:"outputType",value:"variable"}},{key:"orient",label:"Orientacin",type:"select",default:"records",options:[{value:"records",label:"Lista de objetos"},{value:"columns",label:"Por columnas"},{value:"index",label:"Por ndice"}]}]},excel_bg_to_datatable:{title:"Convertir a DataTable (Segundo Plano)",icon:"fa-table",description:"Convierte la hoja a un DataTable",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sheetName",label:"Hoja",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"includeHeaders",label:"Primera fila como encabezados",type:"toggle",default:!0},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},excel_bg_from_csv:{title:"Importar desde CSV (Segundo Plano)",icon:"fa-file-csv",description:"Importa datos desde un archivo CSV",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"csvPath",label:"Ruta del archivo CSV",type:"fileWithVariable",required:!0,allowedTypes:["file","string"]},{key:"startCell",label:"Celda inicial",type:"textWithVariable",default:"A1"},{key:"sheetName",label:"Hoja destino",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"},{key:"delimiter",label:"Delimitador",type:"select",default:",",options:[{value:",",label:"Coma (,)"},{value:";",label:"Punto y coma (;)"},{value:"	",label:"Tabulador"},{value:"|",label:"Pipe (|)"}]},{key:"encoding",label:"Codificacin",type:"select",default:"utf-8",options:[{value:"utf-8",label:"UTF-8"},{value:"latin-1",label:"Latin-1"},{value:"cp1252",label:"Windows-1252"}]}]},excel_bg_from_json:{title:"Importar desde JSON (Segundo Plano)",icon:"fa-file-code",description:"Importa datos desde JSON",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"sourceType",label:"Origen",type:"select",default:"variable",options:[{value:"variable",label:"Variable"},{value:"file",label:"Archivo"}]},{key:"jsonPath",label:"Ruta del archivo JSON",type:"fileWithVariable",condition:{field:"sourceType",value:"file"},allowedTypes:["file","string"]},{key:"jsonVariable",label:"Variable con JSON",type:"variableSelect",condition:{field:"sourceType",value:"variable"}},{key:"startCell",label:"Celda inicial",type:"textWithVariable",default:"A1"},{key:"sheetName",label:"Hoja destino",type:"textWithVariable",placeholder:"Dejar vaco para hoja activa"}]},excel_bg_save:{title:"Guardar (Segundo Plano)",icon:"fa-save",description:"Guarda los cambios en el archivo",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0}]},excel_bg_save_as:{title:"Guardar Como (Segundo Plano)",icon:"fa-save",description:"Guarda el archivo con un nuevo nombre",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"filePath",label:"Nueva ruta del archivo",type:"fileWithVariable",required:!0,allowedTypes:["file","string"]},{key:"format",label:"Formato",type:"select",default:"xlsx",options:[{value:"xlsx",label:"Excel 2007+ (.xlsx)"},{value:"xls",label:"Excel 97-2003 (.xls)"},{value:"xlsm",label:"Excel con Macros (.xlsm)"}]}]},excel_bg_close:{title:"Cerrar Archivo (Segundo Plano)",icon:"fa-times-circle",description:"Cierra el archivo Excel sin guardarlo",fields:[{key:"session",label:"Sesin Excel",type:"variableSelect",required:!0},{key:"save",label:"Guardar antes de cerrar",type:"toggle",default:!1}]},pdf_read:{title:"Leer PDF",icon:"fa-file-pdf",description:"Extrae texto de un archivo PDF",fields:[{key:"filePath",label:"Archivo PDF",type:"file",required:!0,fileType:"open",accept:".pdf"},{key:"pages",label:"Pginas",type:"text",placeholder:"Todas, o 1-5, 7, 10-12"},{key:"extractType",label:"Extraer",type:"select",default:"text",options:[{value:"text",label:"Texto"},{value:"tables",label:"Tablas"},{value:"images",label:"Imgenes"},{value:"all",label:"Todo"}]},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},pdf_create:{title:"Crear PDF",icon:"fa-file-pdf",description:"Crea un nuevo archivo PDF",fields:[{key:"source",label:"Origen",type:"select",default:"html",options:[{value:"html",label:"Desde HTML"},{value:"text",label:"Desde Texto"},{value:"url",label:"Desde URL"},{value:"template",label:"Desde Plantilla"}]},{key:"content",label:"Contenido",type:"textarea",required:!0,rows:6,condition:{field:"source",inValues:["html","text"]}},{key:"url",label:"URL",type:"url",condition:{field:"source",value:"url"}},{key:"outputPath",label:"Ruta de Salida",type:"file",required:!0,fileType:"save",accept:".pdf"},{key:"pageSize",label:"Tamao de Pgina",type:"select",default:"A4",options:[{value:"A4",label:"A4"},{value:"Letter",label:"Carta"},{value:"Legal",label:"Legal"}]},{key:"orientation",label:"Orientacin",type:"buttonGroup",default:"portrait",options:[{value:"portrait",label:"Vertical"},{value:"landscape",label:"Horizontal"}]}]},rest_get:{title:"GET Request",icon:"fa-download",description:"Realiza una peticin HTTP GET",fields:[{key:"url",label:"URL",type:"url",required:!0,placeholder:"https://api.ejemplo.com/endpoint"},{key:"headers",label:"Headers",type:"keyValue",helpText:"Encabezados HTTP adicionales"},{key:"params",label:"Query Parameters",type:"keyValue",helpText:"Parmetros de URL"},{key:"auth",label:"Autenticacin",type:"select",default:"none",options:[{value:"none",label:"Sin autenticacin"},{value:"basic",label:"Basic Auth"},{value:"bearer",label:"Bearer Token"},{value:"apikey",label:"API Key"}]},{key:"username",label:"Usuario",type:"text",condition:{field:"auth",value:"basic"}},{key:"password",label:"Contrasea",type:"password",condition:{field:"auth",value:"basic"}},{key:"token",label:"Token",type:"password",condition:{field:"auth",value:"bearer"}},{key:"apiKey",label:"API Key",type:"password",condition:{field:"auth",value:"apikey"}},{key:"apiKeyHeader",label:"Nombre del Header",type:"text",default:"X-API-Key",condition:{field:"auth",value:"apikey"}},{key:"timeout",label:"Timeout (segundos)",type:"number",default:30},{key:"variable",label:"Guardar Respuesta en",type:"variable",required:!0}]},rest_post:{title:"POST Request",icon:"fa-upload",description:"Realiza una peticin HTTP POST",fields:[{key:"url",label:"URL",type:"url",required:!0},{key:"contentType",label:"Content-Type",type:"select",default:"application/json",options:[{value:"application/json",label:"JSON"},{value:"application/x-www-form-urlencoded",label:"Form URL Encoded"},{value:"multipart/form-data",label:"Multipart Form Data"},{value:"text/plain",label:"Texto plano"},{value:"application/xml",label:"XML"}]},{key:"body",label:"Cuerpo (Body)",type:"code",language:"json",required:!0,rows:8},{key:"headers",label:"Headers",type:"keyValue"},{key:"auth",label:"Autenticacin",type:"select",default:"none",options:[{value:"none",label:"Sin autenticacin"},{value:"basic",label:"Basic Auth"},{value:"bearer",label:"Bearer Token"}]},{key:"token",label:"Token",type:"password",condition:{field:"auth",value:"bearer"}},{key:"variable",label:"Guardar Respuesta en",type:"variable",required:!0}]},rest_put:{title:"PUT Request",icon:"fa-edit",description:"Realiza una peticin HTTP PUT",extends:"rest_post"},rest_delete:{title:"DELETE Request",icon:"fa-trash",description:"Realiza una peticin HTTP DELETE",fields:[{key:"url",label:"URL",type:"url",required:!0},{key:"headers",label:"Headers",type:"keyValue"},{key:"auth",label:"Autenticacin",type:"select",default:"none",options:[{value:"none",label:"Sin autenticacin"},{value:"bearer",label:"Bearer Token"}]},{key:"token",label:"Token",type:"password",condition:{field:"auth",value:"bearer"}},{key:"variable",label:"Guardar Respuesta en",type:"variable"}]},http_get:{extends:"rest_get"},http_post:{extends:"rest_post"},http_put:{extends:"rest_put"},http_delete:{extends:"rest_delete"},sap_connect:{title:"Conectar SAP",icon:"fa-plug",description:"Conecta con SAP",fields:[{key:"connectionType",label:"Tipo de Conexin",type:"select",default:"gui",options:[{value:"gui",label:"SAP GUI"},{value:"rfc",label:"RFC (API)"},{value:"bapi",label:"BAPI"}]},{key:"server",label:"Servidor",type:"text",required:!0},{key:"systemNumber",label:"Nmero de Sistema",type:"text",default:"00"},{key:"client",label:"Mandante",type:"text",required:!0,placeholder:"100"},{key:"username",label:"Usuario",type:"text",required:!0},{key:"password",label:"Contrasea",type:"password",required:!0},{key:"language",label:"Idioma",type:"select",default:"ES",options:[{value:"ES",label:"Espaol"},{value:"EN",label:"Ingls"},{value:"DE",label:"Alemn"}]}]},sap_transaction:{title:"Ejecutar Transaccin",icon:"fa-exchange-alt",description:"Ejecuta una transaccin SAP",fields:[{key:"transaction",label:"Cdigo de Transaccin",type:"text",required:!0,placeholder:"VA01, MM01, ME21N..."},{key:"parameters",label:"Parmetros",type:"keyValue",helpText:"Campo: Valor para pantalla inicial"},{key:"waitForScreen",label:"Esperar pantalla",type:"toggle",default:!0}]},sap_get_data:{title:"Obtener Datos",icon:"fa-database",description:"Obtiene datos de SAP",fields:[{key:"table",label:"Tabla/Vista",type:"text",required:!0},{key:"fields",label:"Campos",type:"tags",placeholder:"MATNR, MAKTX..."},{key:"filter",label:"Filtro",type:"text",placeholder:"MATNR EQ '12345'"},{key:"maxRows",label:"Mximo de Filas",type:"number",default:100},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},sap_create_order:{title:"Crear Orden",icon:"fa-shopping-cart",description:"Crea una orden en SAP",fields:[{key:"orderType",label:"Tipo de Orden",type:"select",required:!0,options:[{value:"SO",label:"Orden de Venta"},{value:"PO",label:"Orden de Compra"},{value:"PR",label:"Solicitud de Pedido"}]},{key:"documentType",label:"Tipo de Documento",type:"text",placeholder:"ZOR, NB..."},{key:"data",label:"Datos de la Orden",type:"keyValue",required:!0},{key:"items",label:"Posiciones",type:"variable",helpText:"Array con las posiciones"},{key:"variable",label:"Guardar Nmero de Documento",type:"variable"}]},sap_disconnect:{title:"Desconectar SAP",icon:"fa-unlink",description:"Cierra la conexin con SAP",fields:[]},m365_calendar:{title:"Calendario",icon:"fa-calendar",description:"Interacta con Microsoft Calendar",fields:[{key:"action",label:"Accin",type:"select",required:!0,options:[{value:"getEvents",label:"Obtener eventos"},{value:"createEvent",label:"Crear evento"},{value:"deleteEvent",label:"Eliminar evento"}]},{key:"dateFrom",label:"Fecha Desde",type:"date",condition:{field:"action",value:"getEvents"}},{key:"dateTo",label:"Fecha Hasta",type:"date",condition:{field:"action",value:"getEvents"}},{key:"title",label:"Ttulo",type:"text",condition:{field:"action",value:"createEvent"}},{key:"start",label:"Inicio",type:"datetime",condition:{field:"action",value:"createEvent"}},{key:"end",label:"Fin",type:"datetime",condition:{field:"action",value:"createEvent"}},{key:"attendees",label:"Asistentes",type:"tags",condition:{field:"action",value:"createEvent"}},{key:"variable",label:"Guardar en Variable",type:"variable"}]},m365_excel:{title:"Excel Online",icon:"fa-file-excel",description:"Trabaja con Excel Online",fields:[{key:"fileId",label:"ID del Archivo",type:"text",required:!0},{key:"action",label:"Accin",type:"select",required:!0,options:[{value:"read",label:"Leer datos"},{value:"write",label:"Escribir datos"},{value:"addRow",label:"Agregar fila"}]},{key:"range",label:"Rango",type:"text",placeholder:"A1:D10"},{key:"data",label:"Datos",type:"variable",condition:{field:"action",inValues:["write","addRow"]}},{key:"variable",label:"Guardar en Variable",type:"variable",condition:{field:"action",value:"read"}}]},m365_onedrive:{title:"OneDrive",icon:"fa-cloud",description:"Gestiona archivos en OneDrive",fields:[{key:"action",label:"Accin",type:"select",required:!0,options:[{value:"upload",label:"Subir archivo"},{value:"download",label:"Descargar archivo"},{value:"list",label:"Listar archivos"},{value:"delete",label:"Eliminar archivo"}]},{key:"localPath",label:"Ruta Local",type:"file",condition:{field:"action",inValues:["upload","download"]}},{key:"remotePath",label:"Ruta en OneDrive",type:"text",placeholder:"/Documents/archivo.pdf"},{key:"variable",label:"Guardar en Variable",type:"variable",condition:{field:"action",inValues:["list","download"]}}]},m365_outlook:{title:"Outlook",icon:"fa-envelope",description:"Enva emails con Outlook",extends:"email_send"},mouse_click:{title:"Click Mouse",icon:"fa-mouse-pointer",description:"Realiza un clic en coordenadas de pantalla",fields:[{key:"x",label:"Posicin X",type:"number",required:!0},{key:"y",label:"Posicin Y",type:"number",required:!0},{key:"button",label:"Botn",type:"buttonGroup",default:"left",options:[{value:"left",label:"Izquierdo"},{value:"right",label:"Derecho"},{value:"middle",label:"Central"}]},{key:"clickType",label:"Tipo",type:"buttonGroup",default:"single",options:[{value:"single",label:"Simple"},{value:"double",label:"Doble"}]}]},mouse_move:{title:"Mover Mouse",icon:"fa-arrows-alt",description:"Mueve el cursor a una posicin",fields:[{key:"x",label:"Posicin X",type:"number",required:!0},{key:"y",label:"Posicin Y",type:"number",required:!0},{key:"smooth",label:"Movimiento suave",type:"toggle",default:!0},{key:"duration",label:"Duracin (ms)",type:"number",default:200,condition:{field:"smooth",value:!0}}]},keyboard_type:{title:"Teclear",icon:"fa-keyboard",description:"Escribe texto con el teclado",fields:[{key:"text",label:"Texto",type:"textarea",required:!0,rows:3},{key:"delay",label:"Delay entre teclas (ms)",type:"slider",default:50,min:0,max:500}]},keyboard_hotkey:{title:"Tecla Rpida",icon:"fa-keyboard",description:"Presiona combinacin de teclas",fields:[{key:"modifiers",label:"Modificadores",type:"multiSelect",options:[{value:"ctrl",label:"Ctrl"},{value:"alt",label:"Alt"},{value:"shift",label:"Shift"},{value:"win",label:"Windows"}]},{key:"key",label:"Tecla",type:"select",required:!0,options:[{value:"a",label:"A"},{value:"c",label:"C"},{value:"v",label:"V"},{value:"x",label:"X"},{value:"s",label:"S"},{value:"z",label:"Z"},{value:"f",label:"F"},{value:"enter",label:"Enter"},{value:"tab",label:"Tab"},{value:"escape",label:"Escape"},{value:"delete",label:"Delete"},{value:"backspace",label:"Backspace"},{value:"f1",label:"F1"},{value:"f2",label:"F2"},{value:"f5",label:"F5"},{value:"f11",label:"F11"},{value:"f12",label:"F12"}]}]},key_press:{extends:"keyboard_hotkey"},hotkey:{extends:"keyboard_hotkey"},wait_seconds:{title:"Esperar Segundos",icon:"fa-hourglass-half",description:"Pausa la ejecucin",fields:[{key:"seconds",label:"Segundos",type:"slider",required:!0,default:5,min:1,max:300,step:1,unit:"s"}]},wait_element:{title:"Esperar Elemento",icon:"fa-eye",description:"Espera a que un elemento aparezca o cambie",fields:[{key:"selector",label:"Selector",type:"selector",required:!0},{key:"state",label:"Esperar hasta que",type:"select",default:"visible",options:[{value:"visible",label:"Sea visible"},{value:"hidden",label:"Desaparezca"},{value:"attached",label:"Exista en DOM"},{value:"detached",label:"No exista en DOM"},{value:"enabled",label:"Est habilitado"}]},{key:"timeout",label:"Timeout (segundos)",type:"number",default:30,min:1,max:300}]},wait_page_load:{title:"Esperar Carga",icon:"fa-spinner",description:"Espera a que la pgina cargue completamente",fields:[{key:"waitUntil",label:"Esperar hasta",type:"select",default:"load",options:[{value:"load",label:"Carga completa"},{value:"domcontentloaded",label:"DOM cargado"},{value:"networkidle0",label:"Sin actividad de red"}]},{key:"timeout",label:"Timeout (segundos)",type:"number",default:30}]},wait_condition:{title:"Esperar Condicin",icon:"fa-hourglass-half",description:"Espera hasta que una condicin especfica sea verdadera",fields:[{key:"conditionCategory",label:"Categora de Condicin",type:"select",required:!0,default:"application",options:[{value:"application",label:"Aplicacin"},{value:"file",label:"Archivo"},{value:"folder",label:"Carpeta"},{value:"window",label:"Ventana"},{value:"boolean",label:"Booleano"},{value:"string",label:"Cadena"},{value:"number",label:"Nmero"},{value:"ping",label:"Ping"},{value:"service",label:"Servicio Windows"},{value:"process",label:"Proceso"},{value:"image",label:"Reconocimiento de Imagen"},{value:"datatable",label:"Tabla de Datos"},{value:"datetime",label:"Fecha y Hora"},{value:"javascript",label:"JavaScript"},{value:"webcontrol",label:"Control Web"},{value:"dictionary",label:"Diccionario"}]},{key:"appCondition",label:"Condicin",type:"select",default:"not_running",options:[{value:"not_running",label:"La aplicacin no se est ejecutando"},{value:"running",label:"La aplicacin se est ejecutando"}],condition:{field:"conditionCategory",value:"application"}},{key:"applicationName",label:"Nombre de la aplicacin",type:"text",required:!0,placeholder:"notepad.exe, chrome.exe...",condition:{field:"conditionCategory",value:"application"}},{key:"fileCondition",label:"Condicin",type:"select",default:"exists",options:[{value:"exists",label:"Archivo existe"},{value:"not_exists",label:"El archivo no existe"},{value:"date",label:"Fecha del archivo"},{value:"extension",label:"Extensin del archivo"},{value:"size",label:"Tamao del archivo"}],condition:{field:"conditionCategory",value:"file"}},{key:"filePath",label:"Ruta del archivo",type:"file",required:!0,condition:{field:"conditionCategory",value:"file"}},{key:"fileSizeOperator",label:"Operador de tamao",type:"select",options:[{value:"greater",label:"Mayor que"},{value:"less",label:"Menor que"},{value:"equals",label:"Igual a"}],condition:{field:"fileCondition",value:"size"}},{key:"fileSizeValue",label:"Tamao (KB)",type:"number",min:0,condition:{field:"fileCondition",value:"size"}},{key:"folderCondition",label:"Condicin",type:"select",default:"exists",options:[{value:"exists",label:"Carpeta existe"},{value:"not_exists",label:"La carpeta no existe"}],condition:{field:"conditionCategory",value:"folder"}},{key:"folderPath",label:"Ruta de la carpeta",type:"folder",required:!0,condition:{field:"conditionCategory",value:"folder"}},{key:"windowCondition",label:"Condicin",type:"select",default:"exists",options:[{value:"exists",label:"Ventana existe"},{value:"not_exists",label:"Ventana no existe"},{value:"title_changed",label:"La ventana con el mismo ttulo no existe"},{value:"title_same",label:"Existe una ventana con el mismo ttulo"}],condition:{field:"conditionCategory",value:"window"}},{key:"windowTitle",label:"Ttulo de la ventana",type:"text",placeholder:"Ttulo exacto o parcial",condition:{field:"conditionCategory",value:"window"}},{key:"windowMatchType",label:"Tipo de coincidencia",type:"select",default:"contains",options:[{value:"exact",label:"Ttulo exacto"},{value:"contains",label:"Contiene"},{value:"regex",label:"Expresin regular"}],condition:{field:"conditionCategory",value:"window"}},{key:"booleanVariable",label:"Variable booleana",type:"variable",required:!0,condition:{field:"conditionCategory",value:"boolean"}},{key:"booleanExpected",label:"Valor esperado",type:"select",default:"true",options:[{value:"true",label:"Verdadero (True)"},{value:"false",label:"Falso (False)"}],condition:{field:"conditionCategory",value:"boolean"}},{key:"stringCondition",label:"Condicin de cadena",type:"select",default:"equals",options:[{value:"equals",label:"Es igual a"},{value:"not_equals",label:"No es igual a"},{value:"contains",label:"Contiene"},{value:"starts_with",label:"Empieza con"},{value:"ends_with",label:"Termina con"},{value:"is_empty",label:"Est vaca"},{value:"is_not_empty",label:"No est vaca"}],condition:{field:"conditionCategory",value:"string"}},{key:"stringVariable",label:"Variable de cadena",type:"variable",required:!0,condition:{field:"conditionCategory",value:"string"}},{key:"stringCompareValue",label:"Valor a comparar",type:"text",condition:{field:"stringCondition",notInValues:["is_empty","is_not_empty"]}},{key:"numberCondition",label:"Condicin numrica",type:"select",default:"equals",options:[{value:"equals",label:"Es igual a"},{value:"not_equals",label:"No es igual a"},{value:"greater",label:"Mayor que"},{value:"greater_equal",label:"Mayor o igual que"},{value:"less",label:"Menor que"},{value:"less_equal",label:"Menor o igual que"}],condition:{field:"conditionCategory",value:"number"}},{key:"numberVariable",label:"Variable numrica",type:"variable",required:!0,condition:{field:"conditionCategory",value:"number"}},{key:"numberCompareValue",label:"Valor a comparar",type:"number",condition:{field:"conditionCategory",value:"number"}},{key:"pingCondition",label:"Condicin",type:"select",default:"success",options:[{value:"success",label:"El ping es correcto"},{value:"fail",label:"Ping est incorrecto"}],condition:{field:"conditionCategory",value:"ping"}},{key:"pingHost",label:"Host/IP",type:"text",required:!0,placeholder:"192.168.1.1 o google.com",condition:{field:"conditionCategory",value:"ping"}},{key:"serviceCondition",label:"Condicin",type:"select",default:"running",options:[{value:"running",label:"El servicio se est ejecutando"},{value:"not_running",label:"El servicio no se est ejecutando"}],condition:{field:"conditionCategory",value:"service"}},{key:"serviceName",label:"Nombre del servicio",type:"text",required:!0,placeholder:"Nombre del servicio Windows",condition:{field:"conditionCategory",value:"service"}},{key:"processCondition",label:"Condicin",type:"select",default:"running",options:[{value:"running",label:"El proceso se est ejecutando"},{value:"not_running",label:"El proceso no se est ejecutando"}],condition:{field:"conditionCategory",value:"process"}},{key:"processName",label:"Nombre del proceso",type:"text",required:!0,placeholder:"chrome.exe, notepad.exe...",condition:{field:"conditionCategory",value:"process"}},{key:"imageCondition",label:"Condicin",type:"select",default:"found_screen",options:[{value:"found_screen",label:"Archivo de imagen se encontr en la ventana"},{value:"not_found_screen",label:"El archivo de imagen NO se encontr en la ventana"},{value:"found_file",label:"Archivo de imagen se encontr en archivo de imagen"},{value:"not_found_file",label:"Ventana NO se encontr en archivo de imagen"}],condition:{field:"conditionCategory",value:"image"}},{key:"imageFile",label:"Archivo de imagen",type:"file",accept:".png,.jpg,.jpeg,.bmp",condition:{field:"conditionCategory",value:"image"}},{key:"imageTolerance",label:"Tolerancia (%)",type:"slider",default:90,min:50,max:100,condition:{field:"conditionCategory",value:"image"}},{key:"datatableCondition",label:"Condicin",type:"select",default:"is_empty",options:[{value:"is_empty",label:"La tabla de datos se encuentra vaca"},{value:"row_count",label:"Nmero de filas"},{value:"column_count",label:"Nmero de columnas"}],condition:{field:"conditionCategory",value:"datatable"}},{key:"datatableVariable",label:"Variable de tabla",type:"variable",condition:{field:"conditionCategory",value:"datatable"}},{key:"dictionaryCondition",label:"Condicin",type:"select",default:"key_exists",options:[{value:"key_exists",label:"Comprobar clave (existe)"},{value:"value_exists",label:"Verifique un nico valor"}],condition:{field:"conditionCategory",value:"dictionary"}},{key:"dictionaryVariable",label:"Variable de diccionario",type:"variable",condition:{field:"conditionCategory",value:"dictionary"}},{key:"dictionaryKey",label:"Clave a buscar",type:"text",condition:{field:"conditionCategory",value:"dictionary"}},{key:"javascriptCondition",label:"Condicin",type:"select",default:"script_success",options:[{value:"script_success",label:"La secuencia de comandos es correcta"},{value:"script_fail",label:"La secuencia de comandos es incorrecta"}],condition:{field:"conditionCategory",value:"javascript"}},{key:"javascriptCode",label:"Cdigo JavaScript",type:"code",language:"javascript",rows:5,placeholder:`// Retorna true o false
return true;`,condition:{field:"conditionCategory",value:"javascript"}},{key:"webControlCondition",label:"Condicin",type:"select",default:"exists",options:[{value:"exists",label:"El control web existe"},{value:"not_exists",label:"El control web no existe"},{value:"active",label:"El control de ventanas est activo"},{value:"not_active",label:"El control de ventanas no est activo"}],condition:{field:"conditionCategory",value:"webcontrol"}},{key:"webControlSelector",label:"Selector",type:"selector",condition:{field:"conditionCategory",value:"webcontrol"}},{key:"datetimeCondition",label:"Condicin de fecha",type:"select",default:"equals",options:[{value:"equals",label:"Es igual a"},{value:"before",label:"Es antes de"},{value:"after",label:"Es despus de"}],condition:{field:"conditionCategory",value:"datetime"}},{key:"datetimeVariable",label:"Variable de fecha",type:"variable",condition:{field:"conditionCategory",value:"datetime"}},{key:"datetimeCompareValue",label:"Fecha a comparar",type:"datetime",condition:{field:"conditionCategory",value:"datetime"}},{key:"timeout",label:"Cunto tiempo desea esperar para que esta condicin sea verdadera? (segundos)",type:"number",required:!0,default:30,min:1,max:3600},{key:"throwOnTimeout",label:"Muestra una excepcin si la condicin no se cumple",type:"checkbox",default:!0},{key:"checkInterval",label:"Intervalo de verificacin (ms)",type:"number",default:500,min:100,max:1e4,advanced:!0}]},wait_screen_change:{title:"Esperar Cambio en la Pantalla",icon:"fa-desktop",description:"Espera hasta que cambie una regin especfica de la pantalla",fields:[{key:"windowTarget",label:"Ventana",type:"tabs",default:"browser",tabs:[{value:"browser",label:"Navegador"},{value:"application",label:"Aplicacin"},{value:"variable",label:"Variable"}]},{key:"windowSelector",label:"Ventana",type:"windowSelector",required:!0,helpText:"Seleccione la ventana a monitorear"},{key:"resizeWindow",label:"Cambiar tamao de ventana",type:"checkbox",default:!1,helpText:"Puede mejorar la precisin del bot"},{key:"captureRegion",label:"Regin a monitorear",type:"region",helpText:"Define el rea de la pantalla a monitorear"},{key:"regionX",label:"X ",type:"number",required:!0,placeholder:"Obligatorio",helpText:"Coordenada X de la esquina superior izquierda"},{key:"regionY",label:"Y ",type:"number",required:!0,placeholder:"Obligatorio",helpText:"Coordenada Y de la esquina superior izquierda"},{key:"regionWidth",label:"Ancho ",type:"number",required:!0,placeholder:"Obligatorio",helpText:"Ancho de la regin en pxeles"},{key:"regionHeight",label:"Alto ",type:"number",required:!0,placeholder:"Obligatorio",helpText:"Alto de la regin en pxeles"},{key:"waitBeforeCompare",label:"Cunto tiempo de espera antes de comparar las pantallas? (segundos)",type:"number",default:0,min:0},{key:"timeout",label:"Cunto tiempo de espera antes de detener la comparacin de las pantallas? (segundos)",type:"number",default:5,min:1},{key:"throwOnNoChange",label:"Muestra una excepcin si la pantalla no cambia",type:"checkbox",default:!1}]},wait_window:{title:"Esperar Ventana",icon:"fa-window-restore",description:"Espera a que una ventana especfica aparezca o est disponible",fields:[{key:"windowTarget",label:"Ventana",type:"tabs",default:"browser",tabs:[{value:"browser",label:"Navegador"},{value:"application",label:"Aplicacin"},{value:"variable",label:"Variable"}]},{key:"windowSelector",label:"Seleccionar Ventana",type:"windowSelector",required:!0,helpText:"Seleccione la ventana a esperar"},{key:"timeout",label:"Cunto tiempo desea esperar para que esta condicin sea verdadera? (segundos)",type:"number",default:5,min:1,max:3600},{key:"throwOnTimeout",label:"Muestra una excepcin si no se puede mostrar la ventana de espera",type:"checkbox",default:!0}]},log_info:{title:"Log Info",icon:"fa-info",description:"Registra un mensaje informativo",fields:[{key:"message",label:"Mensaje",type:"textarea",required:!0,rows:2},{key:"includeTimestamp",label:"Incluir timestamp",type:"toggle",default:!0}]},log_warning:{title:"Log Warning",icon:"fa-exclamation-triangle",description:"Registra una advertencia",fields:[{key:"message",label:"Mensaje",type:"textarea",required:!0,rows:2}]},log_error:{title:"Log Error",icon:"fa-times-circle",description:"Registra un error",fields:[{key:"message",label:"Mensaje",type:"textarea",required:!0,rows:2},{key:"throwError",label:"Lanzar excepcin",type:"toggle",default:!1}]},message_box:{title:"Mostrar Mensaje",icon:"fa-info-circle",description:"Muestra un cuadro de mensaje",fields:[{key:"title",label:"Ttulo",type:"text",default:"Mensaje"},{key:"message",label:"Mensaje",type:"textarea",required:!0,rows:3},{key:"type",label:"Tipo",type:"select",default:"info",options:[{value:"info",label:"Informacin",icon:"fas fa-info-circle"},{value:"success",label:"xito",icon:"fas fa-check-circle"},{value:"warning",label:"Advertencia",icon:"fas fa-exclamation-triangle"},{value:"error",label:"Error",icon:"fas fa-times-circle"},{value:"question",label:"Pregunta",icon:"fas fa-question-circle"}]},{key:"buttons",label:"Botones",type:"select",default:"ok",options:[{value:"ok",label:"OK"},{value:"okcancel",label:"OK / Cancelar"},{value:"yesno",label:"S / No"},{value:"yesnocancel",label:"S / No / Cancelar"}]},{key:"variable",label:"Guardar Respuesta en",type:"variable",condition:{field:"buttons",notValue:"ok"}}]},input_dialog:{title:"Cuadro de Entrada",icon:"fa-edit",description:"Solicita entrada del usuario",fields:[{key:"title",label:"Ttulo",type:"text",default:"Entrada"},{key:"prompt",label:"Mensaje/Prompt",type:"text",required:!0},{key:"inputType",label:"Tipo de Entrada",type:"select",default:"text",options:[{value:"text",label:"Texto"},{value:"password",label:"Contrasea"},{value:"number",label:"Nmero"},{value:"date",label:"Fecha"},{value:"dropdown",label:"Lista desplegable"}]},{key:"defaultValue",label:"Valor por Defecto",type:"text"},{key:"options",label:"Opciones",type:"tags",condition:{field:"inputType",value:"dropdown"}},{key:"required",label:"Campo requerido",type:"toggle",default:!0},{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},for_each:{extends:"for_loop"},while:{extends:"while_loop"},break:{title:"Romper Bucle",icon:"fa-stop",description:"Sale del bucle actual",fields:[]},if:{extends:"if_condition"},else:{title:"Sino (Else)",icon:"fa-code-branch",description:"Bloque else para condicin if",fields:[]},switch:{title:"Switch",icon:"fa-random",description:"Mltiples condiciones basadas en un valor",fields:[{key:"expression",label:"Expresin a Evaluar",type:"expression",required:!0},{key:"cases",label:"Casos",type:"cases",helpText:"Agregar casos con sus valores"},{key:"hasDefault",label:"Incluir caso por defecto",type:"toggle",default:!0}]},clipboard_copy:{title:"Copiar",icon:"fa-copy",description:"Copia texto al portapapeles",fields:[{key:"text",label:"Texto a Copiar",type:"textarea",required:!0,rows:3}]},clipboard_paste:{title:"Pegar",icon:"fa-paste",description:"Pega contenido del portapapeles",fields:[{key:"target",label:"Destino",type:"select",default:"active",options:[{value:"active",label:"Elemento activo"},{value:"selector",label:"Selector especfico"}]},{key:"selector",label:"Selector",type:"selector",condition:{field:"target",value:"selector"}}]},clipboard_get:{title:"Obtener Contenido",icon:"fa-clipboard-list",description:"Obtiene el contenido del portapapeles",fields:[{key:"variable",label:"Guardar en Variable",type:"variable",required:!0}]},datatable_create:{title:"Crear DataTable",icon:"fa-plus-square",description:"Crea una nueva tabla de datos",fields:[{key:"columns",label:"Columnas",type:"tags",required:!0,placeholder:"Agregar columna..."},{key:"variable",label:"Nombre de Variable",type:"variable",required:!0}]},datatable_add_row:{title:"Aadir Fila",icon:"fa-plus",description:"Aade una fila a la tabla",fields:[{key:"datatable",label:"DataTable",type:"variable",required:!0},{key:"data",label:"Datos de la Fila",type:"keyValue",required:!0}]},datatable_filter:{title:"Filtrar",icon:"fa-filter",description:"Filtra filas de la tabla",fields:[{key:"datatable",label:"DataTable",type:"variable",required:!0},{key:"column",label:"Columna",type:"text",required:!0},{key:"operator",label:"Operador",type:"select",options:[{value:"==",label:"Igual a"},{value:"!=",label:"Diferente de"},{value:"contains",label:"Contiene"},{value:">",label:"Mayor que"},{value:"<",label:"Menor que"}]},{key:"value",label:"Valor",type:"text",required:!0},{key:"resultVariable",label:"Guardar Resultado en",type:"variable",required:!0}]},datatable_sort:{title:"Ordenar",icon:"fa-sort",description:"Ordena la tabla por una columna",fields:[{key:"datatable",label:"DataTable",type:"variable",required:!0},{key:"column",label:"Columna",type:"text",required:!0},{key:"order",label:"Orden",type:"buttonGroup",default:"asc",options:[{value:"asc",label:"Ascendente"},{value:"desc",label:"Descendente"}]}]},datatable_export:{title:"Exportar",icon:"fa-file-export",description:"Exporta la tabla a un archivo",fields:[{key:"datatable",label:"DataTable",type:"variable",required:!0},{key:"format",label:"Formato",type:"select",default:"csv",options:[{value:"csv",label:"CSV"},{value:"xlsx",label:"Excel"},{value:"json",label:"JSON"}]},{key:"path",label:"Ruta de Salida",type:"file",fileType:"save",required:!0}]},wait:{title:"Esperar",icon:"fa-clock",description:"Pausa la ejecucin por un tiempo especfico",fields:[{key:"time",label:"Tiempo",type:"number",required:!0,default:1e3,min:0,helpText:"Tiempo de espera"},{key:"unit",label:"Unidad",type:"buttonGroup",default:"milliseconds",options:[{value:"milliseconds",label:"ms"},{value:"seconds",label:"seg"},{value:"minutes",label:"min"}]}]},excel_open:{title:"Abrir Excel",icon:"fa-file-excel",description:"Abre un archivo Excel",fields:[{key:"filePath",label:"Archivo Excel",type:"file",required:!0,fileType:"open",accept:".xlsx,.xls,.xlsm,.csv"},{key:"visible",label:"Visible",type:"checkbox",default:!0,helpText:"Mostrar la ventana de Excel"},{key:"readOnly",label:"Solo lectura",type:"checkbox",default:!1},{key:"password",label:"Contrasea",type:"password",placeholder:"Si el archivo est protegido"},{key:"variable",label:"Guardar referencia en",type:"variable",required:!0,placeholder:"excelApp"}]},excel_get_cell:{title:"Leer Celda",icon:"fa-table",description:"Lee el valor de una celda especfica",fields:[{key:"workbook",label:"Libro Excel",type:"variable",placeholder:"excelApp"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"cell",label:"Celda",type:"text",required:!0,placeholder:"A1, B5, C10..."},{key:"variable",label:"Guardar valor en",type:"variable",required:!0}]},excel_set_cell:{title:"Escribir Celda",icon:"fa-edit",description:"Escribe un valor en una celda especfica",fields:[{key:"workbook",label:"Libro Excel",type:"variable",placeholder:"excelApp"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"cell",label:"Celda",type:"text",required:!0,placeholder:"A1"},{key:"value",label:"Valor",type:"text",required:!0},{key:"valueType",label:"Tipo de valor",type:"select",default:"auto",options:[{value:"auto",label:"Detectar automtico"},{value:"text",label:"Texto"},{value:"number",label:"Nmero"},{value:"formula",label:"Frmula"},{value:"date",label:"Fecha"}]}]},excel_get_range:{title:"Leer Rango",icon:"fa-th",description:"Lee un rango de celdas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"range",label:"Rango",type:"text",required:!0,placeholder:"A1:D10"},{key:"includeHeaders",label:"Primera fila como encabezados",type:"checkbox",default:!0},{key:"variable",label:"Guardar datos en",type:"variable",required:!0}]},excel_set_range:{title:"Escribir Rango",icon:"fa-th-large",description:"Escribe datos en un rango de celdas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"startCell",label:"Celda inicial",type:"text",required:!0,placeholder:"A1"},{key:"data",label:"Datos",type:"variable",required:!0,helpText:"Variable con array de datos"},{key:"includeHeaders",label:"Incluir encabezados",type:"checkbox",default:!0}]},excel_get_last_row:{title:"ltima Fila con Datos",icon:"fa-arrow-down",description:"Obtiene el nmero de la ltima fila con datos",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"column",label:"Columna",type:"text",default:"A",helpText:"Columna a verificar (A, B, C...)"},{key:"variable",label:"Guardar nmero de fila en",type:"variable",required:!0}]},excel_get_last_column:{title:"ltima Columna con Datos",icon:"fa-arrow-right",description:"Obtiene la ltima columna con datos",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"row",label:"Fila",type:"number",default:1,helpText:"Fila a verificar"},{key:"variable",label:"Guardar columna en",type:"variable",required:!0}]},excel_insert_row:{title:"Insertar Fila",icon:"fa-plus",description:"Inserta una nueva fila",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"position",label:"Posicin",type:"select",default:"end",options:[{value:"end",label:"Al final"},{value:"beginning",label:"Al inicio"},{value:"specific",label:"Fila especfica"}]},{key:"rowNumber",label:"Nmero de fila",type:"number",condition:{field:"position",value:"specific"}},{key:"data",label:"Datos de la fila",type:"variable",helpText:"Array con los valores de cada celda"}]},excel_delete_row:{title:"Eliminar Fila",icon:"fa-minus",description:"Elimina una fila",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"rowNumber",label:"Nmero de fila",type:"number",required:!0}]},excel_insert_column:{title:"Insertar Columna",icon:"fa-columns",description:"Inserta una nueva columna",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"column",label:"Columna",type:"text",required:!0,placeholder:"A, B, C..."}]},excel_delete_column:{title:"Eliminar Columna",icon:"fa-columns",description:"Elimina una columna",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"column",label:"Columna",type:"text",required:!0,placeholder:"A, B, C..."}]},excel_format_cells:{title:"Formatear Celdas",icon:"fa-paint-brush",description:"Aplica formato a un rango de celdas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"range",label:"Rango",type:"text",required:!0,placeholder:"A1:D10"},{key:"bold",label:"Negrita",type:"checkbox",default:!1},{key:"italic",label:"Cursiva",type:"checkbox",default:!1},{key:"fontSize",label:"Tamao de fuente",type:"number",default:11},{key:"fontColor",label:"Color de texto",type:"color",default:"#000000"},{key:"backgroundColor",label:"Color de fondo",type:"color",default:"#FFFFFF"},{key:"numberFormat",label:"Formato numrico",type:"select",default:"general",options:[{value:"general",label:"General"},{value:"number",label:"Nmero (0.00)"},{value:"currency",label:"Moneda ($0.00)"},{value:"percentage",label:"Porcentaje (0%)"},{value:"date",label:"Fecha (dd/mm/yyyy)"},{value:"text",label:"Texto"}]}]},excel_add_formula:{title:"Agregar Frmula",icon:"fa-calculator",description:"Inserta una frmula en una celda",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"cell",label:"Celda",type:"text",required:!0,placeholder:"A1"},{key:"formula",label:"Frmula",type:"text",required:!0,placeholder:"=SUM(A1:A10), =VLOOKUP(...)",helpText:"Incluir el signo = al inicio"}]},excel_create_chart:{title:"Crear Grfico",icon:"fa-chart-bar",description:"Crea un grfico a partir de datos",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"dataRange",label:"Rango de datos",type:"text",required:!0,placeholder:"A1:D10"},{key:"chartType",label:"Tipo de grfico",type:"select",default:"column",options:[{value:"column",label:"Columnas"},{value:"bar",label:"Barras"},{value:"line",label:"Lneas"},{value:"pie",label:"Circular"},{value:"area",label:"rea"},{value:"scatter",label:"Dispersin"}]},{key:"title",label:"Ttulo del grfico",type:"text"},{key:"position",label:"Posicin",type:"text",placeholder:"F1",helpText:"Celda donde ubicar el grfico"}]},excel_filter_data:{title:"Filtrar Datos",icon:"fa-filter",description:"Aplica filtros a una tabla de datos",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"range",label:"Rango",type:"text",required:!0,placeholder:"A1:D100"},{key:"column",label:"Columna a filtrar",type:"text",required:!0,placeholder:"A, B, C..."},{key:"criteria",label:"Criterio",type:"text",required:!0,placeholder:'>=100, ="Activo", <>""'}]},excel_sort_data:{title:"Ordenar Datos",icon:"fa-sort-alpha-down",description:"Ordena datos en un rango",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"range",label:"Rango",type:"text",required:!0,placeholder:"A1:D100"},{key:"sortColumn",label:"Columna de ordenacin",type:"text",required:!0},{key:"order",label:"Orden",type:"buttonGroup",default:"asc",options:[{value:"asc",label:"Ascendente"},{value:"desc",label:"Descendente"}]},{key:"hasHeaders",label:"Tiene encabezados",type:"checkbox",default:!0}]},excel_find_replace:{title:"Buscar y Reemplazar",icon:"fa-search",description:"Busca y reemplaza texto en Excel",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"find",label:"Buscar",type:"text",required:!0},{key:"replace",label:"Reemplazar con",type:"text"},{key:"matchCase",label:"Coincidir maysculas/minsculas",type:"checkbox",default:!1},{key:"matchEntireCell",label:"Coincidir celda completa",type:"checkbox",default:!1}]},excel_add_sheet:{title:"Agregar Hoja",icon:"fa-plus-square",description:"Agrega una nueva hoja al libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheetName",label:"Nombre de la hoja",type:"text",required:!0},{key:"position",label:"Posicin",type:"select",default:"end",options:[{value:"end",label:"Al final"},{value:"beginning",label:"Al inicio"}]}]},excel_delete_sheet:{title:"Eliminar Hoja",icon:"fa-minus-square",description:"Elimina una hoja del libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheetName",label:"Nombre de la hoja",type:"text",required:!0}]},excel_rename_sheet:{title:"Renombrar Hoja",icon:"fa-i-cursor",description:"Renombra una hoja existente",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"currentName",label:"Nombre actual",type:"text",required:!0},{key:"newName",label:"Nuevo nombre",type:"text",required:!0}]},excel_copy_sheet:{title:"Copiar Hoja",icon:"fa-copy",description:"Copia una hoja",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sourceName",label:"Hoja origen",type:"text",required:!0},{key:"newName",label:"Nombre de la copia",type:"text",required:!0}]},excel_save:{title:"Guardar Excel",icon:"fa-save",description:"Guarda el libro de Excel",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"saveAs",label:"Guardar como",type:"checkbox",default:!1,helpText:"Guardar con un nombre diferente"},{key:"filePath",label:"Nueva ruta",type:"file",fileType:"save",accept:".xlsx,.xls,.xlsm,.csv,.pdf",condition:{field:"saveAs",value:!0}},{key:"format",label:"Formato",type:"select",default:"xlsx",condition:{field:"saveAs",value:!0},options:[{value:"xlsx",label:"Excel (.xlsx)"},{value:"xls",label:"Excel 97-2003 (.xls)"},{value:"csv",label:"CSV (.csv)"},{value:"pdf",label:"PDF (.pdf)"}]}]},excel_run_macro:{title:"Ejecutar Macro",icon:"fa-code",description:"Ejecuta una macro de Excel",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"macroName",label:"Nombre de la macro",type:"text",required:!0,placeholder:"MiMacro o Modulo1.MiMacro"},{key:"parameters",label:"Parmetros",type:"tags",helpText:"Parmetros para la macro"},{key:"variable",label:"Guardar resultado en",type:"variable"}]},excel_access_protected_sheet:{title:"Acceder a Hoja Protegida",icon:"fa-lock-open",description:"Desprotege una hoja para acceder a sus datos",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",required:!0},{key:"password",label:"Contrasea",type:"password",helpText:"Contrasea de proteccin de la hoja"}]},excel_append_workbook:{title:"Anexar Libro",icon:"fa-file-import",description:"Anexa datos de otro libro Excel al actual",fields:[{key:"workbook",label:"Libro destino",type:"variable"},{key:"sourceFile",label:"Archivo origen",type:"file",required:!0,accept:".xlsx,.xls,.xlsm,.csv"},{key:"sourceSheet",label:"Hoja origen",type:"text",default:"Sheet1"},{key:"targetSheet",label:"Hoja destino",type:"text",default:"Sheet1"}]},excel_append_sheet:{title:"Anexar Hoja",icon:"fa-layer-group",description:"Aade una hoja de otro libro al libro actual",fields:[{key:"workbook",label:"Libro destino",type:"variable"},{key:"sourceFile",label:"Archivo origen",type:"file",required:!0,accept:".xlsx,.xls,.xlsm"},{key:"sourceSheet",label:"Hoja a copiar",type:"text",required:!0},{key:"newSheetName",label:"Nombre para la nueva hoja",type:"text"}]},excel_create_workbook:{title:"Crear Libro",icon:"fa-file-medical",description:"Crea un nuevo libro de Excel",fields:[{key:"filePath",label:"Ruta del nuevo archivo",type:"file",fileType:"save",accept:".xlsx,.xls,.xlsm"},{key:"sheetName",label:"Nombre de la primera hoja",type:"text",default:"Sheet1"},{key:"visible",label:"Mostrar Excel",type:"checkbox",default:!0},{key:"variable",label:"Guardar referencia en",type:"variable",required:!0}]},excel_create_sheet:{title:"Crear Hoja",icon:"fa-plus-square",description:"Crea una nueva hoja en el libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheetName",label:"Nombre de la hoja",type:"text",required:!0},{key:"position",label:"Posicin",type:"select",default:"end",options:[{value:"beginning",label:"Al inicio"},{value:"end",label:"Al final"},{value:"after",label:"Despus de..."}]},{key:"afterSheet",label:"Despus de la hoja",type:"text",condition:{field:"position",value:"after"}}]},excel_delete_cells:{title:"Eliminar Celdas",icon:"fa-eraser",description:"Elimina el contenido de un rango de celdas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"range",label:"Rango a eliminar",type:"text",required:!0,placeholder:"A1:D10"},{key:"deleteType",label:"Tipo de eliminacin",type:"select",default:"content",options:[{value:"content",label:"Solo contenido"},{value:"shift_left",label:"Desplazar celdas izquierda"},{value:"shift_up",label:"Desplazar celdas arriba"}]}]},excel_delete_table_column:{title:"Eliminar Columna de Tabla",icon:"fa-minus-square",description:"Elimina una columna de una tabla de Excel",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"tableName",label:"Nombre de la tabla",type:"text",required:!0},{key:"columnName",label:"Nombre de columna",type:"text",required:!0}]},excel_break_workbook_links:{title:"Break Workbook Links",icon:"fa-unlink",description:"Rompe los vnculos externos del libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"}]},excel_delete_sheet:{title:"Eliminar Hoja",icon:"fa-trash-alt",description:"Elimina una hoja del libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheetName",label:"Nombre de la hoja",type:"text",required:!0}]},excel_toggle_auto_refresh:{title:"Desactivar/Activar Actualizacin",icon:"fa-sync-alt",description:"Activa o desactiva la actualizacin automtica",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"enabled",label:"Actualizacin automtica",type:"toggle",default:!0}]},excel_filter:{title:"Filtro",icon:"fa-filter",description:"Aplica un filtro a los datos",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"range",label:"Rango de datos",type:"text",required:!0,placeholder:"A1:D100"},{key:"column",label:"Columna a filtrar",type:"text",required:!0},{key:"filterValue",label:"Valor del filtro",type:"text",required:!0},{key:"filterType",label:"Tipo de filtro",type:"select",default:"equals",options:[{value:"equals",label:"Igual a"},{value:"contains",label:"Contiene"},{value:"begins",label:"Comienza con"},{value:"ends",label:"Termina con"},{value:"greater",label:"Mayor que"},{value:"less",label:"Menor que"}]}]},excel_find:{title:"Buscar",icon:"fa-search",description:"Busca un valor en el libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"searchValue",label:"Valor a buscar",type:"text",required:!0},{key:"searchIn",label:"Buscar en",type:"select",default:"values",options:[{value:"values",label:"Valores"},{value:"formulas",label:"Frmulas"},{value:"comments",label:"Comentarios"}]},{key:"matchCase",label:"Coincidir maysculas/minsculas",type:"checkbox",default:!1},{key:"matchEntireCell",label:"Coincidir contenido de toda la celda",type:"checkbox",default:!1},{key:"variable",label:"Guardar celda encontrada en",type:"variable"}]},excel_find_next_empty_cell:{title:"Buscar la Prxima Celda Vaca",icon:"fa-search-plus",description:"Encuentra la siguiente celda vaca en una columna o fila",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"searchDirection",label:"Direccin de bsqueda",type:"select",default:"column",options:[{value:"column",label:"En columna (hacia abajo)"},{value:"row",label:"En fila (hacia derecha)"}]},{key:"startCell",label:"Celda inicial",type:"text",required:!0,placeholder:"A1"},{key:"variable",label:"Guardar celda encontrada en",type:"variable",required:!0}]},excel_get_cell_color:{title:"Obtener el Color de Celda",icon:"fa-palette",description:"Obtiene el color de fondo de una celda",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"cell",label:"Celda",type:"text",required:!0,placeholder:"A1"},{key:"colorFormat",label:"Formato del color",type:"select",default:"hex",options:[{value:"hex",label:"Hexadecimal (#RRGGBB)"},{value:"rgb",label:"RGB (r,g,b)"},{value:"name",label:"Nombre del color"}]},{key:"variable",label:"Guardar color en",type:"variable",required:!0}]},excel_get_sheet_name:{title:"Obtener Nombre de la Hoja",icon:"fa-file-signature",description:"Obtiene el nombre de una hoja por su ndice",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheetIndex",label:"ndice de la hoja",type:"number",default:1,min:1,helpText:"Empezando desde 1"},{key:"variable",label:"Guardar nombre en",type:"variable",required:!0}]},excel_get_multiple_cells:{title:"Obtener Varias Celdas",icon:"fa-th",description:"Obtiene valores de mltiples celdas no contiguas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"cells",label:"Celdas",type:"tags",required:!0,placeholder:"A1, B5, C10...",helpText:"Ingresa las celdas separadas por comas"},{key:"variable",label:"Guardar valores en",type:"variable",required:!0}]},excel_get_row_count:{title:"Obtener el Nmero de Filas",icon:"fa-list-ol",description:"Cuenta el nmero de filas con datos",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"column",label:"Columna de referencia",type:"text",default:"A"},{key:"variable",label:"Guardar nmero en",type:"variable",required:!0}]},excel_get_sensitivity_label:{title:"Obtener Etiqueta de Sensibilidad",icon:"fa-tag",description:"Obtiene la etiqueta de sensibilidad del documento",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"variable",label:"Guardar etiqueta en",type:"variable",required:!0}]},excel_get_cell_address:{title:"Obtener Direccin de Celda",icon:"fa-map-marker-alt",description:"Obtiene la direccin de la celda activa",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"variable",label:"Guardar direccin en",type:"variable",required:!0}]},excel_get_column_name:{title:"Obtener Nombre de la Columna",icon:"fa-columns",description:"Convierte nmero de columna a letra",fields:[{key:"columnNumber",label:"Nmero de columna",type:"number",required:!0,min:1,helpText:"1=A, 2=B, 3=C..."},{key:"variable",label:"Guardar nombre en",type:"variable",required:!0}]},excel_get_row_number:{title:"Obtener el Nmero de Fila",icon:"fa-sort-numeric-up",description:"Obtiene el nmero de fila de la celda activa",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"variable",label:"Guardar nmero en",type:"variable",required:!0}]},excel_get_table_range:{title:"Obtener Rango de Tabla",icon:"fa-border-all",description:"Obtiene el rango que ocupa una tabla",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"tableName",label:"Nombre de la tabla",type:"text",required:!0},{key:"variable",label:"Guardar rango en",type:"variable",required:!0}]},excel_get_workbook_links:{title:"Get Workbook Links",icon:"fa-link",description:"Obtiene los vnculos externos del libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"variable",label:"Guardar vnculos en",type:"variable",required:!0}]},excel_convert_to_table:{title:"Convertir la Hoja en una Tabla",icon:"fa-table",description:"Convierte un rango de datos en una tabla de Excel",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"range",label:"Rango de datos",type:"text",required:!0,placeholder:"A1:D100"},{key:"tableName",label:"Nombre de la tabla",type:"text",required:!0},{key:"hasHeaders",label:"La primera fila contiene encabezados",type:"checkbox",default:!0},{key:"tableStyle",label:"Estilo de tabla",type:"select",default:"TableStyleMedium2",options:[{value:"TableStyleLight1",label:"Light 1"},{value:"TableStyleMedium2",label:"Medium 2"},{value:"TableStyleDark1",label:"Dark 1"}]}]},excel_get_sheet_names:{title:"Obtener los Nombres de las Hojas",icon:"fa-list",description:"Obtiene una lista con los nombres de todas las hojas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"variable",label:"Guardar lista en",type:"variable",required:!0}]},excel_save_as:{title:"Guardar Como",icon:"fa-save",description:"Guarda el libro con un nuevo nombre o formato",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"filePath",label:"Nueva ruta del archivo",type:"file",required:!0,fileType:"save",accept:".xlsx,.xls,.xlsm,.csv,.pdf"},{key:"fileFormat",label:"Formato",type:"select",default:"xlsx",options:[{value:"xlsx",label:"Excel (.xlsx)"},{value:"xls",label:"Excel 97-2003 (.xls)"},{value:"xlsm",label:"Excel con macros (.xlsm)"},{value:"csv",label:"CSV (.csv)"},{value:"pdf",label:"PDF (.pdf)"}]}]},excel_select_cells:{title:"Seleccionar Celdas/Filas/Columnas",icon:"fa-mouse-pointer",description:"Selecciona un rango de celdas, filas o columnas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"selectType",label:"Tipo de seleccin",type:"select",default:"range",options:[{value:"range",label:"Rango de celdas"},{value:"rows",label:"Filas"},{value:"columns",label:"Columnas"}]},{key:"range",label:"Rango",type:"text",placeholder:"A1:D10 o 1:5 o A:D",required:!0}]},excel_get_single_cell:{title:"Obtener una Sola Celda",icon:"fa-bullseye",description:"Lee el valor de una sola celda por coordenadas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"row",label:"Fila",type:"number",required:!0,min:1},{key:"column",label:"Columna",type:"number",required:!0,min:1,helpText:"1=A, 2=B, 3=C..."},{key:"variable",label:"Guardar valor en",type:"variable",required:!0}]},excel_set_cell_formula:{title:"Establecer Frmula de Celda",icon:"fa-function",description:"Escribe una frmula en una celda",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"cell",label:"Celda",type:"text",required:!0,placeholder:"A1"},{key:"formula",label:"Frmula",type:"text",required:!0,placeholder:"=SUM(A1:A10)",helpText:"Incluye el signo = al inicio"}]},excel_set_sensitivity_label:{title:"Establecer Etiqueta de Sensibilidad",icon:"fa-shield-alt",description:"Establece la etiqueta de sensibilidad del documento",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"label",label:"Etiqueta",type:"select",required:!0,options:[{value:"public",label:"Pblico"},{value:"internal",label:"Interno"},{value:"confidential",label:"Confidencial"},{value:"highly_confidential",label:"Altamente Confidencial"}]}]},excel_sort:{title:"Ordenar",icon:"fa-sort-amount-down",description:"Ordena los datos de un rango",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"range",label:"Rango a ordenar",type:"text",required:!0,placeholder:"A1:D100"},{key:"sortColumn",label:"Columna de ordenacin",type:"text",required:!0},{key:"sortOrder",label:"Orden",type:"select",default:"ascending",options:[{value:"ascending",label:"Ascendente (A-Z, 0-9)"},{value:"descending",label:"Descendente (Z-A, 9-0)"}]},{key:"hasHeaders",label:"Tiene encabezados",type:"checkbox",default:!0}]},excel_switch_sheet:{title:"Cambiar a Hoja",icon:"fa-exchange-alt",description:"Cambia a una hoja especfica",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheetSelector",label:"Seleccionar por",type:"select",default:"name",options:[{value:"name",label:"Nombre"},{value:"index",label:"ndice"}]},{key:"sheetName",label:"Nombre de la hoja",type:"text",condition:{field:"sheetSelector",value:"name"}},{key:"sheetIndex",label:"ndice de la hoja",type:"number",min:1,condition:{field:"sheetSelector",value:"index"}}]},excel_show_all_sheets:{title:"Mostrar Todas las Hojas",icon:"fa-eye",description:"Hace visibles todas las hojas ocultas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"}]},excel_show_hide_rows_columns:{title:"Mostrar/Ocultar Filas/Columnas",icon:"fa-eye-slash",description:"Muestra u oculta filas o columnas especficas",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"targetType",label:"Tipo",type:"select",default:"rows",options:[{value:"rows",label:"Filas"},{value:"columns",label:"Columnas"}]},{key:"range",label:"Rango",type:"text",required:!0,placeholder:"1:5 o A:D"},{key:"action",label:"Accin",type:"select",default:"hide",options:[{value:"hide",label:"Ocultar"},{value:"show",label:"Mostrar"}]}]},excel_show_sheet:{title:"Mostrar Hoja",icon:"fa-eye",description:"Hace visible una hoja oculta",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheetName",label:"Nombre de la hoja",type:"text",required:!0}]},excel_unprotect_workbook:{title:"Desproteger Libro",icon:"fa-unlock",description:"Quita la proteccin del libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"password",label:"Contrasea",type:"password"}]},excel_change_workbook_links:{title:"Change Workbook Links",icon:"fa-link",description:"Cambia los vnculos externos del libro",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"oldLink",label:"Vnculo actual",type:"text",required:!0},{key:"newLink",label:"Nuevo vnculo",type:"text",required:!0}]},excel_write_from_datatable:{title:"Escribir desde Tabla de Datos",icon:"fa-file-import",description:"Escribe datos de una DataTable a Excel",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"sheet",label:"Hoja",type:"text",default:"Sheet1"},{key:"startCell",label:"Celda inicial",type:"text",required:!0,placeholder:"A1"},{key:"dataTable",label:"Tabla de datos",type:"variable",required:!0},{key:"includeHeaders",label:"Incluir encabezados",type:"checkbox",default:!0}]},excel_to_pdf:{title:"Convertir de Excel a PDF",icon:"fa-file-pdf",description:"Convierte el libro de Excel a PDF",fields:[{key:"workbook",label:"Libro Excel",type:"variable"},{key:"outputPath",label:"Ruta del PDF",type:"file",required:!0,fileType:"save",accept:".pdf"},{key:"sheets",label:"Hojas a exportar",type:"select",default:"all",options:[{value:"all",label:"Todas las hojas"},{value:"active",label:"Solo la hoja activa"},{value:"specific",label:"Hojas especficas"}]},{key:"specificSheets",label:"Nombres de hojas",type:"tags",condition:{field:"sheets",value:"specific"},helpText:"Ingresa los nombres separados por comas"}]},word_open:{title:"Abrir Word",icon:"fa-file-word",description:"Abre un documento de Word",fields:[{key:"filePath",label:"Archivo Word",type:"file",required:!0,fileType:"open",accept:".docx,.doc,.rtf"},{key:"visible",label:"Visible",type:"checkbox",default:!0},{key:"readOnly",label:"Solo lectura",type:"checkbox",default:!1},{key:"variable",label:"Guardar referencia en",type:"variable",required:!0,placeholder:"wordApp"}]},word_new:{title:"Nuevo Documento Word",icon:"fa-file-word",description:"Crea un nuevo documento de Word",fields:[{key:"template",label:"Plantilla",type:"file",fileType:"open",accept:".dotx,.dot",helpText:"Opcional: usar una plantilla"},{key:"visible",label:"Visible",type:"checkbox",default:!0},{key:"variable",label:"Guardar referencia en",type:"variable",required:!0}]},word_read_text:{title:"Leer Texto",icon:"fa-file-alt",description:"Lee todo el texto del documento",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"variable",label:"Guardar texto en",type:"variable",required:!0}]},word_write_text:{title:"Escribir Texto",icon:"fa-edit",description:"Escribe texto en el documento",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"text",label:"Texto",type:"textarea",required:!0,rows:4},{key:"position",label:"Posicin",type:"select",default:"end",options:[{value:"end",label:"Al final"},{value:"beginning",label:"Al inicio"},{value:"cursor",label:"En el cursor"},{value:"replace",label:"Reemplazar todo"}]},{key:"newParagraph",label:"Nuevo prrafo",type:"checkbox",default:!0}]},word_find_replace:{title:"Buscar y Reemplazar",icon:"fa-search",description:"Busca y reemplaza texto en Word",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"find",label:"Buscar",type:"text",required:!0},{key:"replace",label:"Reemplazar con",type:"text"},{key:"replaceAll",label:"Reemplazar todos",type:"checkbox",default:!0},{key:"matchCase",label:"Coincidir maysculas",type:"checkbox",default:!1},{key:"wholeWord",label:"Palabra completa",type:"checkbox",default:!1}]},word_insert_image:{title:"Insertar Imagen",icon:"fa-image",description:"Inserta una imagen en el documento",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"imagePath",label:"Ruta de imagen",type:"file",required:!0,fileType:"open",accept:".png,.jpg,.jpeg,.gif,.bmp"},{key:"width",label:"Ancho (cm)",type:"number",helpText:"Dejar vaco para tamao original"},{key:"height",label:"Alto (cm)",type:"number"}]},word_insert_table:{title:"Insertar Tabla",icon:"fa-table",description:"Inserta una tabla en el documento",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"rows",label:"Filas",type:"number",required:!0,default:3},{key:"columns",label:"Columnas",type:"number",required:!0,default:3},{key:"data",label:"Datos",type:"variable",helpText:"Array con los datos de la tabla"},{key:"style",label:"Estilo",type:"select",default:"TableGrid",options:[{value:"TableGrid",label:"Cuadrcula"},{value:"TableNormal",label:"Normal"},{value:"LightShading",label:"Sombreado claro"},{value:"MediumShading1",label:"Sombreado medio"}]}]},word_format_text:{title:"Formatear Texto",icon:"fa-paint-brush",description:"Aplica formato al texto seleccionado",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"searchText",label:"Texto a formatear",type:"text",helpText:"Texto a buscar y formatear"},{key:"bold",label:"Negrita",type:"checkbox",default:!1},{key:"italic",label:"Cursiva",type:"checkbox",default:!1},{key:"underline",label:"Subrayado",type:"checkbox",default:!1},{key:"fontSize",label:"Tamao de fuente",type:"number"},{key:"fontName",label:"Fuente",type:"text",placeholder:"Arial, Times New Roman..."},{key:"fontColor",label:"Color de texto",type:"color"}]},word_add_header_footer:{title:"Agregar Encabezado/Pie",icon:"fa-heading",description:"Agrega encabezado o pie de pgina",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"type",label:"Tipo",type:"buttonGroup",default:"header",options:[{value:"header",label:"Encabezado"},{value:"footer",label:"Pie de pgina"}]},{key:"text",label:"Texto",type:"text",required:!0},{key:"alignment",label:"Alineacin",type:"buttonGroup",default:"center",options:[{value:"left",label:"Izquierda"},{value:"center",label:"Centro"},{value:"right",label:"Derecha"}]}]},word_save:{title:"Guardar Word",icon:"fa-save",description:"Guarda el documento",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"saveAs",label:"Guardar como",type:"checkbox",default:!1},{key:"filePath",label:"Nueva ruta",type:"file",fileType:"save",accept:".docx,.doc,.pdf,.rtf",condition:{field:"saveAs",value:!0}},{key:"format",label:"Formato",type:"select",default:"docx",condition:{field:"saveAs",value:!0},options:[{value:"docx",label:"Word (.docx)"},{value:"doc",label:"Word 97-2003 (.doc)"},{value:"pdf",label:"PDF (.pdf)"},{value:"rtf",label:"RTF (.rtf)"}]}]},word_close:{title:"Cerrar Word",icon:"fa-times-circle",description:"Cierra el documento de Word",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"save",label:"Guardar cambios",type:"checkbox",default:!0}]},word_to_pdf:{title:"Convertir a PDF",icon:"fa-file-pdf",description:"Convierte el documento a PDF",fields:[{key:"document",label:"Documento Word",type:"variable"},{key:"outputPath",label:"Ruta del PDF",type:"file",required:!0,fileType:"save",accept:".pdf"}]},powershell_run:{title:"Ejecutar PowerShell",icon:"fa-terminal",description:"Ejecuta un script o comando PowerShell",fields:[{key:"command",label:"Comando/Script",type:"code",language:"powershell",required:!0,rows:6},{key:"runAs",label:"Ejecutar como",type:"select",default:"current",options:[{value:"current",label:"Usuario actual"},{value:"admin",label:"Administrador"}]},{key:"executionPolicy",label:"Poltica de ejecucin",type:"select",default:"Bypass",options:[{value:"Bypass",label:"Bypass"},{value:"Unrestricted",label:"Sin restricciones"},{value:"RemoteSigned",label:"RemoteSigned"}]},{key:"timeout",label:"Timeout (segundos)",type:"number",default:60},{key:"waitForExit",label:"Esperar a que termine",type:"checkbox",default:!0},{key:"variable",label:"Guardar salida en",type:"variable"}]},powershell_script_file:{title:"Ejecutar Script PS1",icon:"fa-file-code",description:"Ejecuta un archivo de script PowerShell",fields:[{key:"scriptPath",label:"Archivo .ps1",type:"file",required:!0,fileType:"open",accept:".ps1"},{key:"parameters",label:"Parmetros",type:"keyValue",helpText:"Parmetros del script"},{key:"runAs",label:"Ejecutar como",type:"select",default:"current",options:[{value:"current",label:"Usuario actual"},{value:"admin",label:"Administrador"}]},{key:"variable",label:"Guardar salida en",type:"variable"}]},cmd_run:{title:"Ejecutar CMD",icon:"fa-terminal",description:"Ejecuta un comando en CMD",fields:[{key:"command",label:"Comando",type:"textarea",required:!0,rows:3,placeholder:"dir, copy, del, etc."},{key:"workingDirectory",label:"Directorio de trabajo",type:"file",fileType:"folder"},{key:"runAs",label:"Ejecutar como",type:"select",default:"current",options:[{value:"current",label:"Usuario actual"},{value:"admin",label:"Administrador"}]},{key:"hidden",label:"Ventana oculta",type:"checkbox",default:!0},{key:"waitForExit",label:"Esperar a que termine",type:"checkbox",default:!0},{key:"variable",label:"Guardar salida en",type:"variable"}]},cmd_batch_file:{title:"Ejecutar Batch",icon:"fa-file-code",description:"Ejecuta un archivo batch (.bat/.cmd)",fields:[{key:"batchPath",label:"Archivo Batch",type:"file",required:!0,fileType:"open",accept:".bat,.cmd"},{key:"arguments",label:"Argumentos",type:"text",placeholder:"arg1 arg2 arg3"},{key:"workingDirectory",label:"Directorio de trabajo",type:"file",fileType:"folder"},{key:"hidden",label:"Ventana oculta",type:"checkbox",default:!0},{key:"variable",label:"Guardar salida en",type:"variable"}]},run_application:{title:"Ejecutar Aplicacin",icon:"fa-play",description:"Ejecuta una aplicacin o programa",fields:[{key:"path",label:"Ruta del programa",type:"file",required:!0,fileType:"open",accept:".exe,.msi,.lnk"},{key:"arguments",label:"Argumentos",type:"text"},{key:"workingDirectory",label:"Directorio de trabajo",type:"file",fileType:"folder"},{key:"windowStyle",label:"Estilo de ventana",type:"select",default:"normal",options:[{value:"normal",label:"Normal"},{value:"maximized",label:"Maximizada"},{value:"minimized",label:"Minimizada"},{value:"hidden",label:"Oculta"}]},{key:"waitForExit",label:"Esperar a que cierre",type:"checkbox",default:!1},{key:"variable",label:"Guardar PID en",type:"variable"}]},kill_process:{title:"Terminar Proceso",icon:"fa-times",description:"Termina un proceso en ejecucin",fields:[{key:"killBy",label:"Terminar por",type:"buttonGroup",default:"name",options:[{value:"name",label:"Nombre"},{value:"pid",label:"PID"}]},{key:"processName",label:"Nombre del proceso",type:"text",placeholder:"notepad.exe, chrome.exe",condition:{field:"killBy",value:"name"}},{key:"pid",label:"ID de proceso (PID)",type:"number",condition:{field:"killBy",value:"pid"}},{key:"force",label:"Forzar cierre",type:"checkbox",default:!1}]},get_environment_variable:{title:"Obtener Variable de Entorno",icon:"fa-cog",description:"Obtiene el valor de una variable de entorno",fields:[{key:"name",label:"Nombre de la variable",type:"text",required:!0,placeholder:"PATH, TEMP, USERNAME..."},{key:"variable",label:"Guardar valor en",type:"variable",required:!0}]},set_environment_variable:{title:"Establecer Variable de Entorno",icon:"fa-cog",description:"Establece una variable de entorno",fields:[{key:"name",label:"Nombre de la variable",type:"text",required:!0},{key:"value",label:"Valor",type:"text",required:!0},{key:"scope",label:"mbito",type:"select",default:"process",options:[{value:"process",label:"Solo este proceso"},{value:"user",label:"Usuario actual"},{value:"machine",label:"Sistema (requiere admin)"}]}]},ocr_screen:{title:"OCR de Pantalla",icon:"fa-eye",description:"Reconoce texto en una regin de la pantalla",fields:[{key:"region",label:"Regin",type:"select",default:"fullscreen",options:[{value:"fullscreen",label:"Pantalla completa"},{value:"activeWindow",label:"Ventana activa"},{value:"custom",label:"Regin personalizada"}]},{key:"x",label:"X",type:"number",condition:{field:"region",value:"custom"}},{key:"y",label:"Y",type:"number",condition:{field:"region",value:"custom"}},{key:"width",label:"Ancho",type:"number",condition:{field:"region",value:"custom"}},{key:"height",label:"Alto",type:"number",condition:{field:"region",value:"custom"}},{key:"language",label:"Idioma",type:"select",default:"spa",options:[{value:"spa",label:"Espaol"},{value:"eng",label:"Ingls"},{value:"por",label:"Portugus"},{value:"deu",label:"Alemn"},{value:"fra",label:"Francs"}]},{key:"variable",label:"Guardar texto en",type:"variable",required:!0}]},ocr_image:{title:"OCR de Imagen",icon:"fa-file-image",description:"Reconoce texto en un archivo de imagen",fields:[{key:"imagePath",label:"Imagen",type:"file",required:!0,fileType:"open",accept:".png,.jpg,.jpeg,.bmp,.gif,.tiff"},{key:"language",label:"Idioma",type:"select",default:"spa",options:[{value:"spa",label:"Espaol"},{value:"eng",label:"Ingls"},{value:"por",label:"Portugus"},{value:"deu",label:"Alemn"},{value:"fra",label:"Francs"}]},{key:"preprocessing",label:"Preprocesamiento",type:"select",default:"none",options:[{value:"none",label:"Ninguno"},{value:"grayscale",label:"Escala de grises"},{value:"threshold",label:"Umbral"},{value:"denoise",label:"Reducir ruido"}]},{key:"variable",label:"Guardar texto en",type:"variable",required:!0}]},find_image_on_screen:{title:"Buscar Imagen en Pantalla",icon:"fa-search",description:"Busca una imagen dentro de la pantalla",fields:[{key:"imagePath",label:"Imagen a buscar",type:"file",required:!0,fileType:"open",accept:".png,.jpg,.jpeg,.bmp"},{key:"region",label:"Regin de bsqueda",type:"select",default:"fullscreen",options:[{value:"fullscreen",label:"Pantalla completa"},{value:"activeWindow",label:"Ventana activa"},{value:"custom",label:"Regin personalizada"}]},{key:"x",label:"X",type:"number",condition:{field:"region",value:"custom"}},{key:"y",label:"Y",type:"number",condition:{field:"region",value:"custom"}},{key:"width",label:"Ancho",type:"number",condition:{field:"region",value:"custom"}},{key:"height",label:"Alto",type:"number",condition:{field:"region",value:"custom"}},{key:"confidence",label:"Confianza mnima",type:"slider",default:.8,min:.5,max:1,step:.05,helpText:"Porcentaje de similitud requerido"},{key:"timeout",label:"Timeout (segundos)",type:"number",default:10},{key:"clickIfFound",label:"Hacer clic si se encuentra",type:"checkbox",default:!1},{key:"variable",label:"Guardar coordenadas en",type:"variable",helpText:"Guarda {x, y, found}"}]},wait_for_image:{title:"Esperar Imagen",icon:"fa-hourglass-half",description:"Espera hasta que una imagen aparezca en pantalla",fields:[{key:"imagePath",label:"Imagen a esperar",type:"file",required:!0,fileType:"open",accept:".png,.jpg,.jpeg,.bmp"},{key:"timeout",label:"Timeout (segundos)",type:"number",default:30},{key:"confidence",label:"Confianza mnima",type:"slider",default:.8,min:.5,max:1,step:.05},{key:"clickWhenFound",label:"Clic cuando aparezca",type:"checkbox",default:!1},{key:"variable",label:"Guardar resultado en",type:"variable"}]},image_compare:{title:"Comparar Imgenes",icon:"fa-images",description:"Compara dos imgenes",fields:[{key:"image1",label:"Primera imagen",type:"file",required:!0,fileType:"open",accept:".png,.jpg,.jpeg,.bmp"},{key:"image2",label:"Segunda imagen",type:"file",required:!0,fileType:"open",accept:".png,.jpg,.jpeg,.bmp"},{key:"threshold",label:"Umbral de diferencia",type:"slider",default:.05,min:0,max:.5,step:.01,helpText:"0 = exactamente iguales"},{key:"variable",label:"Guardar resultado en",type:"variable",required:!0,helpText:"true si son similares"}]},ocr_region:{title:"OCR - Regin",icon:"fa-crop",description:"Reconoce texto en una regin especfica de la pantalla",fields:[{key:"captureMethod",label:"Mtodo de captura",type:"select",default:"coordinates",options:[{value:"coordinates",label:"Por coordenadas"},{value:"selector",label:"Por selector de ventana"},{value:"capture",label:"Capturar regin manualmente"}]},{key:"windowSelector",label:"Ventana",type:"windowWithVariable",condition:{field:"captureMethod",value:"selector"},helpText:"Seleccione la ventana donde capturar"},{key:"x",label:"Posicin X",type:"number",default:0,helpText:"Coordenada X del inicio de la regin"},{key:"y",label:"Posicin Y",type:"number",default:0,helpText:"Coordenada Y del inicio de la regin"},{key:"width",label:"Ancho",type:"number",default:200,helpText:"Ancho de la regin en pxeles"},{key:"height",label:"Alto",type:"number",default:50,helpText:"Alto de la regin en pxeles"},{key:"relativeToWindow",label:"Relativo a ventana",type:"checkbox",default:!1,helpText:"Las coordenadas son relativas a la ventana seleccionada"},{key:"ocrEngine",label:"Motor OCR",type:"select",default:"tesseract",options:[{value:"tesseract",label:"Tesseract OCR"},{value:"windows",label:"Windows OCR"},{value:"google",label:"Google Vision API"},{value:"azure",label:"Azure Computer Vision"}]},{key:"language",label:"Idioma",type:"select",default:"spa",options:[{value:"spa",label:"Espaol"},{value:"eng",label:"Ingls"},{value:"por",label:"Portugus"},{value:"deu",label:"Alemn"},{value:"fra",label:"Francs"},{value:"ita",label:"Italiano"},{value:"jpn",label:"Japons"},{value:"chi_sim",label:"Chino Simplificado"},{value:"kor",label:"Coreano"}]},{key:"preprocessing",label:"Preprocesamiento",type:"multiselect",default:[],options:[{value:"grayscale",label:"Escala de grises"},{value:"threshold",label:"Binarizacin/Umbral"},{value:"denoise",label:"Reducir ruido"},{value:"deskew",label:"Corregir inclinacin"},{value:"sharpen",label:"Aumentar nitidez"},{value:"invert",label:"Invertir colores"}]},{key:"scaleFactor",label:"Factor de escala",type:"slider",default:2,min:1,max:4,step:.5,helpText:"Escalar imagen para mejor precisin (2x recomendado)"},{key:"textType",label:"Tipo de texto",type:"select",default:"auto",options:[{value:"auto",label:"Automtico"},{value:"printed",label:"Texto impreso"},{value:"handwritten",label:"Manuscrito"},{value:"numbers",label:"Solo nmeros"},{value:"alphanumeric",label:"Alfanumrico"}]},{key:"whitelistChars",label:"Caracteres permitidos",type:"text",placeholder:"Ej: 0123456789ABCDEFabcdef",helpText:"Dejar vaco para todos los caracteres"},{key:"confidence",label:"Confianza mnima",type:"slider",default:.6,min:0,max:1,step:.05,helpText:"Porcentaje mnimo de confianza en el resultado"},{key:"trimWhitespace",label:"Quitar espacios extra",type:"checkbox",default:!0},{key:"saveImage",label:"Guardar imagen capturada",type:"checkbox",default:!1},{key:"imagePath",label:"Ruta para guardar imagen",type:"fileWithVariable",fileType:"save",accept:".png,.jpg",condition:{field:"saveImage",value:!0}},{key:"timeout",label:"Timeout (segundos)",type:"number",default:30},{key:"retryOnEmpty",label:"Reintentar si vaco",type:"checkbox",default:!1,helpText:"Reintentar OCR si no se detecta texto"},{key:"retryCount",label:"Nmero de reintentos",type:"number",default:3,condition:{field:"retryOnEmpty",value:!0}},{key:"retryDelay",label:"Espera entre reintentos (ms)",type:"number",default:500,condition:{field:"retryOnEmpty",value:!0}},{key:"variable",label:"Guardar texto en",type:"variable",required:!0},{key:"confidenceVariable",label:"Guardar confianza en",type:"variable",helpText:"Variable para almacenar el nivel de confianza"}]},ocr_document:{title:"OCR - Documento",icon:"fa-file-alt",description:"Extrae texto de documentos PDF o imgenes escaneadas",fields:[{key:"source",label:"Origen del documento",type:"select",default:"file",options:[{value:"file",label:"Archivo"},{value:"variable",label:"Variable (Base64)"},{value:"url",label:"URL"}]},{key:"filePath",label:"Ruta del documento",type:"fileWithVariable",required:!0,fileType:"open",accept:".pdf,.png,.jpg,.jpeg,.tiff,.bmp",condition:{field:"source",value:"file"}},{key:"documentVariable",label:"Variable del documento",type:"variable",condition:{field:"source",value:"variable"}},{key:"documentUrl",label:"URL del documento",type:"textWithVariable",condition:{field:"source",value:"url"}},{key:"documentType",label:"Tipo de documento",type:"select",default:"auto",options:[{value:"auto",label:"Detectar automticamente"},{value:"invoice",label:"Factura"},{value:"receipt",label:"Recibo"},{value:"id_card",label:"Documento de identidad"},{value:"passport",label:"Pasaporte"},{value:"contract",label:"Contrato"},{value:"form",label:"Formulario"},{value:"table",label:"Tabla"}]},{key:"pages",label:"Pginas a procesar",type:"text",default:"all",placeholder:"all, 1-3, 1,3,5",helpText:'Rango de pginas o "all" para todas'},{key:"ocrEngine",label:"Motor OCR",type:"select",default:"tesseract",options:[{value:"tesseract",label:"Tesseract OCR"},{value:"azure",label:"Azure Form Recognizer"},{value:"google",label:"Google Document AI"},{value:"aws",label:"AWS Textract"}]},{key:"language",label:"Idioma del documento",type:"select",default:"spa",options:[{value:"spa",label:"Espaol"},{value:"eng",label:"Ingls"},{value:"por",label:"Portugus"},{value:"deu",label:"Alemn"},{value:"fra",label:"Francs"},{value:"multi",label:"Mltiples idiomas"}]},{key:"extractTables",label:"Extraer tablas",type:"checkbox",default:!1},{key:"extractFields",label:"Extraer campos clave-valor",type:"checkbox",default:!1},{key:"preserveLayout",label:"Preservar diseo",type:"checkbox",default:!1,helpText:"Mantener formato y posiciones del texto"},{key:"outputFormat",label:"Formato de salida",type:"select",default:"text",options:[{value:"text",label:"Texto plano"},{value:"json",label:"JSON estructurado"},{value:"markdown",label:"Markdown"},{value:"html",label:"HTML"}]},{key:"variable",label:"Guardar resultado en",type:"variable",required:!0},{key:"tablesVariable",label:"Guardar tablas en",type:"variable",condition:{field:"extractTables",value:!0}},{key:"fieldsVariable",label:"Guardar campos en",type:"variable",condition:{field:"extractFields",value:!0}}]},image_click:{title:"Click en Imagen",icon:"fa-mouse-pointer",description:"Busca una imagen en pantalla y hace clic sobre ella",fields:[{key:"imagePath",label:"Imagen a buscar",type:"fileWithVariable",required:!0,fileType:"open",accept:".png,.jpg,.jpeg,.bmp"},{key:"searchRegion",label:"Regin de bsqueda",type:"select",default:"fullscreen",options:[{value:"fullscreen",label:"Pantalla completa"},{value:"activeWindow",label:"Ventana activa"},{value:"custom",label:"Regin personalizada"}]},{key:"regionX",label:"Regin X",type:"number",condition:{field:"searchRegion",value:"custom"}},{key:"regionY",label:"Regin Y",type:"number",condition:{field:"searchRegion",value:"custom"}},{key:"regionWidth",label:"Regin Ancho",type:"number",condition:{field:"searchRegion",value:"custom"}},{key:"regionHeight",label:"Regin Alto",type:"number",condition:{field:"searchRegion",value:"custom"}},{key:"confidence",label:"Confianza mnima",type:"slider",default:.8,min:.5,max:1,step:.05,helpText:"Porcentaje de similitud requerido"},{key:"clickType",label:"Tipo de clic",type:"select",default:"left",options:[{value:"left",label:"Clic izquierdo"},{value:"right",label:"Clic derecho"},{value:"double",label:"Doble clic"},{value:"middle",label:"Clic medio"}]},{key:"clickPosition",label:"Posicin del clic",type:"select",default:"center",options:[{value:"center",label:"Centro de la imagen"},{value:"topLeft",label:"Esquina superior izquierda"},{value:"topRight",label:"Esquina superior derecha"},{value:"bottomLeft",label:"Esquina inferior izquierda"},{value:"bottomRight",label:"Esquina inferior derecha"},{value:"custom",label:"Offset personalizado"}]},{key:"offsetX",label:"Offset X",type:"number",default:0,condition:{field:"clickPosition",value:"custom"}},{key:"offsetY",label:"Offset Y",type:"number",default:0,condition:{field:"clickPosition",value:"custom"}},{key:"waitBefore",label:"Esperar antes (ms)",type:"number",default:0},{key:"waitAfter",label:"Esperar despus (ms)",type:"number",default:200},{key:"timeout",label:"Timeout (segundos)",type:"number",default:10},{key:"throwOnNotFound",label:"Error si no encuentra",type:"checkbox",default:!0},{key:"foundVariable",label:"Guardar si encontr en",type:"variable",helpText:"Variable booleana indicando si se encontr"}]},screenshot_region:{title:"Captura de Regin",icon:"fa-camera",description:"Captura una regin especfica de la pantalla",fields:[{key:"captureMode",label:"Modo de captura",type:"select",default:"coordinates",options:[{value:"fullscreen",label:"Pantalla completa"},{value:"activeWindow",label:"Ventana activa"},{value:"coordinates",label:"Por coordenadas"},{value:"element",label:"Por selector de elemento"}]},{key:"windowSelector",label:"Ventana",type:"windowWithVariable",condition:{field:"captureMode",value:"activeWindow"}},{key:"x",label:"Posicin X",type:"number",default:0,condition:{field:"captureMode",value:"coordinates"}},{key:"y",label:"Posicin Y",type:"number",default:0,condition:{field:"captureMode",value:"coordinates"}},{key:"width",label:"Ancho",type:"number",default:400,condition:{field:"captureMode",value:"coordinates"}},{key:"height",label:"Alto",type:"number",default:300,condition:{field:"captureMode",value:"coordinates"}},{key:"elementSelector",label:"Selector CSS",type:"text",condition:{field:"captureMode",value:"element"}},{key:"format",label:"Formato de imagen",type:"select",default:"png",options:[{value:"png",label:"PNG"},{value:"jpg",label:"JPEG"},{value:"bmp",label:"BMP"}]},{key:"quality",label:"Calidad (JPEG)",type:"slider",default:90,min:10,max:100,step:5,condition:{field:"format",value:"jpg"}},{key:"saveToFile",label:"Guardar en archivo",type:"checkbox",default:!0},{key:"filePath",label:"Ruta del archivo",type:"fileWithVariable",fileType:"save",accept:".png,.jpg,.bmp",condition:{field:"saveToFile",value:!0}},{key:"saveToVariable",label:"Guardar en variable (Base64)",type:"checkbox",default:!1},{key:"base64Variable",label:"Variable Base64",type:"variable",condition:{field:"saveToVariable",value:!0}},{key:"includeTimestamp",label:"Incluir timestamp en nombre",type:"checkbox",default:!1},{key:"pathVariable",label:"Guardar ruta en",type:"variable",helpText:"Variable para almacenar la ruta del archivo guardado"}]},window_get_active:{title:"Obtener Ventana Activa",icon:"fa-window-maximize",description:"Obtiene informacin de la ventana activa",fields:[{key:"variable",label:"Guardar info en",type:"variable",required:!0,helpText:"Guarda ttulo, handle, clase, etc."}]},window_find:{title:"Buscar Ventana",icon:"fa-search",description:"Busca ventanas por ttulo o clase",fields:[{key:"searchBy",label:"Buscar por",type:"buttonGroup",default:"title",options:[{value:"title",label:"Ttulo"},{value:"class",label:"Clase"},{value:"process",label:"Proceso"}]},{key:"title",label:"Ttulo de ventana",type:"text",placeholder:"Contiene este texto...",condition:{field:"searchBy",value:"title"}},{key:"className",label:"Nombre de clase",type:"text",placeholder:"Chrome_WidgetWin_1",condition:{field:"searchBy",value:"class"}},{key:"processName",label:"Nombre de proceso",type:"text",placeholder:"chrome.exe, notepad.exe",condition:{field:"searchBy",value:"process"}},{key:"matchType",label:"Tipo de coincidencia",type:"select",default:"contains",options:[{value:"exact",label:"Exacta"},{value:"contains",label:"Contiene"},{value:"startsWith",label:"Empieza con"},{value:"regex",label:"Expresin regular"}]},{key:"variable",label:"Guardar ventana(s) en",type:"variable",required:!0}]},window_focus:{title:"Enfocar Ventana",icon:"fa-window-restore",description:"Trae una ventana al frente",fields:[{key:"window",label:"Ventana",type:"variable",helpText:"Variable con la ventana o buscar por ttulo"},{key:"title",label:"O buscar por ttulo",type:"text",placeholder:"Ttulo de la ventana"}]},window_minimize:{title:"Minimizar Ventana",icon:"fa-window-minimize",description:"Minimiza una ventana",fields:[{key:"window",label:"Ventana",type:"variable"},{key:"title",label:"O buscar por ttulo",type:"text"}]},window_maximize:{title:"Maximizar Ventana",icon:"fa-window-maximize",description:"Maximiza una ventana",fields:[{key:"window",label:"Ventana",type:"variable"},{key:"title",label:"O buscar por ttulo",type:"text"}]},window_restore:{title:"Restaurar Ventana",icon:"fa-window-restore",description:"Restaura una ventana a su tamao normal",fields:[{key:"window",label:"Ventana",type:"variable"},{key:"title",label:"O buscar por ttulo",type:"text"}]},window_close:{title:"Cerrar Ventana",icon:"fa-times",description:"Cierra una ventana",fields:[{key:"window",label:"Ventana",type:"variable"},{key:"title",label:"O buscar por ttulo",type:"text"},{key:"force",label:"Forzar cierre",type:"checkbox",default:!1}]},window_resize:{title:"Redimensionar Ventana",icon:"fa-expand-arrows-alt",description:"Cambia el tamao de una ventana",fields:[{key:"window",label:"Ventana",type:"variable"},{key:"title",label:"O buscar por ttulo",type:"text"},{key:"width",label:"Ancho",type:"number",required:!0},{key:"height",label:"Alto",type:"number",required:!0}]},window_move:{title:"Mover Ventana",icon:"fa-arrows-alt",description:"Mueve una ventana a una posicin",fields:[{key:"window",label:"Ventana",type:"variable"},{key:"title",label:"O buscar por ttulo",type:"text"},{key:"x",label:"Posicin X",type:"number",required:!0},{key:"y",label:"Posicin Y",type:"number",required:!0}]},window_get_list:{title:"Listar Ventanas",icon:"fa-list",description:"Obtiene lista de todas las ventanas abiertas",fields:[{key:"visibleOnly",label:"Solo visibles",type:"checkbox",default:!0},{key:"filter",label:"Filtrar por nombre",type:"text",placeholder:"Opcional: filtrar por texto"},{key:"variable",label:"Guardar lista en",type:"variable",required:!0}]},window_get_bounds:{title:"Obtener Dimensiones",icon:"fa-ruler-combined",description:"Obtiene posicin y tamao de una ventana",fields:[{key:"window",label:"Ventana",type:"variable"},{key:"title",label:"O buscar por ttulo",type:"text"},{key:"variable",label:"Guardar en",type:"variable",required:!0,helpText:"Guarda {x, y, width, height}"}]},window_screenshot:{title:"Capturar Ventana",icon:"fa-camera",description:"Toma captura de una ventana especfica",fields:[{key:"window",label:"Ventana",type:"variable"},{key:"title",label:"O buscar por ttulo",type:"text"},{key:"savePath",label:"Guardar en",type:"file",fileType:"save",accept:".png,.jpg"},{key:"variable",label:"O guardar en variable (Base64)",type:"variable"}]},browser_get_windows:{title:"Obtener Ventanas de Navegador",icon:"fa-globe",description:"Obtiene todas las ventanas de navegador abiertas",fields:[{key:"browser",label:"Navegador",type:"select",default:"all",options:[{value:"all",label:"Todos los navegadores"},{value:"chrome",label:"Google Chrome",icon:"fab fa-chrome"},{value:"edge",label:"Microsoft Edge",icon:"fab fa-edge"},{value:"firefox",label:"Mozilla Firefox",icon:"fab fa-firefox"},{value:"brave",label:"Brave"}]},{key:"variable",label:"Guardar ventanas en",type:"variable",required:!0}]},browser_get_tabs:{title:"Obtener Pestaas",icon:"fa-folder-open",description:"Obtiene las pestaas abiertas de un navegador",fields:[{key:"browser",label:"Navegador",type:"select",default:"chrome",options:[{value:"chrome",label:"Google Chrome"},{value:"edge",label:"Microsoft Edge"},{value:"firefox",label:"Mozilla Firefox"}]},{key:"variable",label:"Guardar pestaas en",type:"variable",required:!0}]},browser_activate_tab:{title:"Activar Pestaa",icon:"fa-mouse-pointer",description:"Activa una pestaa especfica del navegador",fields:[{key:"browser",label:"Navegador",type:"select",default:"chrome",options:[{value:"chrome",label:"Google Chrome"},{value:"edge",label:"Microsoft Edge"},{value:"firefox",label:"Mozilla Firefox"}]},{key:"findBy",label:"Buscar por",type:"buttonGroup",default:"title",options:[{value:"title",label:"Ttulo"},{value:"url",label:"URL"},{value:"index",label:"ndice"}]},{key:"title",label:"Ttulo de la pestaa",type:"text",condition:{field:"findBy",value:"title"}},{key:"url",label:"URL",type:"text",condition:{field:"findBy",value:"url"}},{key:"index",label:"ndice (0-based)",type:"number",condition:{field:"findBy",value:"index"}}]},browser_close_tab:{title:"Cerrar Pestaa",icon:"fa-times",description:"Cierra una pestaa del navegador",fields:[{key:"browser",label:"Navegador",type:"select",default:"chrome",options:[{value:"chrome",label:"Google Chrome"},{value:"edge",label:"Microsoft Edge"},{value:"firefox",label:"Mozilla Firefox"}]},{key:"findBy",label:"Buscar por",type:"buttonGroup",default:"title",options:[{value:"title",label:"Ttulo"},{value:"url",label:"URL"},{value:"current",label:"Pestaa actual"}]},{key:"title",label:"Ttulo de la pestaa",type:"text",condition:{field:"findBy",value:"title"}},{key:"url",label:"URL",type:"text",condition:{field:"findBy",value:"url"}}]},set_variable:{title:"Establecer Variable",icon:"fa-code",description:"Crea o modifica una variable",fields:[{key:"name",label:"Nombre de variable",type:"variable",required:!0},{key:"valueType",label:"Tipo de valor",type:"select",default:"text",options:[{value:"text",label:"Texto"},{value:"number",label:"Nmero"},{value:"boolean",label:"Booleano"},{value:"array",label:"Array"},{value:"object",label:"Objeto JSON"},{value:"expression",label:"Expresin"}]},{key:"value",label:"Valor",type:"textarea",required:!0,rows:2}]},get_variable:{title:"Obtener Variable",icon:"fa-code",description:"Obtiene el valor de una variable",fields:[{key:"name",label:"Nombre de variable",type:"variable",required:!0},{key:"outputVariable",label:"Guardar en",type:"variable",required:!0}]},increment_variable:{title:"Incrementar Variable",icon:"fa-plus",description:"Incrementa el valor de una variable numrica",fields:[{key:"name",label:"Variable",type:"variable",required:!0},{key:"amount",label:"Cantidad",type:"number",default:1}]},decrement_variable:{title:"Decrementar Variable",icon:"fa-minus",description:"Decrementa el valor de una variable numrica",fields:[{key:"name",label:"Variable",type:"variable",required:!0},{key:"amount",label:"Cantidad",type:"number",default:1}]},string_concat:{title:"Concatenar Texto",icon:"fa-link",description:"Une mltiples textos",fields:[{key:"texts",label:"Textos a unir",type:"tags",required:!0},{key:"separator",label:"Separador",type:"text",default:""},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},string_split:{title:"Dividir Texto",icon:"fa-cut",description:"Divide un texto en partes",fields:[{key:"text",label:"Texto",type:"text",required:!0},{key:"delimiter",label:"Delimitador",type:"text",required:!0,default:","},{key:"variable",label:"Guardar array en",type:"variable",required:!0}]},string_replace:{title:"Reemplazar Texto",icon:"fa-exchange-alt",description:"Reemplaza texto dentro de una cadena",fields:[{key:"text",label:"Texto original",type:"textarea",required:!0,rows:2},{key:"find",label:"Buscar",type:"text",required:!0},{key:"replace",label:"Reemplazar con",type:"text"},{key:"useRegex",label:"Usar expresin regular",type:"checkbox",default:!1},{key:"replaceAll",label:"Reemplazar todos",type:"checkbox",default:!0},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},string_trim:{title:"Recortar Espacios",icon:"fa-text-width",description:"Elimina espacios al inicio y final",fields:[{key:"text",label:"Texto",type:"text",required:!0},{key:"trimType",label:"Tipo",type:"buttonGroup",default:"both",options:[{value:"both",label:"Ambos"},{value:"start",label:"Inicio"},{value:"end",label:"Final"}]},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},string_substring:{title:"Extraer Subcadena",icon:"fa-text-width",description:"Extrae una parte del texto",fields:[{key:"text",label:"Texto",type:"text",required:!0},{key:"start",label:"Posicin inicial",type:"number",default:0},{key:"length",label:"Longitud",type:"number",helpText:"Dejar vaco para hasta el final"},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},string_to_upper:{title:"Convertir a Maysculas",icon:"fa-font",description:"Convierte texto a maysculas",fields:[{key:"text",label:"Texto",type:"text",required:!0},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},string_to_lower:{title:"Convertir a Minsculas",icon:"fa-font",description:"Convierte texto a minsculas",fields:[{key:"text",label:"Texto",type:"text",required:!0},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},regex_match:{title:"Extraer con Regex",icon:"fa-asterisk",description:"Extrae texto usando expresiones regulares",fields:[{key:"text",label:"Texto",type:"textarea",required:!0,rows:2},{key:"pattern",label:"Patrn Regex",type:"text",required:!0,placeholder:"\\d+, [a-zA-Z]+, etc."},{key:"flags",label:"Flags",type:"multiSelect",options:[{value:"g",label:"Global (g)"},{value:"i",label:"Case insensitive (i)"},{value:"m",label:"Multiline (m)"}]},{key:"variable",label:"Guardar coincidencias en",type:"variable",required:!0}]},datetime_now:{title:"Fecha/Hora Actual",icon:"fa-clock",description:"Obtiene la fecha y hora actual",fields:[{key:"format",label:"Formato",type:"select",default:"iso",options:[{value:"iso",label:"ISO (2024-01-15T10:30:00)"},{value:"date",label:"Solo fecha (2024-01-15)"},{value:"time",label:"Solo hora (10:30:00)"},{value:"custom",label:"Personalizado"}]},{key:"customFormat",label:"Formato personalizado",type:"text",placeholder:"dd/MM/yyyy HH:mm:ss",condition:{field:"format",value:"custom"}},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},datetime_format:{title:"Formatear Fecha",icon:"fa-calendar-alt",description:"Formatea una fecha",fields:[{key:"date",label:"Fecha",type:"text",required:!0},{key:"inputFormat",label:"Formato de entrada",type:"text",default:"auto"},{key:"outputFormat",label:"Formato de salida",type:"text",required:!0,placeholder:"dd/MM/yyyy HH:mm"},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},datetime_add:{title:"Sumar a Fecha",icon:"fa-calendar-plus",description:"Suma tiempo a una fecha",fields:[{key:"date",label:"Fecha",type:"text",required:!0},{key:"amount",label:"Cantidad",type:"number",required:!0},{key:"unit",label:"Unidad",type:"select",default:"days",options:[{value:"seconds",label:"Segundos"},{value:"minutes",label:"Minutos"},{value:"hours",label:"Horas"},{value:"days",label:"Das"},{value:"weeks",label:"Semanas"},{value:"months",label:"Meses"},{value:"years",label:"Aos"}]},{key:"variable",label:"Guardar en",type:"variable",required:!0}]},datetime_diff:{title:"Diferencia de Fechas",icon:"fa-calendar-minus",description:"Calcula la diferencia entre dos fechas",fields:[{key:"date1",label:"Primera fecha",type:"text",required:!0},{key:"date2",label:"Segunda fecha",type:"text",required:!0},{key:"unit",label:"Unidad de resultado",type:"select",default:"days",options:[{value:"seconds",label:"Segundos"},{value:"minutes",label:"Minutos"},{value:"hours",label:"Horas"},{value:"days",label:"Das"}]},{key:"variable",label:"Guardar diferencia en",type:"variable",required:!0}]},json_parse:{title:"Parsear JSON",icon:"fa-code",description:"Convierte texto JSON a objeto",fields:[{key:"jsonText",label:"Texto JSON",type:"code",language:"json",required:!0,rows:5},{key:"variable",label:"Guardar objeto en",type:"variable",required:!0}]},json_stringify:{title:"Convertir a JSON",icon:"fa-code",description:"Convierte objeto a texto JSON",fields:[{key:"object",label:"Objeto/Variable",type:"variable",required:!0},{key:"pretty",label:"Formato legible",type:"checkbox",default:!0},{key:"variable",label:"Guardar JSON en",type:"variable",required:!0}]},json_get_value:{title:"Obtener Valor JSON",icon:"fa-search",description:"Obtiene un valor de un objeto JSON",fields:[{key:"object",label:"Objeto JSON",type:"variable",required:!0},{key:"path",label:"Ruta",type:"text",required:!0,placeholder:"data.users[0].name",helpText:"Usa notacin de punto o corchetes"},{key:"variable",label:"Guardar valor en",type:"variable",required:!0}]},json_set_value:{title:"Establecer Valor JSON",icon:"fa-edit",description:"Establece un valor en un objeto JSON",fields:[{key:"object",label:"Objeto JSON",type:"variable",required:!0},{key:"path",label:"Ruta",type:"text",required:!0,placeholder:"data.users[0].name"},{key:"value",label:"Nuevo valor",type:"text",required:!0}]}};function tx(a){let t=Ho[a];for(;t!=null&&t.extends;)t={...Ho[t.extends],...t},delete t.extends;return t||{title:a,icon:"fa-cog",description:"Accin sin configuracin especfica",fields:[]}}const rx=[{key:"description",label:"Descripcin",type:"textarea",placeholder:"Descripcin del paso (opcional)",rows:2,helpText:"Documenta el propsito de este paso"},{key:"enabled",label:"Habilitado",type:"checkbox",default:!0,helpText:"Desmarcar para omitir este paso durante la ejecucin"},{key:"continueOnError",label:"Continuar en caso de error",type:"checkbox",default:!1,helpText:"Contina la ejecucin aunque este paso falle"},{key:"logOutput",label:"Registrar salida en log",type:"checkbox",default:!0,helpText:"Registra el resultado de este paso en el log de ejecucin"},{key:"captureScreenshotOnError",label:"Capturar pantalla al fallar",type:"checkbox",default:!1,helpText:"Toma una captura de pantalla si este paso falla"},{key:"timeout",label:"Timeout (segundos)",type:"number",default:30,min:1,max:3600,advanced:!0,helpText:"Tiempo mximo de espera para este paso"},{key:"retryCount",label:"Reintentos",type:"number",default:0,min:0,max:10,advanced:!0,helpText:"Nmero de veces a reintentar si falla"},{key:"retryDelay",label:"Delay entre reintentos (ms)",type:"number",default:1e3,min:100,max:6e4,condition:{field:"retryCount",notValue:0},advanced:!0,helpText:"Tiempo de espera entre cada reintento"},{key:"preDelay",label:"Espera antes (ms)",type:"number",default:0,min:0,max:6e4,advanced:!0,helpText:"Espera antes de ejecutar este paso"},{key:"postDelay",label:"Espera despus (ms)",type:"number",default:0,min:0,max:6e4,advanced:!0,helpText:"Espera despus de ejecutar este paso"},{key:"errorVariable",label:"Guardar error en",type:"variable",advanced:!0,condition:{field:"continueOnError",value:!0},helpText:"Variable donde guardar el mensaje de error"}];Object.assign(Ho,{twilio_connect:{title:"Conectar Twilio",icon:"fa-plug",description:"Configura la conexin con Twilio API",fields:[{key:"accountSid",label:"Account SID",type:"textWithVariable",required:!0,helpText:"Tu Account SID de Twilio"},{key:"authToken",label:"Auth Token",type:"password",required:!0,helpText:"Tu Auth Token de Twilio"},{key:"useCredentialStore",label:"Usar almacn de credenciales",type:"checkbox",default:!0,helpText:"Almacena las credenciales de forma segura"},{key:"credentialName",label:"Nombre de credencial",type:"text",condition:{field:"useCredentialStore",value:!0}},{key:"connectionVariable",label:"Guardar conexin en",type:"variable",required:!0}]},twilio_send_sms:{title:"Enviar SMS",icon:"fa-sms",description:"Enva un mensaje SMS a travs de Twilio",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0,helpText:"Variable con la conexin de Twilio"},{key:"from",label:"Nmero remitente",type:"textWithVariable",required:!0,placeholder:"+1234567890",helpText:"Nmero de Twilio verificado"},{key:"to",label:"Nmero destinatario",type:"textWithVariable",required:!0,placeholder:"+1234567890",helpText:"Nmero del destinatario con cdigo de pas"},{key:"body",label:"Mensaje",type:"textareaWithVariable",required:!0,rows:3,helpText:"Contenido del mensaje SMS (mx. 1600 caracteres)"},{key:"statusCallback",label:"URL de callback",type:"textWithVariable",advanced:!0,helpText:"URL para recibir actualizaciones de estado"},{key:"messageSid",label:"Guardar Message SID en",type:"variable"},{key:"statusVariable",label:"Guardar estado en",type:"variable"}]},twilio_send_mms:{title:"Enviar MMS",icon:"fa-image",description:"Enva un mensaje multimedia MMS",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0},{key:"from",label:"Nmero remitente",type:"textWithVariable",required:!0},{key:"to",label:"Nmero destinatario",type:"textWithVariable",required:!0},{key:"body",label:"Mensaje",type:"textareaWithVariable",rows:2},{key:"mediaUrl",label:"URL del medio",type:"textWithVariable",required:!0,helpText:"URL pblica de la imagen/video a enviar"},{key:"messageSid",label:"Guardar Message SID en",type:"variable"}]},twilio_make_call:{title:"Realizar Llamada",icon:"fa-phone",description:"Inicia una llamada de voz con Twilio",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0},{key:"from",label:"Nmero remitente",type:"textWithVariable",required:!0},{key:"to",label:"Nmero destinatario",type:"textWithVariable",required:!0},{key:"callType",label:"Tipo de llamada",type:"select",default:"twiml",options:[{value:"twiml",label:"TwiML (texto a voz)"},{value:"url",label:"URL de TwiML"},{value:"connect",label:"Conectar a nmero"}]},{key:"twimlMessage",label:"Mensaje TwiML",type:"textareaWithVariable",rows:3,condition:{field:"callType",value:"twiml"},helpText:"Mensaje que se reproducir con voz sinttica"},{key:"twimlUrl",label:"URL de TwiML",type:"textWithVariable",condition:{field:"callType",value:"url"}},{key:"connectTo",label:"Conectar a",type:"textWithVariable",condition:{field:"callType",value:"connect"},helpText:"Nmero al cual transferir la llamada"},{key:"voice",label:"Voz",type:"select",default:"Polly.Lucia",options:[{value:"Polly.Lucia",label:"Lucia (Espaol - ES)"},{value:"Polly.Conchita",label:"Conchita (Espaol - ES)"},{value:"Polly.Mia",label:"Mia (Espaol - MX)"},{value:"Polly.Lupe",label:"Lupe (Espaol - US)"},{value:"Polly.Penelope",label:"Penlope (Espaol - US)"},{value:"alice",label:"Alice (Ingls)"},{value:"man",label:"Hombre"},{value:"woman",label:"Mujer"}]},{key:"language",label:"Idioma",type:"select",default:"es-ES",options:[{value:"es-ES",label:"Espaol (Espaa)"},{value:"es-MX",label:"Espaol (Mxico)"},{value:"es-US",label:"Espaol (US)"},{value:"en-US",label:"Ingls (US)"},{value:"en-GB",label:"Ingls (UK)"}]},{key:"record",label:"Grabar llamada",type:"checkbox",default:!1},{key:"timeout",label:"Timeout (segundos)",type:"number",default:30},{key:"callSid",label:"Guardar Call SID en",type:"variable"},{key:"recordingUrl",label:"Guardar URL grabacin en",type:"variable",condition:{field:"record",value:!0}}]},twilio_send_voice_message:{title:"Mensaje de Voz",icon:"fa-voicemail",description:"Enva un mensaje de voz pregrabado",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0},{key:"from",label:"Nmero remitente",type:"textWithVariable",required:!0},{key:"to",label:"Nmero destinatario",type:"textWithVariable",required:!0},{key:"audioSource",label:"Origen del audio",type:"select",default:"text",options:[{value:"text",label:"Texto a voz"},{value:"url",label:"URL de audio"},{value:"file",label:"Archivo local"}]},{key:"message",label:"Mensaje",type:"textareaWithVariable",rows:3,condition:{field:"audioSource",value:"text"}},{key:"audioUrl",label:"URL del audio",type:"textWithVariable",condition:{field:"audioSource",value:"url"}},{key:"audioFile",label:"Archivo de audio",type:"fileWithVariable",fileType:"open",accept:".mp3,.wav,.ogg",condition:{field:"audioSource",value:"file"}},{key:"leaveVoicemail",label:"Dejar en buzn de voz",type:"checkbox",default:!0}]},twilio_send_whatsapp:{title:"Enviar WhatsApp va Twilio",icon:"fa-whatsapp",description:"Enva mensaje de WhatsApp usando Twilio",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0},{key:"from",label:"Nmero WhatsApp remitente",type:"textWithVariable",required:!0,placeholder:"whatsapp:+14155238886",helpText:"Nmero de WhatsApp de Twilio (formato: whatsapp:+nmero)"},{key:"to",label:"Nmero destinatario",type:"textWithVariable",required:!0,placeholder:"whatsapp:+1234567890"},{key:"messageType",label:"Tipo de mensaje",type:"select",default:"text",options:[{value:"text",label:"Texto"},{value:"template",label:"Plantilla"},{value:"media",label:"Media"}]},{key:"body",label:"Mensaje",type:"textareaWithVariable",rows:3,condition:{field:"messageType",value:"text"}},{key:"templateSid",label:"SID de Plantilla",type:"textWithVariable",condition:{field:"messageType",value:"template"}},{key:"templateVariables",label:"Variables de plantilla",type:"keyValue",condition:{field:"messageType",value:"template"},helpText:"Variables para reemplazar en la plantilla"},{key:"mediaUrl",label:"URL del medio",type:"textWithVariable",condition:{field:"messageType",value:"media"}},{key:"messageSid",label:"Guardar Message SID en",type:"variable"}]},twilio_video_room:{title:"Crear Sala de Video",icon:"fa-video",description:"Crea una sala de videoconferencia Twilio",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0},{key:"roomName",label:"Nombre de la sala",type:"textWithVariable",required:!0},{key:"roomType",label:"Tipo de sala",type:"select",default:"group",options:[{value:"peer-to-peer",label:"Peer to Peer (2 participantes)"},{value:"group",label:"Grupo (hasta 50)"},{value:"group-small",label:"Grupo pequeo (hasta 4)"}]},{key:"maxParticipants",label:"Mximo participantes",type:"number",default:10,min:2,max:50},{key:"recordRoom",label:"Grabar sala",type:"checkbox",default:!1},{key:"statusCallback",label:"URL de callback",type:"textWithVariable",advanced:!0},{key:"roomSid",label:"Guardar Room SID en",type:"variable"},{key:"roomUrl",label:"Guardar URL en",type:"variable"}]},twilio_verify_send:{title:"Enviar Verificacin",icon:"fa-shield-alt",description:"Enva cdigo de verificacin OTP",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0},{key:"serviceSid",label:"Verify Service SID",type:"textWithVariable",required:!0,helpText:"SID del servicio Verify de Twilio"},{key:"to",label:"Destinatario",type:"textWithVariable",required:!0,helpText:"Nmero de telfono o email"},{key:"channel",label:"Canal",type:"select",default:"sms",options:[{value:"sms",label:"SMS"},{value:"call",label:"Llamada de voz"},{value:"email",label:"Email"},{value:"whatsapp",label:"WhatsApp"}]},{key:"locale",label:"Idioma",type:"select",default:"es",options:[{value:"es",label:"Espaol"},{value:"en",label:"Ingls"},{value:"pt",label:"Portugus"}]},{key:"verificationSid",label:"Guardar Verification SID en",type:"variable"}]},twilio_verify_check:{title:"Verificar Cdigo",icon:"fa-check-circle",description:"Verifica el cdigo OTP ingresado",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0},{key:"serviceSid",label:"Verify Service SID",type:"textWithVariable",required:!0},{key:"to",label:"Destinatario",type:"textWithVariable",required:!0},{key:"code",label:"Cdigo",type:"textWithVariable",required:!0,helpText:"Cdigo ingresado por el usuario"},{key:"isValid",label:"Guardar resultado en",type:"variable",required:!0,helpText:"Variable booleana con el resultado"}]},twilio_lookup:{title:"Buscar Nmero",icon:"fa-search",description:"Obtiene informacin de un nmero telefnico",fields:[{key:"connection",label:"Conexin Twilio",type:"variable",required:!0},{key:"phoneNumber",label:"Nmero de telfono",type:"textWithVariable",required:!0},{key:"fields",label:"Campos a obtener",type:"multiselect",default:["carrier"],options:[{value:"carrier",label:"Operador"},{value:"caller_name",label:"Nombre del titular"},{value:"line_type_intelligence",label:"Tipo de lnea"}]},{key:"resultVariable",label:"Guardar resultado en",type:"variable",required:!0}]},wa_connect:{title:"Conectar WhatsApp Business",icon:"fa-plug",description:"Configura conexin con WhatsApp Business API",fields:[{key:"provider",label:"Proveedor",type:"select",default:"meta",options:[{value:"meta",label:"Meta (Cloud API)"},{value:"twilio",label:"Twilio"},{value:"360dialog",label:"360dialog"},{value:"messagebird",label:"MessageBird"}]},{key:"accessToken",label:"Access Token",type:"password",required:!0},{key:"phoneNumberId",label:"Phone Number ID",type:"textWithVariable",required:!0,condition:{field:"provider",value:"meta"}},{key:"businessAccountId",label:"Business Account ID",type:"textWithVariable",condition:{field:"provider",value:"meta"}},{key:"connectionVariable",label:"Guardar conexin en",type:"variable",required:!0}]},wa_send_message:{title:"Enviar Mensaje WhatsApp",icon:"fa-paper-plane",description:"Enva un mensaje de texto por WhatsApp",fields:[{key:"connection",label:"Conexin WhatsApp",type:"variable",required:!0},{key:"to",label:"Destinatario",type:"textWithVariable",required:!0,placeholder:"521234567890",helpText:"Nmero con cdigo de pas sin +"},{key:"message",label:"Mensaje",type:"textareaWithVariable",required:!0,rows:3},{key:"previewUrl",label:"Mostrar vista previa de enlaces",type:"checkbox",default:!0},{key:"messageId",label:"Guardar ID del mensaje en",type:"variable"}]},wa_send_template:{title:"Enviar Plantilla WhatsApp",icon:"fa-file-alt",description:"Enva una plantilla aprobada de WhatsApp",fields:[{key:"connection",label:"Conexin WhatsApp",type:"variable",required:!0},{key:"to",label:"Destinatario",type:"textWithVariable",required:!0},{key:"templateName",label:"Nombre de plantilla",type:"textWithVariable",required:!0,helpText:"Nombre exacto de la plantilla aprobada"},{key:"language",label:"Idioma",type:"select",default:"es",options:[{value:"es",label:"Espaol"},{value:"es_MX",label:"Espaol (Mxico)"},{value:"es_AR",label:"Espaol (Argentina)"},{value:"en",label:"Ingls"},{value:"en_US",label:"Ingls (US)"},{value:"pt_BR",label:"Portugus (Brasil)"}]},{key:"headerType",label:"Tipo de encabezado",type:"select",default:"none",options:[{value:"none",label:"Sin encabezado"},{value:"text",label:"Texto"},{value:"image",label:"Imagen"},{value:"video",label:"Video"},{value:"document",label:"Documento"}]},{key:"headerText",label:"Texto del encabezado",type:"textWithVariable",condition:{field:"headerType",value:"text"}},{key:"headerMediaUrl",label:"URL del medio",type:"textWithVariable",condition:{field:"headerType",values:["image","video","document"]}},{key:"bodyVariables",label:"Variables del cuerpo",type:"tags",helpText:"Variables en orden ({{1}}, {{2}}, etc.)"},{key:"buttonVariables",label:"Variables de botones",type:"keyValue",advanced:!0,helpText:"Variables para botones dinmicos"},{key:"messageId",label:"Guardar ID del mensaje en",type:"variable"}]},wa_send_buttons:{title:"Mensaje con Botones",icon:"fa-th-list",description:"Enva mensaje interactivo con botones",fields:[{key:"connection",label:"Conexin WhatsApp",type:"variable",required:!0},{key:"to",label:"Destinatario",type:"textWithVariable",required:!0},{key:"bodyText",label:"Texto del mensaje",type:"textareaWithVariable",required:!0,rows:2},{key:"headerText",label:"Encabezado",type:"textWithVariable"},{key:"footerText",label:"Pie de mensaje",type:"textWithVariable"},{key:"buttons",label:"Botones (mx. 3)",type:"tags",required:!0,helpText:"Texto de cada botn"},{key:"messageId",label:"Guardar ID del mensaje en",type:"variable"}]},wa_send_list:{title:"Mensaje con Lista",icon:"fa-list",description:"Enva mensaje con lista interactiva",fields:[{key:"connection",label:"Conexin WhatsApp",type:"variable",required:!0},{key:"to",label:"Destinatario",type:"textWithVariable",required:!0},{key:"bodyText",label:"Texto del mensaje",type:"textareaWithVariable",required:!0,rows:2},{key:"buttonText",label:"Texto del botn",type:"textWithVariable",required:!0,default:"Ver opciones"},{key:"sections",label:"Secciones",type:"code",language:"json",required:!0,helpText:"JSON con estructura de secciones y opciones"},{key:"messageId",label:"Guardar ID del mensaje en",type:"variable"}]},tg_connect:{title:"Conectar Bot Telegram",icon:"fa-plug",description:"Configura conexin con Bot de Telegram",fields:[{key:"botToken",label:"Token del Bot",type:"password",required:!0,helpText:"Token obtenido de @BotFather"},{key:"useWebhook",label:"Usar Webhook",type:"checkbox",default:!1},{key:"webhookUrl",label:"URL del Webhook",type:"textWithVariable",condition:{field:"useWebhook",value:!0}},{key:"connectionVariable",label:"Guardar conexin en",type:"variable",required:!0}]},tg_send_message:{title:"Enviar Mensaje Telegram",icon:"fa-paper-plane",description:"Enva un mensaje de texto por Telegram",fields:[{key:"connection",label:"Conexin Telegram",type:"variable",required:!0},{key:"chatId",label:"Chat ID",type:"textWithVariable",required:!0,helpText:"ID del chat o username (@username)"},{key:"text",label:"Mensaje",type:"textareaWithVariable",required:!0,rows:3},{key:"parseMode",label:"Formato",type:"select",default:"HTML",options:[{value:"HTML",label:"HTML"},{value:"Markdown",label:"Markdown"},{value:"MarkdownV2",label:"Markdown V2"}]},{key:"disableWebPreview",label:"Deshabilitar vista previa",type:"checkbox",default:!1},{key:"disableNotification",label:"Silenciar notificacin",type:"checkbox",default:!1},{key:"replyToMessageId",label:"Responder a mensaje ID",type:"textWithVariable",advanced:!0},{key:"messageId",label:"Guardar Message ID en",type:"variable"}]},tg_send_inline_keyboard:{title:"Teclado Inline",icon:"fa-th",description:"Enva mensaje con teclado inline",fields:[{key:"connection",label:"Conexin Telegram",type:"variable",required:!0},{key:"chatId",label:"Chat ID",type:"textWithVariable",required:!0},{key:"text",label:"Mensaje",type:"textareaWithVariable",required:!0},{key:"keyboard",label:"Teclado (JSON)",type:"code",language:"json",required:!0,helpText:"Array de filas con botones"},{key:"messageId",label:"Guardar Message ID en",type:"variable"}]},slack_connect:{title:"Conectar Slack",icon:"fa-plug",description:"Configura conexin con workspace de Slack",fields:[{key:"authType",label:"Tipo de autenticacin",type:"select",default:"bot",options:[{value:"bot",label:"Bot Token"},{value:"webhook",label:"Webhook"},{value:"oauth",label:"OAuth"}]},{key:"botToken",label:"Bot Token",type:"password",required:!0,condition:{field:"authType",value:"bot"},helpText:"Token xoxb-..."},{key:"webhookUrl",label:"Webhook URL",type:"textWithVariable",condition:{field:"authType",value:"webhook"}},{key:"connectionVariable",label:"Guardar conexin en",type:"variable",required:!0}]},slack_send_message:{title:"Enviar Mensaje Slack",icon:"fa-paper-plane",description:"Enva un mensaje a un canal o usuario",fields:[{key:"connection",label:"Conexin Slack",type:"variable",required:!0},{key:"channel",label:"Canal o Usuario",type:"textWithVariable",required:!0,placeholder:"#general o @usuario",helpText:"Nombre del canal (#) o usuario (@)"},{key:"text",label:"Mensaje",type:"textareaWithVariable",required:!0,rows:3},{key:"asUser",label:"Enviar como usuario",type:"checkbox",default:!1},{key:"username",label:"Nombre de usuario",type:"textWithVariable",condition:{field:"asUser",value:!0}},{key:"iconEmoji",label:"Emoji de cono",type:"textWithVariable",placeholder:":robot_face:",condition:{field:"asUser",value:!0}},{key:"threadTs",label:"Thread TS (responder en hilo)",type:"textWithVariable",advanced:!0},{key:"timestamp",label:"Guardar Timestamp en",type:"variable"}]},slack_send_blocks:{title:"Enviar Bloques Slack",icon:"fa-th-large",description:"Enva mensaje con Block Kit",fields:[{key:"connection",label:"Conexin Slack",type:"variable",required:!0},{key:"channel",label:"Canal",type:"textWithVariable",required:!0},{key:"blocks",label:"Bloques (JSON)",type:"code",language:"json",required:!0,rows:10,helpText:"Array de bloques del Block Kit"},{key:"text",label:"Texto alternativo",type:"textWithVariable",helpText:"Texto para notificaciones"}]},teams_connect:{title:"Conectar Teams",icon:"fa-plug",description:"Configura conexin con Microsoft Teams",fields:[{key:"authType",label:"Tipo de autenticacin",type:"select",default:"webhook",options:[{value:"webhook",label:"Webhook (Incoming)"},{value:"bot",label:"Bot Framework"},{value:"graph",label:"Microsoft Graph API"}]},{key:"webhookUrl",label:"Webhook URL",type:"textWithVariable",condition:{field:"authType",value:"webhook"}},{key:"tenantId",label:"Tenant ID",type:"textWithVariable",condition:{field:"authType",values:["bot","graph"]}},{key:"clientId",label:"Client ID",type:"textWithVariable",condition:{field:"authType",values:["bot","graph"]}},{key:"clientSecret",label:"Client Secret",type:"password",condition:{field:"authType",values:["bot","graph"]}},{key:"connectionVariable",label:"Guardar conexin en",type:"variable",required:!0}]},teams_send_message:{title:"Enviar Mensaje Teams",icon:"fa-paper-plane",description:"Enva un mensaje a un canal de Teams",fields:[{key:"connection",label:"Conexin Teams",type:"variable",required:!0},{key:"text",label:"Mensaje",type:"textareaWithVariable",required:!0,rows:3},{key:"title",label:"Ttulo",type:"textWithVariable"},{key:"themeColor",label:"Color del tema",type:"color",default:"#0078D4"},{key:"mentions",label:"Menciones",type:"tags",helpText:"Usuarios a mencionar"}]},teams_send_card:{title:"Enviar Card Adaptativa",icon:"fa-id-card",description:"Enva una Adaptive Card a Teams",fields:[{key:"connection",label:"Conexin Teams",type:"variable",required:!0},{key:"cardJson",label:"Card JSON",type:"code",language:"json",required:!0,rows:15,helpText:"JSON de Adaptive Card"},{key:"summary",label:"Resumen",type:"textWithVariable",helpText:"Texto para notificaciones"}]},hs_connect:{title:"Conectar HubSpot",icon:"fa-plug",description:"Configura conexin con HubSpot CRM",fields:[{key:"authType",label:"Tipo de autenticacin",type:"select",default:"apiKey",options:[{value:"apiKey",label:"API Key"},{value:"oauth",label:"OAuth 2.0"},{value:"privateApp",label:"Private App Token"}]},{key:"apiKey",label:"API Key",type:"password",condition:{field:"authType",value:"apiKey"}},{key:"accessToken",label:"Access Token",type:"password",condition:{field:"authType",values:["oauth","privateApp"]}},{key:"connectionVariable",label:"Guardar conexin en",type:"variable",required:!0}]},hs_create_contact:{title:"Crear Contacto HubSpot",icon:"fa-user-plus",description:"Crea un nuevo contacto en HubSpot",fields:[{key:"connection",label:"Conexin HubSpot",type:"variable",required:!0},{key:"email",label:"Email",type:"textWithVariable",required:!0},{key:"firstName",label:"Nombre",type:"textWithVariable"},{key:"lastName",label:"Apellido",type:"textWithVariable"},{key:"phone",label:"Telfono",type:"textWithVariable"},{key:"company",label:"Empresa",type:"textWithVariable"},{key:"lifecycleStage",label:"Etapa del ciclo",type:"select",options:[{value:"subscriber",label:"Suscriptor"},{value:"lead",label:"Lead"},{value:"marketingqualifiedlead",label:"MQL"},{value:"salesqualifiedlead",label:"SQL"},{value:"opportunity",label:"Oportunidad"},{value:"customer",label:"Cliente"}]},{key:"customProperties",label:"Propiedades personalizadas",type:"keyValue",advanced:!0},{key:"contactId",label:"Guardar ID del contacto en",type:"variable"}]},hs_create_deal:{title:"Crear Negocio HubSpot",icon:"fa-handshake",description:"Crea un nuevo deal en HubSpot",fields:[{key:"connection",label:"Conexin HubSpot",type:"variable",required:!0},{key:"dealName",label:"Nombre del negocio",type:"textWithVariable",required:!0},{key:"pipeline",label:"Pipeline",type:"textWithVariable",default:"default"},{key:"stage",label:"Etapa",type:"textWithVariable"},{key:"amount",label:"Monto",type:"number"},{key:"closeDate",label:"Fecha de cierre",type:"date"},{key:"contactId",label:"ID del contacto asociado",type:"textWithVariable"},{key:"companyId",label:"ID de la empresa asociada",type:"textWithVariable"},{key:"dealId",label:"Guardar ID del deal en",type:"variable"}]},zd_connect:{title:"Conectar Zendesk",icon:"fa-plug",description:"Configura conexin con Zendesk",fields:[{key:"subdomain",label:"Subdominio",type:"textWithVariable",required:!0,placeholder:"tu-empresa",helpText:"https://[subdominio].zendesk.com"},{key:"authType",label:"Tipo de autenticacin",type:"select",default:"token",options:[{value:"token",label:"API Token"},{value:"oauth",label:"OAuth"},{value:"basic",label:"Usuario/Contrasea"}]},{key:"email",label:"Email",type:"textWithVariable",required:!0},{key:"token",label:"API Token",type:"password",condition:{field:"authType",value:"token"}},{key:"password",label:"Contrasea",type:"password",condition:{field:"authType",value:"basic"}},{key:"connectionVariable",label:"Guardar conexin en",type:"variable",required:!0}]},zd_create_ticket:{title:"Crear Ticket Zendesk",icon:"fa-ticket-alt",description:"Crea un nuevo ticket en Zendesk",fields:[{key:"connection",label:"Conexin Zendesk",type:"variable",required:!0},{key:"subject",label:"Asunto",type:"textWithVariable",required:!0},{key:"description",label:"Descripcin",type:"textareaWithVariable",required:!0,rows:4},{key:"requesterEmail",label:"Email del solicitante",type:"textWithVariable",required:!0},{key:"requesterName",label:"Nombre del solicitante",type:"textWithVariable"},{key:"priority",label:"Prioridad",type:"select",options:[{value:"low",label:"Baja"},{value:"normal",label:"Normal"},{value:"high",label:"Alta"},{value:"urgent",label:"Urgente"}]},{key:"type",label:"Tipo",type:"select",options:[{value:"question",label:"Pregunta"},{value:"incident",label:"Incidente"},{value:"problem",label:"Problema"},{value:"task",label:"Tarea"}]},{key:"tags",label:"Etiquetas",type:"tags"},{key:"assigneeId",label:"ID del asignado",type:"textWithVariable",advanced:!0},{key:"groupId",label:"ID del grupo",type:"textWithVariable",advanced:!0},{key:"customFields",label:"Campos personalizados",type:"keyValue",advanced:!0},{key:"ticketId",label:"Guardar ID del ticket en",type:"variable"}]},inbox_get_conversations:{title:"Obtener Conversaciones",icon:"fa-comments",description:"Obtiene conversaciones de la bandeja unificada",fields:[{key:"channels",label:"Canales",type:"multiselect",options:[{value:"whatsapp",label:"WhatsApp"},{value:"telegram",label:"Telegram"},{value:"facebook",label:"Facebook Messenger"},{value:"instagram",label:"Instagram"},{value:"email",label:"Email"},{value:"sms",label:"SMS"},{value:"webchat",label:"Web Chat"}]},{key:"status",label:"Estado",type:"select",options:[{value:"all",label:"Todas"},{value:"open",label:"Abiertas"},{value:"pending",label:"Pendientes"},{value:"resolved",label:"Resueltas"},{value:"closed",label:"Cerradas"}]},{key:"assignedTo",label:"Asignado a",type:"textWithVariable",helpText:"ID del agente o vaco para todas"},{key:"limit",label:"Lmite",type:"number",default:50},{key:"conversationsVariable",label:"Guardar conversaciones en",type:"variable",required:!0}]},inbox_reply:{title:"Responder Conversacin",icon:"fa-reply",description:"Responde a una conversacin en cualquier canal",fields:[{key:"conversationId",label:"ID de conversacin",type:"textWithVariable",required:!0},{key:"message",label:"Mensaje",type:"textareaWithVariable",required:!0,rows:3},{key:"attachments",label:"Adjuntos",type:"tags",helpText:"URLs de archivos a adjuntar"},{key:"isInternal",label:"Nota interna",type:"checkbox",default:!1,helpText:"Si es true, no se enva al cliente"},{key:"messageId",label:"Guardar ID del mensaje en",type:"variable"}]}});const pn={string:{id:"string",name:"Texto (String)",icon:"fa-font",color:"#10b981",defaultValue:"",validator:a=>typeof a=="string"},integer:{id:"integer",name:"Entero (Integer)",icon:"fa-hashtag",color:"#3b82f6",defaultValue:0,validator:a=>Number.isInteger(a)},double:{id:"double",name:"Decimal (Double)",icon:"fa-percentage",color:"#8b5cf6",defaultValue:0,validator:a=>typeof a=="number"},boolean:{id:"boolean",name:"Booleano (Boolean)",icon:"fa-toggle-on",color:"#f59e0b",defaultValue:!1,validator:a=>typeof a=="boolean"},datetime:{id:"datetime",name:"Fecha y Hora (DateTime)",icon:"fa-calendar-alt",color:"#ec4899",defaultValue:new Date().toISOString(),validator:a=>!isNaN(Date.parse(a))},date:{id:"date",name:"Fecha (Date)",icon:"fa-calendar-day",color:"#ef4444",defaultValue:new Date().toISOString().split("T")[0],validator:a=>/^\d{4}-\d{2}-\d{2}$/.test(a)},time:{id:"time",name:"Hora (Time)",icon:"fa-clock",color:"#06b6d4",defaultValue:"00:00:00",validator:a=>/^\d{2}:\d{2}(:\d{2})?$/.test(a)},json:{id:"json",name:"JSON Object",icon:"fa-code",color:"#6366f1",defaultValue:{},validator:a=>typeof a=="object"&&a!==null},array:{id:"array",name:"Lista (Array)",icon:"fa-list-ol",color:"#14b8a6",defaultValue:[],validator:a=>Array.isArray(a)},dataframe:{id:"dataframe",name:"DataFrame (Tabla)",icon:"fa-table",color:"#22c55e",defaultValue:{columns:[],rows:[]},validator:a=>a&&Array.isArray(a.columns)&&Array.isArray(a.rows)},file:{id:"file",name:"Archivo (File)",icon:"fa-file",color:"#a855f7",defaultValue:null,validator:()=>!0},credential:{id:"credential",name:"Credencial (Credential)",icon:"fa-key",color:"#f97316",defaultValue:{username:"",password:""},validator:a=>a&&typeof a.username=="string"},browser:{id:"browser",name:"Navegador (Browser)",icon:"fa-globe",color:"#0ea5e9",defaultValue:null,validator:()=>!0},element:{id:"element",name:"Elemento UI (Element)",icon:"fa-crosshairs",color:"#84cc16",defaultValue:null,validator:()=>!0},connection:{id:"connection",name:"Conexin (Connection)",icon:"fa-plug",color:"#64748b",defaultValue:null,validator:()=>!0}},ui=[{name:"CurrentDate",type:"date",description:"Fecha actual",isSystem:!0},{name:"CurrentTime",type:"time",description:"Hora actual",isSystem:!0},{name:"CurrentDateTime",type:"datetime",description:"Fecha y hora actual",isSystem:!0},{name:"CurrentYear",type:"integer",description:"Ao actual",isSystem:!0},{name:"CurrentMonth",type:"integer",description:"Mes actual",isSystem:!0},{name:"CurrentDay",type:"integer",description:"Da actual",isSystem:!0},{name:"UserName",type:"string",description:"Usuario del sistema",isSystem:!0},{name:"MachineName",type:"string",description:"Nombre del equipo",isSystem:!0},{name:"WorkflowName",type:"string",description:"Nombre del workflow",isSystem:!0},{name:"WorkflowPath",type:"string",description:"Ruta del workflow",isSystem:!0}];function ix(a,t,r=null,i="workflow"){const n=pn[t];if(!n)throw new Error(`Tipo de variable invlido: ${t}`);return{id:`var_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:a,type:t,value:r!==null?r:n.defaultValue,scope:i,createdAt:new Date().toISOString(),isSystem:!1}}function Wu(a,t){if(t==null)return"null";switch(a){case"string":return`"${t}"`;case"boolean":return t?"Verdadero":"Falso";case"datetime":case"date":return new Date(t).toLocaleDateString("es-ES");case"time":return t;case"json":case"array":case"dataframe":return JSON.stringify(t,null,2);case"credential":return`${t.username} (***)`;default:return String(t)}}function It(a){return pn[a]||pn.string}function nx({variables:a=[],onAddVariable:t,onUpdateVariable:r,onDeleteVariable:i}){const[n,l]=f.useState(!1),[s,c]=f.useState(null),[p,h]=f.useState(""),[w,m]=f.useState(!1),[b,j]=f.useState("all"),[N,_]=f.useState({name:"",type:"string",defaultValue:"",scope:"workflow"}),D=()=>{if(!N.name.trim())return;const d=ix(N.name,N.type,N.defaultValue||pn[N.type].defaultValue,N.scope);t(d),_({name:"",type:"string",defaultValue:"",scope:"workflow"}),l(!1)},y=a.filter(d=>d.name.toLowerCase().includes(p.toLowerCase())),g=ui.filter(d=>d.name.toLowerCase().includes(p.toLowerCase()));return e.jsxs("div",{className:"variables-panel",children:[e.jsxs("div",{className:"variables-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-cube"}),"Variables"]}),e.jsx("button",{className:"btn-add-var",onClick:()=>l(!0),children:e.jsx("i",{className:"fas fa-plus"})})]}),e.jsxs("div",{className:"variables-search",children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("input",{type:"text",placeholder:"Buscar variables...",value:p,onChange:d=>h(d.target.value)})]}),e.jsxs("div",{className:"variables-tabs",children:[e.jsx("button",{className:`var-tab ${b==="all"?"active":""}`,onClick:()=>j("all"),children:"Todas"}),e.jsx("button",{className:`var-tab ${b==="user"?"active":""}`,onClick:()=>j("user"),children:"Usuario"}),e.jsx("button",{className:`var-tab ${b==="system"?"active":""}`,onClick:()=>j("system"),children:"Sistema"})]}),e.jsxs("div",{className:"variables-list",children:[(b==="all"||b==="user")&&e.jsxs(e.Fragment,{children:[y.length===0&&b==="user"&&e.jsxs("div",{className:"no-variables",children:[e.jsx("i",{className:"fas fa-inbox"}),e.jsx("p",{children:"No hay variables definidas"}),e.jsxs("button",{onClick:()=>l(!0),children:[e.jsx("i",{className:"fas fa-plus"})," Crear variable"]})]}),y.map(d=>{const T=It(d.type);return e.jsxs("div",{className:"variable-item",children:[e.jsx("div",{className:"var-icon",style:{background:`${T.color}20`,color:T.color},children:e.jsx("i",{className:`fas ${T.icon}`})}),e.jsxs("div",{className:"var-info",children:[e.jsx("span",{className:"var-name",children:d.name}),e.jsx("span",{className:"var-type",children:T.name})]}),e.jsx("div",{className:"var-value",title:Wu(d.type,d.value),children:Wu(d.type,d.value)}),e.jsxs("div",{className:"var-actions",children:[e.jsx("button",{className:"var-action-btn",onClick:()=>c(d),title:"Editar",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"var-action-btn delete",onClick:()=>i(d.id),title:"Eliminar",children:e.jsx("i",{className:"fas fa-trash"})})]})]},d.id)})]}),(b==="all"||b==="system")&&e.jsxs("div",{className:"system-variables",children:[b==="all"&&g.length>0&&e.jsx("div",{className:"section-divider",children:e.jsx("span",{children:"Variables del Sistema"})}),g.map(d=>{const T=It(d.type);return e.jsxs("div",{className:"variable-item system",children:[e.jsx("div",{className:"var-icon",style:{background:`${T.color}20`,color:T.color},children:e.jsx("i",{className:`fas ${T.icon}`})}),e.jsxs("div",{className:"var-info",children:[e.jsxs("span",{className:"var-name",children:[d.name,e.jsx("i",{className:"fas fa-lock system-badge",title:"Variable del sistema"})]}),e.jsx("span",{className:"var-description",children:d.description})]})]},d.name)})]})]}),n&&e.jsx("div",{className:"modal-overlay",onClick:()=>l(!1),children:e.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-plus-circle"}),"Nueva Variable"]}),e.jsx("button",{className:"modal-close",onClick:()=>l(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nombre de la variable"}),e.jsx("input",{type:"text",value:N.name,onChange:d=>_({...N,name:d.target.value}),placeholder:"miVariable"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tipo de dato"}),e.jsx("div",{className:"type-grid",children:Object.values(pn).map(d=>e.jsxs("button",{className:`type-option ${N.type===d.id?"selected":""}`,onClick:()=>_({...N,type:d.id,defaultValue:d.defaultValue}),style:{"--type-color":d.color,borderColor:N.type===d.id?d.color:"transparent"},children:[e.jsx("i",{className:`fas ${d.icon}`,style:{color:d.color}}),e.jsx("span",{children:d.name.split(" ")[0]})]},d.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Valor inicial"}),N.type==="boolean"?e.jsxs("div",{className:"toggle-field",children:[e.jsx("button",{className:`toggle-option ${N.defaultValue===!0?"active":""}`,onClick:()=>_({...N,defaultValue:!0}),children:"Verdadero"}),e.jsx("button",{className:`toggle-option ${N.defaultValue===!1?"active":""}`,onClick:()=>_({...N,defaultValue:!1}),children:"Falso"})]}):N.type==="integer"||N.type==="double"?e.jsx("input",{type:"number",step:N.type==="double"?"0.01":"1",value:N.defaultValue,onChange:d=>_({...N,defaultValue:parseFloat(d.target.value)||0})}):N.type==="date"?e.jsx("input",{type:"date",value:N.defaultValue,onChange:d=>_({...N,defaultValue:d.target.value})}):N.type==="datetime"?e.jsx("input",{type:"datetime-local",value:N.defaultValue?N.defaultValue.slice(0,16):"",onChange:d=>_({...N,defaultValue:d.target.value})}):N.type==="time"?e.jsx("input",{type:"time",value:N.defaultValue,onChange:d=>_({...N,defaultValue:d.target.value})}):N.type==="json"||N.type==="array"?e.jsx("textarea",{value:typeof N.defaultValue=="object"?JSON.stringify(N.defaultValue,null,2):N.defaultValue,onChange:d=>{try{_({...N,defaultValue:JSON.parse(d.target.value)})}catch{}},placeholder:N.type==="array"?"[]":"{}",rows:4}):e.jsx("input",{type:"text",value:N.defaultValue,onChange:d=>_({...N,defaultValue:d.target.value}),placeholder:"Valor inicial..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Alcance"}),e.jsxs("div",{className:"scope-options",children:[e.jsxs("button",{className:`scope-option ${N.scope==="workflow"?"active":""}`,onClick:()=>_({...N,scope:"workflow"}),children:[e.jsx("i",{className:"fas fa-file"}),"Workflow"]}),e.jsxs("button",{className:`scope-option ${N.scope==="global"?"active":""}`,onClick:()=>_({...N,scope:"global"}),children:[e.jsx("i",{className:"fas fa-globe"}),"Global"]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-cancel",onClick:()=>l(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn-create",onClick:D,disabled:!N.name.trim(),children:[e.jsx("i",{className:"fas fa-plus"}),"Crear Variable"]})]})]})})]})}function lx({variables:a=[],value:t,onChange:r,allowedTypes:i=null,placeholder:n="Seleccionar variable..."}){const[l,s]=f.useState(!1),[c,p]=f.useState(""),h=[...a,...ui.map(b=>({...b,id:`sys_${b.name}`,isSystem:!0}))],w=h.filter(b=>{const j=b.name.toLowerCase().includes(c.toLowerCase()),N=!i||i.includes(b.type);return j&&N}),m=t?h.find(b=>b.name===t||b.id===t):null;return e.jsxs("div",{className:"variable-selector",children:[e.jsxs("div",{className:"selector-input",onClick:()=>s(!l),children:[m?e.jsxs("div",{className:"selected-var",children:[e.jsx("i",{className:`fas ${It(m.type).icon}`,style:{color:It(m.type).color}}),e.jsx("span",{children:m.name})]}):e.jsx("span",{className:"placeholder",children:n}),e.jsx("i",{className:`fas fa-chevron-${l?"up":"down"}`})]}),l&&e.jsxs("div",{className:"selector-dropdown",children:[e.jsxs("div",{className:"dropdown-search",children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("input",{type:"text",value:c,onChange:b=>p(b.target.value),placeholder:"Buscar...",autoFocus:!0})]}),e.jsx("div",{className:"dropdown-list",children:w.length===0?e.jsx("div",{className:"no-results",children:"No hay variables disponibles"}):w.map(b=>{const j=It(b.type);return e.jsxs("div",{className:`dropdown-item ${b.isSystem?"system":""}`,onClick:()=>{r(b.name),s(!1),p("")},children:[e.jsx("i",{className:`fas ${j.icon}`,style:{color:j.color}}),e.jsx("span",{className:"var-name",children:b.name}),b.isSystem&&e.jsx("i",{className:"fas fa-lock system-icon"})]},b.id||b.name)})})]})]})}function sx({value:a,onChange:t,placeholder:r,required:i,encrypted:n}){const[l,s]=f.useState(!1);return e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:l?"text":"password",value:a||"",onChange:c=>t(c.target.value),placeholder:r,className:i&&!a?"invalid":""}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>s(!l),children:e.jsx("i",{className:`fas fa-eye${l?"-slash":""}`})}),n&&e.jsx("span",{className:"encrypted-badge",title:"Valor encriptado",children:e.jsx("i",{className:"fas fa-lock"})})]})}function ox({value:a,onChange:t,placeholder:r}){const[i,n]=f.useState(""),l=Array.isArray(a)?a:a?[a]:[],s=()=>{i.trim()&&!l.includes(i.trim())&&(t([...l,i.trim()]),n(""))},c=p=>{t(l.filter((h,w)=>w!==p))};return e.jsxs("div",{className:"tags-field",children:[e.jsx("div",{className:"tags-list",children:l.map((p,h)=>e.jsxs("span",{className:"tag",children:[p,e.jsx("button",{type:"button",onClick:()=>c(h),children:e.jsx("i",{className:"fas fa-times"})})]},h))}),e.jsxs("div",{className:"tag-input-wrapper",children:[e.jsx("input",{type:"text",value:i,onChange:p=>n(p.target.value),onKeyPress:p=>p.key==="Enter"&&(p.preventDefault(),s()),placeholder:r||"Agregar..."}),e.jsx("button",{type:"button",onClick:s,className:"add-tag-btn",children:e.jsx("i",{className:"fas fa-plus"})})]})]})}function cx({value:a,onChange:t,placeholder:r,required:i,variables:n=[],allowedTypes:l}){const[s,c]=f.useState(!1),p=f.useRef(null),h=f.useRef(null),w=[...n,...ui.map(j=>({...j,id:`sys_${j.name}`,isSystem:!0}))],m=j=>{var y;const N=((y=p.current)==null?void 0:y.selectionStart)||(a==null?void 0:a.length)||0,_=(a||"").substring(0,N),D=(a||"").substring(N);t(`${_}\${${j}}${D}`),c(!1)};f.useEffect(()=>{const j=N=>{h.current&&!h.current.contains(N.target)&&c(!1)};return s&&document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[s]);const b=l?w.filter(j=>l.includes(j.type)):w;return e.jsxs("div",{className:"text-with-variable-field",children:[e.jsxs("div",{className:"input-wrapper",children:[e.jsx("input",{ref:p,type:"text",value:a||"",onChange:j=>t(j.target.value),placeholder:r,className:i&&!a?"invalid":""}),e.jsx("button",{type:"button",className:"insert-var-btn",onClick:()=>c(!s),title:"Insertar variable",children:e.jsx("i",{className:"fas fa-cube"})})]}),s&&e.jsxs("div",{ref:h,className:"variable-popup",children:[e.jsxs("div",{className:"popup-header",children:[e.jsx("span",{children:"Seleccionar variable"}),e.jsx("button",{onClick:()=>c(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"popup-list",children:b.length===0?e.jsx("div",{className:"popup-empty",children:"No hay variables disponibles"}):b.map(j=>{const N=It(j.type);return e.jsxs("div",{className:"popup-item",onClick:()=>m(j.name),children:[e.jsx("i",{className:`fas ${N.icon}`,style:{color:N.color}}),e.jsx("span",{className:"var-name",children:j.name}),e.jsx("span",{className:"var-type",children:N.name.split(" ")[0]}),j.isSystem&&e.jsx("i",{className:"fas fa-lock system-badge"})]},j.id||j.name)})})]})]})}function $u({value:a,onChange:t,placeholder:r,required:i,variables:n=[],allowedTypes:l,browseType:s="file"}){const[c,p]=f.useState(!1),[h,w]=f.useState("text"),m=f.useRef(null),b=f.useRef(null),j=[...n,...ui.map(d=>({...d,id:`sys_${d.name}`,isSystem:!0}))],N=l?j.filter(d=>l.includes(d.type)):j,_=d=>{t(`\${${d}}`),p(!1),w("variable")},D=()=>{t(""),w("text")};f.useEffect(()=>{const d=T=>{b.current&&!b.current.contains(T.target)&&p(!1)};return c&&document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[c]);const y=a&&a.startsWith("${")&&a.endsWith("}"),g=y?a.slice(2,-1):null;return e.jsxs("div",{className:"file-with-variable-field",children:[e.jsxs("div",{className:"input-wrapper",children:[y?e.jsxs("div",{className:"variable-value",children:[e.jsx("i",{className:"fas fa-cube"}),e.jsx("span",{children:g}),e.jsx("button",{type:"button",className:"clear-var-btn",onClick:D,title:"Quitar variable",children:e.jsx("i",{className:"fas fa-times"})})]}):e.jsx("input",{ref:m,type:"text",value:a||"",onChange:d=>t(d.target.value),placeholder:r,className:i&&!a?"invalid":""}),e.jsx("button",{type:"button",className:"var-selector-btn",onClick:()=>p(!c),title:"Seleccionar variable",children:e.jsx("i",{className:"fas fa-times-circle"})}),e.jsx("button",{type:"button",className:"file-browse-btn",title:s==="folder"?"Seleccionar carpeta":"Examinar archivo",children:e.jsx("i",{className:`fas ${s==="folder"?"fa-folder":"fa-folder-open"}`})})]}),c&&e.jsxs("div",{ref:b,className:"variable-popup",children:[e.jsxs("div",{className:"popup-header",children:[e.jsx("span",{children:"Seleccionar variable"}),e.jsx("button",{onClick:()=>p(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"popup-list",children:N.length===0?e.jsx("div",{className:"popup-empty",children:"No hay variables disponibles"}):N.map(d=>{const T=It(d.type);return e.jsxs("div",{className:"popup-item",onClick:()=>_(d.name),children:[e.jsx("i",{className:`fas ${T.icon}`,style:{color:T.color}}),e.jsx("span",{className:"var-name",children:d.name}),e.jsx("span",{className:"var-type",children:T.name.split(" ")[0]}),d.isSystem&&e.jsx("i",{className:"fas fa-lock system-badge"})]},d.id||d.name)})})]})]})}function dx({value:a,onChange:t,placeholder:r,required:i,variables:n=[],allowedTypes:l}){const[s,c]=f.useState(!1),p=f.useRef(null),h=f.useRef(null),w=[...n,...ui.map(D=>({...D,id:`sys_${D.name}`,isSystem:!0}))],m=l?w.filter(D=>l.includes(D.type)):w,b=D=>{t(`\${${D}}`),c(!1)},j=()=>{t("")};f.useEffect(()=>{const D=y=>{h.current&&!h.current.contains(y.target)&&c(!1)};return s&&document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[s]);const N=a&&a.startsWith("${")&&a.endsWith("}"),_=N?a.slice(2,-1):null;return e.jsxs("div",{className:"window-with-variable-field",children:[e.jsxs("div",{className:"input-wrapper",children:[N?e.jsxs("div",{className:"variable-value",children:[e.jsx("i",{className:"fas fa-cube"}),e.jsx("span",{children:_}),e.jsx("button",{type:"button",className:"clear-var-btn",onClick:j,title:"Quitar variable",children:e.jsx("i",{className:"fas fa-times"})})]}):e.jsx("input",{ref:p,type:"text",value:a||"",onChange:D=>t(D.target.value),placeholder:r,className:i&&!a?"invalid":""}),e.jsx("button",{type:"button",className:"var-selector-btn",onClick:()=>c(!s),title:"Seleccionar variable",children:e.jsx("i",{className:"fas fa-times-circle"})}),e.jsx("button",{type:"button",className:"window-picker-btn",title:"Seleccionar ventana activa",children:e.jsx("i",{className:"fas fa-window-restore"})})]}),s&&e.jsxs("div",{ref:h,className:"variable-popup",children:[e.jsxs("div",{className:"popup-header",children:[e.jsx("span",{children:"Seleccionar variable"}),e.jsx("button",{onClick:()=>c(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"popup-list",children:m.length===0?e.jsx("div",{className:"popup-empty",children:"No hay variables disponibles"}):m.map(D=>{const y=It(D.type);return e.jsxs("div",{className:"popup-item",onClick:()=>b(D.name),children:[e.jsx("i",{className:`fas ${y.icon}`,style:{color:y.color}}),e.jsx("span",{className:"var-name",children:D.name}),e.jsx("span",{className:"var-type",children:y.name.split(" ")[0]}),D.isSystem&&e.jsx("i",{className:"fas fa-lock system-badge"})]},D.id||D.name)})})]})]})}function ux({value:a,onChange:t,helpText:r}){const i=Array.isArray(a)?a:[],[n,l]=f.useState(""),[s,c]=f.useState(""),p=()=>{n.trim()&&(t([...i,{key:n.trim(),value:s}]),l(""),c(""))},h=m=>{t(i.filter((b,j)=>j!==m))},w=(m,b,j)=>{const N=[...i];N[m][b]=j,t(N)};return e.jsxs("div",{className:"key-value-field",children:[i.map((m,b)=>e.jsxs("div",{className:"key-value-row",children:[e.jsx("input",{type:"text",value:m.key,onChange:j=>w(b,"key",j.target.value),placeholder:"Clave",className:"kv-key"}),e.jsx("span",{className:"kv-separator",children:":"}),e.jsx("input",{type:"text",value:m.value,onChange:j=>w(b,"value",j.target.value),placeholder:"Valor",className:"kv-value"}),e.jsx("button",{type:"button",onClick:()=>h(b),className:"kv-remove",children:e.jsx("i",{className:"fas fa-times"})})]},b)),e.jsxs("div",{className:"key-value-add",children:[e.jsx("input",{type:"text",value:n,onChange:m=>l(m.target.value),placeholder:"Nueva clave",className:"kv-key"}),e.jsx("span",{className:"kv-separator",children:":"}),e.jsx("input",{type:"text",value:s,onChange:m=>c(m.target.value),placeholder:"Valor",className:"kv-value",onKeyPress:m=>m.key==="Enter"&&(m.preventDefault(),p())}),e.jsx("button",{type:"button",onClick:p,className:"kv-add",children:e.jsx("i",{className:"fas fa-plus"})})]})]})}function $s({field:a,value:t,onChange:r,allValues:i,variables:n=[]}){const[l,s]=f.useState(t??a.default??"");if(f.useEffect(()=>{s(t??a.default??"")},[t,a.default]),a.condition){const{field:h,value:w,notValue:m,inValues:b,notInValues:j}=a.condition,N=i[h];if(w!==void 0&&N!==w||m!==void 0&&N===m||b&&!b.includes(N)||j&&j.includes(N))return null}const c=h=>{s(h),r(a.key,h)},p=()=>{var h,w,m,b;switch(a.type){case"select":return e.jsxs("div",{className:"select-wrapper",children:[e.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:a.required&&!l?"invalid":"",children:[e.jsx("option",{value:"",children:"Seleccionar..."}),(h=a.options)==null?void 0:h.map(_=>e.jsx("option",{value:_.value,children:_.label},_.value))]}),e.jsx("i",{className:"fas fa-chevron-down select-arrow"})]});case"selectWithIcons":case"selectIcon":return e.jsx("div",{className:"select-with-icons",children:(w=a.options)==null?void 0:w.map(_=>e.jsxs("button",{type:"button",className:`icon-option ${l===_.value?"selected":""}`,onClick:()=>c(_.value),title:_.label,children:[e.jsx("i",{className:_.icon}),e.jsx("span",{children:_.label})]},_.value))});case"buttonGroup":return e.jsx("div",{className:"button-group",children:(m=a.options)==null?void 0:m.map(_=>e.jsxs("button",{type:"button",className:`btn-group-item ${l===_.value?"active":""}`,onClick:()=>c(_.value),children:[_.icon&&e.jsx("i",{className:_.icon}),_.label]},_.value))});case"toggle":return e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:l||!1,onChange:_=>c(_.target.checked)}),e.jsx("span",{className:"toggle-slider"}),e.jsx("span",{className:"toggle-label",children:l?"Activado":"Desactivado"})]});case"checkbox":return e.jsxs("label",{className:"checkbox-field",children:[e.jsx("input",{type:"checkbox",checked:l||!1,onChange:_=>c(_.target.checked)}),e.jsx("span",{className:"checkbox-custom"}),e.jsx("span",{className:"checkbox-label",children:a.checkboxLabel||(l?"S":"No")})]});case"slider":return e.jsxs("div",{className:"slider-field",children:[e.jsx("input",{type:"range",min:a.min||0,max:a.max||100,step:a.step||1,value:l,onChange:_=>c(Number(_.target.value))}),e.jsxs("span",{className:"slider-value",children:[l,a.unit||""]})]});case"number":return e.jsxs("div",{className:"number-field",children:[e.jsx("button",{type:"button",className:"number-btn",onClick:()=>c(Math.max(a.min||0,(l||0)-(a.step||1))),children:e.jsx("i",{className:"fas fa-minus"})}),e.jsx("input",{type:"number",value:l,onChange:_=>c(Number(_.target.value)),min:a.min,max:a.max,step:a.step}),e.jsx("button",{type:"button",className:"number-btn",onClick:()=>c(Math.min(a.max||1/0,(l||0)+(a.step||1))),children:e.jsx("i",{className:"fas fa-plus"})})]});case"textarea":return e.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,rows:a.rows||3,className:a.required&&!l?"invalid":""});case"code":return e.jsxs("div",{className:"code-editor",children:[e.jsxs("div",{className:"code-header",children:[e.jsx("span",{className:"code-language",children:a.language||"text"}),e.jsx("button",{type:"button",className:"code-copy",title:"Copiar",children:e.jsx("i",{className:"fas fa-copy"})})]}),e.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,rows:a.rows||6,className:"code-textarea",spellCheck:"false"})]});case"selector":return e.jsxs("div",{className:"selector-field",children:[e.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,className:a.required&&!l?"invalid":""}),e.jsx("button",{type:"button",className:"selector-picker",title:"Seleccionar elemento",children:e.jsx("i",{className:"fas fa-crosshairs"})})]});case"variable":return e.jsxs("div",{className:"variable-field",children:[e.jsx("span",{className:"variable-prefix",children:"$"}),e.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,className:a.required&&!l?"invalid":""})]});case"variableSelect":return e.jsx(lx,{variables:n,value:l,onChange:c,allowedTypes:a.allowedTypes,placeholder:a.placeholder});case"textWithVariable":return e.jsx(cx,{value:l,onChange:c,placeholder:a.placeholder,required:a.required,variables:n,allowedTypes:a.allowedTypes});case"textareaWithVariable":return e.jsxs("div",{className:"textarea-with-variable",children:[e.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,rows:a.rows||3,className:a.required&&!l?"invalid":""}),e.jsxs("div",{className:"variable-toolbar",children:[e.jsx("span",{className:"toolbar-label",children:"Variables:"}),[...n,...ui.map(_=>({..._,id:`sys_${_.name}`,isSystem:!0}))].slice(0,5).map(_=>{const D=It(_.type);return e.jsxs("button",{type:"button",className:"var-chip",onClick:()=>c((l||"")+`\${${_.name}}`),title:_.isSystem?`Sistema: ${_.name}`:_.name,children:[e.jsx("i",{className:`fas ${D.icon}`,style:{color:D.color}}),_.name]},_.id||_.name)})]})]});case"expression":return e.jsxs("div",{className:"expression-field",children:[e.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,className:a.required&&!l?"invalid":""}),e.jsx("button",{type:"button",className:"expression-helper",title:"Ayuda con expresiones",children:e.jsx("i",{className:"fas fa-magic"})})]});case"file":return e.jsxs("div",{className:"file-field",children:[e.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,className:a.required&&!l?"invalid":""}),e.jsx("button",{type:"button",className:"file-browse",title:"Examinar",children:e.jsx("i",{className:"fas fa-folder-open"})})]});case"fileWithVariable":return e.jsx($u,{value:l,onChange:c,placeholder:a.placeholder,required:a.required,variables:n,allowedTypes:a.allowedTypes,browseType:"file"});case"folderWithVariable":return e.jsx($u,{value:l,onChange:c,placeholder:a.placeholder,required:a.required,variables:n,allowedTypes:a.allowedTypes,browseType:"folder"});case"windowWithVariable":return e.jsx(dx,{value:l,onChange:c,placeholder:a.placeholder,required:a.required,variables:n,allowedTypes:a.allowedTypes});case"url":return e.jsxs("div",{className:"url-field",children:[e.jsx("span",{className:"url-icon",children:e.jsx("i",{className:"fas fa-globe"})}),e.jsx("input",{type:"url",value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,className:a.required&&!l?"invalid":""})]});case"email":return e.jsxs("div",{className:"email-field",children:[e.jsx("span",{className:"email-icon",children:e.jsx("i",{className:"fas fa-envelope"})}),e.jsx("input",{type:"email",value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,className:a.required&&!l?"invalid":""})]});case"password":return e.jsx(sx,{value:l,onChange:c,placeholder:a.placeholder,required:a.required,encrypted:a.encrypted});case"tags":return e.jsx(ox,{value:l,onChange:c,placeholder:a.placeholder});case"multiSelect":const j=Array.isArray(l)?l:[],N=_=>{j.includes(_)?c(j.filter(D=>D!==_)):c([...j,_])};return e.jsx("div",{className:"multi-select",children:(b=a.options)==null?void 0:b.map(_=>e.jsxs("label",{className:"multi-select-option",children:[e.jsx("input",{type:"checkbox",checked:j.includes(_.value),onChange:()=>N(_.value)}),e.jsx("span",{className:"checkbox-custom"}),e.jsx("span",{children:_.label})]},_.value))});case"keyValue":return e.jsx(ux,{value:l,onChange:c,helpText:a.helpText});case"date":return e.jsx("input",{type:"date",value:l,onChange:_=>c(_.target.value),className:a.required&&!l?"invalid":""});case"datetime":return e.jsx("input",{type:"datetime-local",value:l,onChange:_=>c(_.target.value),className:a.required&&!l?"invalid":""});case"richtext":return e.jsxs("div",{className:"richtext-field",children:[e.jsxs("div",{className:"richtext-toolbar",children:[e.jsx("button",{type:"button",title:"Negrita",children:e.jsx("i",{className:"fas fa-bold"})}),e.jsx("button",{type:"button",title:"Cursiva",children:e.jsx("i",{className:"fas fa-italic"})}),e.jsx("button",{type:"button",title:"Subrayado",children:e.jsx("i",{className:"fas fa-underline"})}),e.jsx("span",{className:"toolbar-divider"}),e.jsx("button",{type:"button",title:"Lista",children:e.jsx("i",{className:"fas fa-list-ul"})}),e.jsx("button",{type:"button",title:"Enlace",children:e.jsx("i",{className:"fas fa-link"})})]}),e.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,rows:a.rows||5})]});default:return e.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:a.placeholder,className:a.required&&!l?"invalid":""})}};return e.jsxs("div",{className:`property-field ${a.advanced?"advanced-field":""} ${a.required?"required":""}`,children:[e.jsxs("label",{children:[a.label,a.required&&e.jsx("span",{className:"required-mark",children:"*"})]}),p(),a.helpText&&e.jsxs("span",{className:"field-help",children:[e.jsx("i",{className:"fas fa-info-circle"}),a.helpText]})]})}function px({selectedStep:a,onUpdateStep:t,variables:r=[]}){const[i,n]=f.useState({}),[l,s]=f.useState(!1);f.useEffect(()=>{n(a?a.params||{}:{})},[a]);const c=f.useCallback((j,N)=>{const _={...i,[j]:N};n(_),a&&t&&t(a.id,{params:_})},[i,a,t]);if(!a)return e.jsxs("div",{className:"action-property-editor empty-state",children:[e.jsx("div",{className:"empty-icon",children:e.jsx("i",{className:"fas fa-hand-pointer"})}),e.jsx("h4",{children:"Sin seleccin"}),e.jsx("p",{children:"Selecciona una accin del canvas para configurar sus propiedades"})]});const p=a.action||a.type,h=tx(p),w=h.fields||[],m=w.filter(j=>!j.advanced),b=w.filter(j=>j.advanced);return e.jsxs("div",{className:"action-property-editor",children:[e.jsxs("div",{className:"action-header",children:[e.jsx("div",{className:"action-icon-wrapper",children:e.jsx("i",{className:`fas ${h.icon||a.icon||"fa-cog"}`})}),e.jsxs("div",{className:"action-info",children:[e.jsx("h3",{children:h.title||a.label}),e.jsx("p",{children:h.description})]})]}),e.jsxs("div",{className:"properties-form",children:[e.jsx("div",{className:"fields-section",children:m.map(j=>e.jsx($s,{field:j,value:i[j.key],onChange:c,allValues:i,variables:r},j.key))}),b.length>0&&e.jsxs("div",{className:"advanced-section",children:[e.jsxs("button",{type:"button",className:"advanced-toggle",onClick:()=>s(!l),children:[e.jsx("i",{className:`fas fa-chevron-${l?"up":"down"}`}),"Opciones avanzadas",e.jsx("span",{className:"advanced-count",children:b.length})]}),l&&e.jsx("div",{className:"advanced-fields",children:b.map(j=>e.jsx($s,{field:j,value:i[j.key],onChange:c,allValues:i,variables:r},j.key))})]}),e.jsxs("div",{className:"common-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("i",{className:"fas fa-sliders-h"}),e.jsx("span",{children:"Configuracin general"})]}),rx.filter(j=>!j.advanced||l).map(j=>e.jsx($s,{field:j,value:i[j.key],onChange:c,allValues:i,variables:r},j.key))]})]})]})}const Uu=[{id:"control-flow",name:"Control de Flujo",icon:"fa-code-branch",actions:[{action:"step_group",icon:"fa-layer-group",label:"Step (Grupo)",isContainer:!0},{action:"if_condition",icon:"fa-question",label:"Si / Condicin",isContainer:!0},{action:"else_condition",icon:"fa-random",label:"Sino (Else)",isContainer:!0},{action:"switch_case",icon:"fa-sitemap",label:"Switch / Case",isContainer:!0},{action:"for_loop",icon:"fa-redo",label:"Bucle For",isContainer:!0},{action:"for_each",icon:"fa-list",label:"Para Cada (ForEach)",isContainer:!0},{action:"while_loop",icon:"fa-sync",label:"Bucle While",isContainer:!0},{action:"do_while",icon:"fa-sync-alt",label:"Hacer Mientras",isContainer:!0},{action:"break",icon:"fa-stop",label:"Break (Salir)"},{action:"continue",icon:"fa-step-forward",label:"Continue (Continuar)"},{action:"delay",icon:"fa-clock",label:"Esperar/Delay"},{action:"wait_condition",icon:"fa-hourglass-half",label:"Esperar Condicin"},{action:"wait_screen_change",icon:"fa-desktop",label:"Esperar Cambio Pantalla"},{action:"wait_window",icon:"fa-window-restore",label:"Esperar Ventana"},{action:"pause",icon:"fa-pause-circle",label:"Pausa (MessageBox)"},{action:"try_catch",icon:"fa-shield-alt",label:"Try/Catch",isContainer:!0},{action:"throw",icon:"fa-exclamation-triangle",label:"Lanzar Excepcin"},{action:"return",icon:"fa-sign-out-alt",label:"Retornar Valor"},{action:"comment",icon:"fa-comment",label:"Comentario"}]},{id:"dialogs",name:"Dilogos y Mensajes",icon:"fa-comment-dots",actions:[{action:"message_box",icon:"fa-window-restore",label:"Message Box"},{action:"input_dialog",icon:"fa-keyboard",label:"Input Dialog"},{action:"confirm_dialog",icon:"fa-question-circle",label:"Confirm Dialog"},{action:"select_file",icon:"fa-folder-open",label:"Seleccionar Archivo"},{action:"select_folder",icon:"fa-folder",label:"Seleccionar Carpeta"},{action:"notification",icon:"fa-bell",label:"Notificacin"},{action:"log_message",icon:"fa-terminal",label:"Log Message"}]},{id:"variables",name:"Variables y Datos",icon:"fa-cube",actions:[{action:"assign",icon:"fa-equals",label:"Asignar Variable"},{action:"set_variable",icon:"fa-pen",label:"Establecer Valor"},{action:"get_variable",icon:"fa-eye",label:"Obtener Valor"},{action:"increment",icon:"fa-plus",label:"Incrementar"},{action:"decrement",icon:"fa-minus",label:"Decrementar"},{action:"convert_type",icon:"fa-exchange-alt",label:"Convertir Tipo"},{action:"parse_json",icon:"fa-code",label:"Parsear JSON"},{action:"stringify_json",icon:"fa-file-code",label:"JSON a String"},{action:"get_date",icon:"fa-calendar",label:"Obtener Fecha"},{action:"format_date",icon:"fa-calendar-check",label:"Formatear Fecha"},{action:"date_diff",icon:"fa-calendar-minus",label:"Diferencia de Fechas"}]},{id:"text",name:"Texto y Strings",icon:"fa-font",actions:[{action:"concat_string",icon:"fa-link",label:"Concatenar Texto"},{action:"split_string",icon:"fa-cut",label:"Dividir Texto"},{action:"replace_text",icon:"fa-exchange-alt",label:"Reemplazar Texto"},{action:"substring",icon:"fa-text-width",label:"Subcadena"},{action:"trim",icon:"fa-eraser",label:"Trim (Quitar espacios)"},{action:"to_upper",icon:"fa-arrow-up",label:"Maysculas"},{action:"to_lower",icon:"fa-arrow-down",label:"Minsculas"},{action:"regex_match",icon:"fa-asterisk",label:"Expresin Regular"},{action:"text_length",icon:"fa-ruler",label:"Longitud de Texto"},{action:"contains",icon:"fa-search",label:"Contiene Texto"}]},{id:"collections",name:"Colecciones",icon:"fa-list-ul",actions:[{action:"create_list",icon:"fa-plus-square",label:"Crear Lista"},{action:"add_to_list",icon:"fa-plus",label:"Agregar a Lista"},{action:"remove_from_list",icon:"fa-minus",label:"Remover de Lista"},{action:"get_item",icon:"fa-hand-pointer",label:"Obtener Item"},{action:"list_count",icon:"fa-calculator",label:"Contar Items"},{action:"sort_list",icon:"fa-sort",label:"Ordenar Lista"},{action:"filter_list",icon:"fa-filter",label:"Filtrar Lista"},{action:"create_dictionary",icon:"fa-book",label:"Crear Diccionario"},{action:"get_keys",icon:"fa-key",label:"Obtener Claves"},{action:"get_values",icon:"fa-list",label:"Obtener Valores"}]},{id:"web-browser",name:"Navegador Web",icon:"fa-globe",actions:[{action:"browser_open",icon:"fa-window-maximize",label:"Abrir Navegador"},{action:"navigate",icon:"fa-compass",label:"Navegar a URL"},{action:"browser_back",icon:"fa-arrow-left",label:"Retroceder"},{action:"browser_forward",icon:"fa-arrow-right",label:"Avanzar"},{action:"browser_refresh",icon:"fa-sync",label:"Actualizar Pgina"},{action:"click",icon:"fa-mouse-pointer",label:"Hacer Clic"},{action:"double_click",icon:"fa-mouse",label:"Doble Clic"},{action:"right_click",icon:"fa-hand-pointer",label:"Clic Derecho"},{action:"type",icon:"fa-keyboard",label:"Escribir Texto"},{action:"clear_field",icon:"fa-eraser",label:"Limpiar Campo"},{action:"select_option",icon:"fa-caret-down",label:"Seleccionar Opcin"},{action:"check_checkbox",icon:"fa-check-square",label:"Marcar Checkbox"},{action:"get_attribute",icon:"fa-info-circle",label:"Obtener Atributo"},{action:"get_text",icon:"fa-font",label:"Obtener Texto"},{action:"extract_text",icon:"fa-file-alt",label:"Extraer Texto"},{action:"extract_table",icon:"fa-table",label:"Extraer Tabla"},{action:"screenshot",icon:"fa-camera",label:"Captura de Pantalla"},{action:"screenshot_element",icon:"fa-crop",label:"Captura de Elemento"},{action:"scroll",icon:"fa-arrows-alt-v",label:"Hacer Scroll"},{action:"scroll_to_element",icon:"fa-crosshairs",label:"Scroll a Elemento"},{action:"wait_element",icon:"fa-hourglass-half",label:"Esperar Elemento"},{action:"element_exists",icon:"fa-question",label:"Elemento Existe"},{action:"switch_tab",icon:"fa-exchange-alt",label:"Cambiar Pestaa"},{action:"new_tab",icon:"fa-plus",label:"Nueva Pestaa"},{action:"close_tab",icon:"fa-times",label:"Cerrar Pestaa"},{action:"switch_frame",icon:"fa-window-restore",label:"Cambiar Frame"},{action:"execute_js",icon:"fa-code",label:"Ejecutar JavaScript"},{action:"browser_close",icon:"fa-times-circle",label:"Cerrar Navegador"}]},{id:"active-directory",name:"Active Directory",icon:"fa-users-cog",actions:[{action:"ad_connect",icon:"fa-server",label:"Conectar AD"},{action:"ad_get_user",icon:"fa-user",label:"Obtener Usuario"},{action:"ad_search_users",icon:"fa-search",label:"Buscar Usuarios"},{action:"ad_create_user",icon:"fa-user-plus",label:"Crear Usuario"},{action:"ad_update_user",icon:"fa-user-edit",label:"Actualizar Usuario"},{action:"ad_disable_user",icon:"fa-user-lock",label:"Deshabilitar Usuario"},{action:"ad_enable_user",icon:"fa-user-check",label:"Habilitar Usuario"},{action:"ad_reset_password",icon:"fa-key",label:"Resetear Contrasea"},{action:"ad_get_groups",icon:"fa-users",label:"Obtener Grupos"},{action:"ad_add_to_group",icon:"fa-user-friends",label:"Agregar a Grupo"},{action:"ad_remove_from_group",icon:"fa-user-minus",label:"Remover de Grupo"},{action:"ad_disconnect",icon:"fa-unlink",label:"Desconectar AD"}]},{id:"ai",name:"Inteligencia Artificial",icon:"fa-brain",actions:[{action:"ai_text_generation",icon:"fa-robot",label:"Generar Texto"},{action:"ai_chat",icon:"fa-comments",label:"Chat con IA"},{action:"ai_sentiment",icon:"fa-smile",label:"Anlisis de Sentimiento"},{action:"ai_classification",icon:"fa-tags",label:"Clasificacin"},{action:"ai_summarize",icon:"fa-compress-alt",label:"Resumir Texto"},{action:"ai_translation",icon:"fa-language",label:"Traduccin"},{action:"ai_extract_entities",icon:"fa-highlight",label:"Extraer Entidades"},{action:"ai_image_analysis",icon:"fa-image",label:"Anlisis de Imagen"},{action:"ai_ocr",icon:"fa-file-image",label:"OCR con IA"},{action:"ai_document_understanding",icon:"fa-file-invoice",label:"Document Understanding"}]},{id:"database",name:"Base de Datos",icon:"fa-database",actions:[{action:"db_connect",icon:"fa-plug",label:"Conectar Base de Datos"},{action:"db_query",icon:"fa-search",label:"Ejecutar Consulta"},{action:"db_execute",icon:"fa-play",label:"Ejecutar Comando"},{action:"db_insert",icon:"fa-plus-circle",label:"Insertar Datos"},{action:"db_update",icon:"fa-edit",label:"Actualizar Datos"},{action:"db_delete",icon:"fa-trash",label:"Eliminar Datos"},{action:"db_stored_procedure",icon:"fa-cogs",label:"Stored Procedure"},{action:"db_transaction_start",icon:"fa-lock",label:"Iniciar Transaccin"},{action:"db_transaction_commit",icon:"fa-check",label:"Commit"},{action:"db_transaction_rollback",icon:"fa-undo",label:"Rollback"},{action:"db_disconnect",icon:"fa-unlink",label:"Desconectar"}]},{id:"files",name:"Archivos y Carpetas",icon:"fa-folder",actions:[{action:"file_read",icon:"fa-file-alt",label:"Leer Archivo"},{action:"file_read_lines",icon:"fa-stream",label:"Leer Lneas"},{action:"file_write",icon:"fa-file-edit",label:"Escribir Archivo"},{action:"file_append",icon:"fa-file-medical",label:"Agregar a Archivo"},{action:"file_copy",icon:"fa-copy",label:"Copiar Archivo"},{action:"file_move",icon:"fa-file-export",label:"Mover Archivo"},{action:"file_rename",icon:"fa-i-cursor",label:"Renombrar Archivo"},{action:"file_delete",icon:"fa-trash",label:"Eliminar Archivo"},{action:"file_exists",icon:"fa-question-circle",label:"Archivo Existe"},{action:"file_info",icon:"fa-info-circle",label:"Info de Archivo"},{action:"folder_create",icon:"fa-folder-plus",label:"Crear Carpeta"},{action:"folder_delete",icon:"fa-folder-minus",label:"Eliminar Carpeta"},{action:"folder_list",icon:"fa-list",label:"Listar Archivos"},{action:"folder_exists",icon:"fa-folder-open",label:"Carpeta Existe"},{action:"zip_compress",icon:"fa-file-archive",label:"Comprimir ZIP"},{action:"zip_extract",icon:"fa-file-archive",label:"Extraer ZIP"}]},{id:"email",name:"Correo Electrnico",icon:"fa-envelope",actions:[{action:"email_connect_smtp",icon:"fa-server",label:"Conectar SMTP"},{action:"email_connect_imap",icon:"fa-inbox",label:"Conectar IMAP"},{action:"email_send",icon:"fa-paper-plane",label:"Enviar Email"},{action:"email_send_template",icon:"fa-file-alt",label:"Enviar con Plantilla"},{action:"email_read",icon:"fa-envelope-open",label:"Leer Emails"},{action:"email_get_unread",icon:"fa-envelope",label:"Obtener No Ledos"},{action:"email_search",icon:"fa-search",label:"Buscar Emails"},{action:"email_download_attachment",icon:"fa-paperclip",label:"Descargar Adjunto"},{action:"email_mark_read",icon:"fa-check",label:"Marcar como Ledo"},{action:"email_move",icon:"fa-folder",label:"Mover Email"},{action:"email_delete",icon:"fa-trash",label:"Eliminar Email"},{action:"email_disconnect",icon:"fa-unlink",label:"Desconectar"}]},{id:"excel-advanced",name:"Excel Avanzado",icon:"fa-file-excel",description:"Requiere abrir Excel (COM/OLE)",actions:[{action:"excel_open",icon:"fa-file-excel",label:"Abrir Excel"},{action:"excel_create_workbook",icon:"fa-file-medical",label:"Crear Libro"},{action:"excel_access_protected_sheet",icon:"fa-lock-open",label:"Acceder Hoja Protegida"},{action:"excel_append_workbook",icon:"fa-file-import",label:"Anexar Libro"},{action:"excel_append_sheet",icon:"fa-layer-group",label:"Anexar Hoja"},{action:"excel_get_cell",icon:"fa-th-large",label:"Leer Celda"},{action:"excel_get_single_cell",icon:"fa-bullseye",label:"Obtener una Sola Celda"},{action:"excel_get_multiple_cells",icon:"fa-th",label:"Obtener Varias Celdas"},{action:"excel_get_range",icon:"fa-table",label:"Leer Rango"},{action:"excel_set_cell",icon:"fa-pen",label:"Escribir Celda"},{action:"excel_set_range",icon:"fa-edit",label:"Escribir Rango"},{action:"excel_set_cell_formula",icon:"fa-function",label:"Establecer Frmula"},{action:"excel_get_cell_color",icon:"fa-palette",label:"Obtener Color de Celda"},{action:"excel_get_cell_address",icon:"fa-map-marker-alt",label:"Obtener Direccin Celda"},{action:"excel_get_row_count",icon:"fa-list-ol",label:"Obtener Nmero de Filas"},{action:"excel_get_row_number",icon:"fa-sort-numeric-up",label:"Obtener Nmero de Fila"},{action:"excel_get_last_row",icon:"fa-arrow-down",label:"ltima Fila con Datos"},{action:"excel_get_last_column",icon:"fa-arrow-right",label:"ltima Columna con Datos"},{action:"excel_get_column_name",icon:"fa-columns",label:"Obtener Nombre Columna"},{action:"excel_find",icon:"fa-search",label:"Buscar"},{action:"excel_find_next_empty_cell",icon:"fa-search-plus",label:"Buscar Celda Vaca"},{action:"excel_insert_row",icon:"fa-plus-circle",label:"Insertar Fila"},{action:"excel_delete_row",icon:"fa-minus-circle",label:"Eliminar Fila"},{action:"excel_insert_column",icon:"fa-columns",label:"Insertar Columna"},{action:"excel_delete_column",icon:"fa-minus-square",label:"Eliminar Columna"},{action:"excel_delete_cells",icon:"fa-eraser",label:"Eliminar Celdas"},{action:"excel_delete_table_column",icon:"fa-minus-square",label:"Eliminar Col. de Tabla"},{action:"excel_select_cells",icon:"fa-mouse-pointer",label:"Seleccionar Celdas"},{action:"excel_filter",icon:"fa-filter",label:"Filtro"},{action:"excel_sort",icon:"fa-sort-amount-down",label:"Ordenar"},{action:"excel_format_cells",icon:"fa-paint-brush",label:"Formatear Celdas"},{action:"excel_create_sheet",icon:"fa-plus-square",label:"Crear Hoja"},{action:"excel_delete_sheet",icon:"fa-trash-alt",label:"Eliminar Hoja"},{action:"excel_switch_sheet",icon:"fa-exchange-alt",label:"Cambiar a Hoja"},{action:"excel_get_sheet_name",icon:"fa-file-signature",label:"Obtener Nombre Hoja"},{action:"excel_get_sheet_names",icon:"fa-list",label:"Obtener Nombres Hojas"},{action:"excel_show_sheet",icon:"fa-eye",label:"Mostrar Hoja"},{action:"excel_show_all_sheets",icon:"fa-eye",label:"Mostrar Todas las Hojas"},{action:"excel_show_hide_rows_columns",icon:"fa-eye-slash",label:"Mostrar/Ocultar Filas/Col"},{action:"excel_convert_to_table",icon:"fa-table",label:"Convertir a Tabla"},{action:"excel_get_table_range",icon:"fa-border-all",label:"Obtener Rango de Tabla"},{action:"excel_get_sensitivity_label",icon:"fa-tag",label:"Obtener Etiqueta Sens."},{action:"excel_set_sensitivity_label",icon:"fa-shield-alt",label:"Establecer Etiqueta Sens."},{action:"excel_write_from_datatable",icon:"fa-file-import",label:"Escribir desde DataTable"},{action:"excel_toggle_auto_refresh",icon:"fa-sync-alt",label:"Activar/Desact. Actualiz."},{action:"excel_get_workbook_links",icon:"fa-link",label:"Obtener Vnculos Libro"},{action:"excel_change_workbook_links",icon:"fa-link",label:"Cambiar Vnculos Libro"},{action:"excel_break_workbook_links",icon:"fa-unlink",label:"Romper Vnculos Libro"},{action:"excel_unprotect_workbook",icon:"fa-unlock",label:"Desproteger Libro"},{action:"excel_run_macro",icon:"fa-code",label:"Ejecutar Macro"},{action:"excel_save",icon:"fa-save",label:"Guardar"},{action:"excel_save_as",icon:"fa-save",label:"Guardar Como"},{action:"excel_to_pdf",icon:"fa-file-pdf",label:"Convertir a PDF"},{action:"excel_close",icon:"fa-times-circle",label:"Cerrar Excel"}]},{id:"excel-background",name:"Excel Segundo Plano",icon:"fa-file-excel",description:"Sin abrir Excel (openpyxl/xlrd)",actions:[{action:"excel_bg_open",icon:"fa-file-excel",label:"Abrir Archivo Excel"},{action:"excel_bg_create",icon:"fa-file-medical",label:"Crear Archivo Excel"},{action:"excel_bg_read_cell",icon:"fa-th-large",label:"Leer Celda"},{action:"excel_bg_read_range",icon:"fa-table",label:"Leer Rango"},{action:"excel_bg_read_all",icon:"fa-file-alt",label:"Leer Hoja Completa"},{action:"excel_bg_write_cell",icon:"fa-pen",label:"Escribir Celda"},{action:"excel_bg_write_range",icon:"fa-edit",label:"Escribir Rango"},{action:"excel_bg_write_row",icon:"fa-grip-lines",label:"Escribir Fila"},{action:"excel_bg_write_column",icon:"fa-grip-lines-vertical",label:"Escribir Columna"},{action:"excel_bg_append_row",icon:"fa-plus",label:"Agregar Fila al Final"},{action:"excel_bg_insert_row",icon:"fa-plus-circle",label:"Insertar Fila"},{action:"excel_bg_delete_row",icon:"fa-minus-circle",label:"Eliminar Fila"},{action:"excel_bg_insert_column",icon:"fa-columns",label:"Insertar Columna"},{action:"excel_bg_delete_column",icon:"fa-minus-square",label:"Eliminar Columna"},{action:"excel_bg_get_row_count",icon:"fa-list-ol",label:"Contar Filas"},{action:"excel_bg_get_column_count",icon:"fa-list",label:"Contar Columnas"},{action:"excel_bg_get_last_row",icon:"fa-arrow-down",label:"ltima Fila con Datos"},{action:"excel_bg_get_last_column",icon:"fa-arrow-right",label:"ltima Columna con Datos"},{action:"excel_bg_find",icon:"fa-search",label:"Buscar Valor"},{action:"excel_bg_find_replace",icon:"fa-exchange-alt",label:"Buscar y Reemplazar"},{action:"excel_bg_get_sheet_names",icon:"fa-list",label:"Obtener Nombres de Hojas"},{action:"excel_bg_create_sheet",icon:"fa-plus-square",label:"Crear Hoja"},{action:"excel_bg_delete_sheet",icon:"fa-trash-alt",label:"Eliminar Hoja"},{action:"excel_bg_rename_sheet",icon:"fa-i-cursor",label:"Renombrar Hoja"},{action:"excel_bg_copy_sheet",icon:"fa-copy",label:"Copiar Hoja"},{action:"excel_bg_set_formula",icon:"fa-function",label:"Establecer Frmula"},{action:"excel_bg_merge_cells",icon:"fa-object-group",label:"Combinar Celdas"},{action:"excel_bg_unmerge_cells",icon:"fa-object-ungroup",label:"Descombinar Celdas"},{action:"excel_bg_set_cell_style",icon:"fa-paint-brush",label:"Estilo de Celda"},{action:"excel_bg_set_column_width",icon:"fa-arrows-alt-h",label:"Ancho de Columna"},{action:"excel_bg_set_row_height",icon:"fa-arrows-alt-v",label:"Alto de Fila"},{action:"excel_bg_freeze_panes",icon:"fa-snowflake",label:"Inmovilizar Paneles"},{action:"excel_bg_add_image",icon:"fa-image",label:"Insertar Imagen"},{action:"excel_bg_add_chart",icon:"fa-chart-bar",label:"Insertar Grfico"},{action:"excel_bg_protect_sheet",icon:"fa-lock",label:"Proteger Hoja"},{action:"excel_bg_unprotect_sheet",icon:"fa-unlock",label:"Desproteger Hoja"},{action:"excel_bg_to_csv",icon:"fa-file-csv",label:"Exportar a CSV"},{action:"excel_bg_to_json",icon:"fa-file-code",label:"Exportar a JSON"},{action:"excel_bg_to_datatable",icon:"fa-table",label:"Convertir a DataTable"},{action:"excel_bg_from_csv",icon:"fa-file-csv",label:"Importar desde CSV"},{action:"excel_bg_from_json",icon:"fa-file-code",label:"Importar desde JSON"},{action:"excel_bg_save",icon:"fa-save",label:"Guardar"},{action:"excel_bg_save_as",icon:"fa-save",label:"Guardar Como"},{action:"excel_bg_close",icon:"fa-times-circle",label:"Cerrar Archivo"}]},{id:"pdf",name:"PDF",icon:"fa-file-pdf",actions:[{action:"pdf_read",icon:"fa-file-pdf",label:"Leer PDF"},{action:"pdf_extract_text",icon:"fa-font",label:"Extraer Texto"},{action:"pdf_extract_tables",icon:"fa-table",label:"Extraer Tablas"},{action:"pdf_create",icon:"fa-plus",label:"Crear PDF"},{action:"pdf_merge",icon:"fa-object-group",label:"Unir PDFs"},{action:"pdf_split",icon:"fa-cut",label:"Dividir PDF"},{action:"pdf_to_image",icon:"fa-image",label:"PDF a Imagen"}]},{id:"rest",name:"REST / API",icon:"fa-network-wired",actions:[{action:"rest_get",icon:"fa-download",label:"GET Request"},{action:"rest_post",icon:"fa-upload",label:"POST Request"},{action:"rest_put",icon:"fa-edit",label:"PUT Request"},{action:"rest_patch",icon:"fa-band-aid",label:"PATCH Request"},{action:"rest_delete",icon:"fa-trash",label:"DELETE Request"},{action:"rest_download_file",icon:"fa-file-download",label:"Descargar Archivo"},{action:"rest_upload_file",icon:"fa-file-upload",label:"Subir Archivo"},{action:"graphql_query",icon:"fa-project-diagram",label:"GraphQL Query"}]},{id:"sap",name:"SAP",icon:"fa-building",actions:[{action:"sap_connect",icon:"fa-plug",label:"Conectar SAP"},{action:"sap_login",icon:"fa-sign-in-alt",label:"Login SAP"},{action:"sap_run_transaction",icon:"fa-play",label:"Ejecutar Transaccin"},{action:"sap_get_data",icon:"fa-database",label:"Obtener Datos"},{action:"sap_set_field",icon:"fa-edit",label:"Establecer Campo"},{action:"sap_click_button",icon:"fa-mouse-pointer",label:"Click Botn"},{action:"sap_create_order",icon:"fa-shopping-cart",label:"Crear Orden"},{action:"sap_bapi_call",icon:"fa-cogs",label:"Llamar BAPI"},{action:"sap_logout",icon:"fa-sign-out-alt",label:"Logout SAP"}]},{id:"microsoft365",name:"Microsoft 365",icon:"fa-microsoft",isBrand:!0,actions:[{action:"m365_connect",icon:"fa-plug",label:"Conectar M365"},{action:"m365_calendar_get",icon:"fa-calendar",label:"Obtener Eventos"},{action:"m365_calendar_create",icon:"fa-calendar-plus",label:"Crear Evento"},{action:"m365_teams_send",icon:"fa-comments",label:"Enviar a Teams"},{action:"m365_sharepoint_upload",icon:"fa-cloud-upload-alt",label:"Subir a SharePoint"},{action:"m365_onedrive_upload",icon:"fa-cloud",label:"Subir a OneDrive"},{action:"m365_outlook_send",icon:"fa-envelope",label:"Enviar con Outlook"},{action:"m365_outlook_read",icon:"fa-inbox",label:"Leer Outlook"}]},{id:"mouse-keyboard",name:"Mouse & Keyboard",icon:"fa-mouse",actions:[{action:"mouse_click",icon:"fa-mouse-pointer",label:"Click Mouse"},{action:"mouse_double_click",icon:"fa-mouse",label:"Doble Click"},{action:"mouse_right_click",icon:"fa-hand-pointer",label:"Click Derecho"},{action:"mouse_move",icon:"fa-arrows-alt",label:"Mover Mouse"},{action:"mouse_drag",icon:"fa-hand-rock",label:"Arrastrar"},{action:"keyboard_type",icon:"fa-keyboard",label:"Teclear"},{action:"keyboard_hotkey",icon:"fa-keyboard",label:"Tecla Rpida"},{action:"keyboard_press",icon:"fa-key",label:"Presionar Tecla"},{action:"clipboard_copy",icon:"fa-copy",label:"Copiar Portapapeles"},{action:"clipboard_paste",icon:"fa-paste",label:"Pegar Portapapeles"}]},{id:"windows",name:"Windows / Sistema",icon:"fa-windows",isBrand:!0,actions:[{action:"window_activate",icon:"fa-window-restore",label:"Activar Ventana"},{action:"window_close",icon:"fa-window-close",label:"Cerrar Ventana"},{action:"window_minimize",icon:"fa-window-minimize",label:"Minimizar Ventana"},{action:"window_maximize",icon:"fa-window-maximize",label:"Maximizar Ventana"},{action:"process_start",icon:"fa-play",label:"Iniciar Proceso"},{action:"process_kill",icon:"fa-skull",label:"Terminar Proceso"},{action:"run_command",icon:"fa-terminal",label:"Ejecutar Comando"},{action:"run_powershell",icon:"fa-terminal",label:"Ejecutar PowerShell"},{action:"environment_var",icon:"fa-cog",label:"Variable de Entorno"}]},{id:"ocr-image",name:"OCR e Imgenes",icon:"fa-image",actions:[{action:"ocr_screen",icon:"fa-desktop",label:"OCR - Pantalla"},{action:"ocr_region",icon:"fa-crop",label:"OCR - Regin"},{action:"ocr_image",icon:"fa-file-image",label:"OCR - Imagen"},{action:"ocr_document",icon:"fa-file-alt",label:"OCR - Documento"},{action:"find_image_on_screen",icon:"fa-search",label:"Buscar Imagen"},{action:"wait_for_image",icon:"fa-hourglass-half",label:"Esperar Imagen"},{action:"image_click",icon:"fa-mouse-pointer",label:"Click en Imagen"},{action:"image_compare",icon:"fa-balance-scale",label:"Comparar Imgenes"},{action:"screenshot_region",icon:"fa-camera",label:"Captura de Regin"}]},{id:"credentials",name:"Credenciales",icon:"fa-key",actions:[{action:"credential_get",icon:"fa-key",label:"Obtener Credencial"},{action:"credential_store",icon:"fa-lock",label:"Guardar Credencial"},{action:"credential_delete",icon:"fa-trash",label:"Eliminar Credencial"},{action:"credential_list",icon:"fa-list",label:"Listar Credenciales"},{action:"encrypt",icon:"fa-shield-alt",label:"Encriptar"},{action:"decrypt",icon:"fa-unlock",label:"Desencriptar"},{action:"hash",icon:"fa-hashtag",label:"Generar Hash"}]},{id:"ftp-sftp",name:"FTP / SFTP",icon:"fa-server",actions:[{action:"ftp_connect",icon:"fa-plug",label:"Conectar FTP"},{action:"sftp_connect",icon:"fa-lock",label:"Conectar SFTP"},{action:"ftp_upload",icon:"fa-upload",label:"Subir Archivo"},{action:"ftp_download",icon:"fa-download",label:"Descargar Archivo"},{action:"ftp_list",icon:"fa-list",label:"Listar Directorio"},{action:"ftp_delete",icon:"fa-trash",label:"Eliminar Archivo"},{action:"ftp_rename",icon:"fa-i-cursor",label:"Renombrar"},{action:"ftp_mkdir",icon:"fa-folder-plus",label:"Crear Directorio"},{action:"ftp_disconnect",icon:"fa-unlink",label:"Desconectar"}]},{id:"google",name:"Google Workspace",icon:"fa-google",isBrand:!0,actions:[{action:"google_connect",icon:"fa-plug",label:"Conectar Google"},{action:"gsheet_open",icon:"fa-table",label:"Abrir Google Sheet"},{action:"gsheet_read",icon:"fa-th",label:"Leer Celdas"},{action:"gsheet_write",icon:"fa-edit",label:"Escribir Celdas"},{action:"gsheet_append",icon:"fa-plus",label:"Agregar Fila"},{action:"gdrive_upload",icon:"fa-cloud-upload-alt",label:"Subir a Drive"},{action:"gdrive_download",icon:"fa-cloud-download-alt",label:"Descargar de Drive"},{action:"gdrive_list",icon:"fa-list",label:"Listar Archivos Drive"},{action:"gmail_send",icon:"fa-envelope",label:"Enviar Gmail"},{action:"gmail_read",icon:"fa-inbox",label:"Leer Gmail"},{action:"gcalendar_get",icon:"fa-calendar",label:"Obtener Eventos"},{action:"gcalendar_create",icon:"fa-calendar-plus",label:"Crear Evento"}]},{id:"aws",name:"Amazon AWS",icon:"fa-aws",isBrand:!0,actions:[{action:"aws_connect",icon:"fa-plug",label:"Conectar AWS"},{action:"s3_upload",icon:"fa-cloud-upload-alt",label:"Subir a S3"},{action:"s3_download",icon:"fa-cloud-download-alt",label:"Descargar de S3"},{action:"s3_list",icon:"fa-list",label:"Listar Objetos S3"},{action:"s3_delete",icon:"fa-trash",label:"Eliminar de S3"},{action:"lambda_invoke",icon:"fa-code",label:"Invocar Lambda"},{action:"sqs_send",icon:"fa-paper-plane",label:"Enviar a SQS"},{action:"sqs_receive",icon:"fa-inbox",label:"Recibir de SQS"},{action:"sns_publish",icon:"fa-bullhorn",label:"Publicar en SNS"}]},{id:"azure",name:"Microsoft Azure",icon:"fa-microsoft",isBrand:!0,actions:[{action:"azure_connect",icon:"fa-plug",label:"Conectar Azure"},{action:"blob_upload",icon:"fa-cloud-upload-alt",label:"Subir a Blob"},{action:"blob_download",icon:"fa-cloud-download-alt",label:"Descargar de Blob"},{action:"blob_list",icon:"fa-list",label:"Listar Blobs"},{action:"azure_function",icon:"fa-code",label:"Invocar Function"},{action:"azure_queue_send",icon:"fa-paper-plane",label:"Enviar a Queue"},{action:"azure_queue_receive",icon:"fa-inbox",label:"Recibir de Queue"}]},{id:"terminal",name:"Terminal / CMD",icon:"fa-terminal",actions:[{action:"cmd_execute",icon:"fa-terminal",label:"Ejecutar CMD"},{action:"powershell_execute",icon:"fa-terminal",label:"Ejecutar PowerShell"},{action:"bash_execute",icon:"fa-terminal",label:"Ejecutar Bash"},{action:"ssh_connect",icon:"fa-server",label:"Conectar SSH"},{action:"ssh_execute",icon:"fa-code",label:"Ejecutar SSH"},{action:"ssh_disconnect",icon:"fa-unlink",label:"Desconectar SSH"},{action:"run_script",icon:"fa-file-code",label:"Ejecutar Script"},{action:"run_python",icon:"fa-python",label:"Ejecutar Python",isBrand:!0}]},{id:"pdf-advanced",name:"PDF Avanzado",icon:"fa-file-pdf",actions:[{action:"pdf_extract_pages",icon:"fa-file-export",label:"Extraer Pginas"},{action:"pdf_rotate",icon:"fa-redo",label:"Rotar Pginas"},{action:"pdf_add_watermark",icon:"fa-stamp",label:"Agregar Marca de Agua"},{action:"pdf_add_password",icon:"fa-lock",label:"Proteger con Contrasea"},{action:"pdf_remove_password",icon:"fa-unlock",label:"Quitar Contrasea"},{action:"pdf_add_signature",icon:"fa-signature",label:"Agregar Firma"},{action:"pdf_fill_form",icon:"fa-edit",label:"Rellenar Formulario"},{action:"pdf_get_metadata",icon:"fa-info-circle",label:"Obtener Metadata"}]},{id:"word",name:"Word / Documentos",icon:"fa-file-word",actions:[{action:"word_open",icon:"fa-file-word",label:"Abrir Word"},{action:"word_create",icon:"fa-file-medical",label:"Crear Documento"},{action:"word_read",icon:"fa-file-alt",label:"Leer Documento"},{action:"word_write",icon:"fa-edit",label:"Escribir en Documento"},{action:"word_replace",icon:"fa-exchange-alt",label:"Buscar y Reemplazar"},{action:"word_add_table",icon:"fa-table",label:"Insertar Tabla"},{action:"word_add_image",icon:"fa-image",label:"Insertar Imagen"},{action:"word_to_pdf",icon:"fa-file-pdf",label:"Convertir a PDF"},{action:"word_save",icon:"fa-save",label:"Guardar"},{action:"word_close",icon:"fa-times-circle",label:"Cerrar"}]},{id:"powerpoint",name:"PowerPoint",icon:"fa-file-powerpoint",actions:[{action:"ppt_open",icon:"fa-file-powerpoint",label:"Abrir PowerPoint"},{action:"ppt_create",icon:"fa-file-medical",label:"Crear Presentacin"},{action:"ppt_add_slide",icon:"fa-plus-square",label:"Agregar Diapositiva"},{action:"ppt_delete_slide",icon:"fa-minus-square",label:"Eliminar Diapositiva"},{action:"ppt_add_text",icon:"fa-font",label:"Agregar Texto"},{action:"ppt_add_image",icon:"fa-image",label:"Agregar Imagen"},{action:"ppt_add_chart",icon:"fa-chart-bar",label:"Agregar Grfico"},{action:"ppt_to_pdf",icon:"fa-file-pdf",label:"Exportar a PDF"},{action:"ppt_save",icon:"fa-save",label:"Guardar"},{action:"ppt_close",icon:"fa-times-circle",label:"Cerrar"}]},{id:"xml-json",name:"XML / JSON",icon:"fa-code",actions:[{action:"xml_read",icon:"fa-file-code",label:"Leer XML"},{action:"xml_write",icon:"fa-edit",label:"Escribir XML"},{action:"xml_query",icon:"fa-search",label:"Consultar XPath"},{action:"xml_validate",icon:"fa-check",label:"Validar XML"},{action:"json_read",icon:"fa-file-code",label:"Leer JSON"},{action:"json_write",icon:"fa-edit",label:"Escribir JSON"},{action:"json_query",icon:"fa-search",label:"Consultar JSONPath"},{action:"xml_to_json",icon:"fa-exchange-alt",label:"XML a JSON"},{action:"json_to_xml",icon:"fa-exchange-alt",label:"JSON a XML"}]},{id:"regex",name:"Expresiones Regulares",icon:"fa-asterisk",actions:[{action:"regex_match",icon:"fa-search",label:"Buscar Coincidencia"},{action:"regex_match_all",icon:"fa-search-plus",label:"Buscar Todas"},{action:"regex_replace",icon:"fa-exchange-alt",label:"Reemplazar"},{action:"regex_split",icon:"fa-cut",label:"Dividir"},{action:"regex_validate",icon:"fa-check",label:"Validar Patrn"},{action:"regex_extract_groups",icon:"fa-object-group",label:"Extraer Grupos"}]},{id:"datatables",name:"DataTables",icon:"fa-table",actions:[{action:"dt_create",icon:"fa-plus",label:"Crear DataTable"},{action:"dt_add_row",icon:"fa-plus-circle",label:"Agregar Fila"},{action:"dt_add_column",icon:"fa-columns",label:"Agregar Columna"},{action:"dt_delete_row",icon:"fa-minus-circle",label:"Eliminar Fila"},{action:"dt_delete_column",icon:"fa-minus-square",label:"Eliminar Columna"},{action:"dt_get_value",icon:"fa-hand-pointer",label:"Obtener Valor"},{action:"dt_set_value",icon:"fa-edit",label:"Establecer Valor"},{action:"dt_filter",icon:"fa-filter",label:"Filtrar"},{action:"dt_sort",icon:"fa-sort",label:"Ordenar"},{action:"dt_merge",icon:"fa-object-group",label:"Combinar DataTables"},{action:"dt_to_excel",icon:"fa-file-excel",label:"Exportar a Excel"},{action:"dt_to_csv",icon:"fa-file-csv",label:"Exportar a CSV"}]},{id:"recorders",name:"Grabadoras",icon:"fa-record-vinyl",actions:[{action:"recorder_start",icon:"fa-play",label:"Iniciar Grabacin"},{action:"recorder_stop",icon:"fa-stop",label:"Detener Grabacin"},{action:"recorder_pause",icon:"fa-pause",label:"Pausar Grabacin"},{action:"recorder_screenshot",icon:"fa-camera",label:"Capturar Pantalla"},{action:"recorder_video",icon:"fa-video",label:"Grabar Video"}]},{id:"citrix",name:"Citrix / VDI",icon:"fa-desktop",actions:[{action:"citrix_connect",icon:"fa-plug",label:"Conectar Citrix"},{action:"citrix_click",icon:"fa-mouse-pointer",label:"Click en Citrix"},{action:"citrix_type",icon:"fa-keyboard",label:"Escribir en Citrix"},{action:"citrix_image_click",icon:"fa-image",label:"Click por Imagen"},{action:"citrix_ocr",icon:"fa-eye",label:"OCR en Citrix"},{action:"citrix_disconnect",icon:"fa-unlink",label:"Desconectar"}]},{id:"mainframe",name:"Mainframe / AS400",icon:"fa-server",actions:[{action:"mainframe_connect",icon:"fa-plug",label:"Conectar Terminal"},{action:"mainframe_send_keys",icon:"fa-keyboard",label:"Enviar Teclas"},{action:"mainframe_get_text",icon:"fa-font",label:"Obtener Texto"},{action:"mainframe_set_field",icon:"fa-edit",label:"Establecer Campo"},{action:"mainframe_wait_screen",icon:"fa-hourglass-half",label:"Esperar Pantalla"},{action:"mainframe_screenshot",icon:"fa-camera",label:"Captura de Pantalla"},{action:"mainframe_disconnect",icon:"fa-unlink",label:"Desconectar"}]},{id:"twilio",name:"Twilio",icon:"fa-phone-volume",description:"SMS, Voz, Video y WhatsApp",actions:[{action:"twilio_connect",icon:"fa-plug",label:"Conectar Twilio"},{action:"twilio_send_sms",icon:"fa-sms",label:"Enviar SMS"},{action:"twilio_send_mms",icon:"fa-image",label:"Enviar MMS"},{action:"twilio_make_call",icon:"fa-phone",label:"Realizar Llamada"},{action:"twilio_send_voice_message",icon:"fa-voicemail",label:"Mensaje de Voz"},{action:"twilio_send_whatsapp",icon:"fa-whatsapp",label:"Enviar WhatsApp",isBrand:!0},{action:"twilio_whatsapp_template",icon:"fa-file-alt",label:"Plantilla WhatsApp"},{action:"twilio_video_room",icon:"fa-video",label:"Crear Sala Video"},{action:"twilio_verify_send",icon:"fa-shield-alt",label:"Enviar Verificacin"},{action:"twilio_verify_check",icon:"fa-check-circle",label:"Verificar Cdigo"},{action:"twilio_get_messages",icon:"fa-inbox",label:"Obtener Mensajes"},{action:"twilio_get_calls",icon:"fa-history",label:"Historial Llamadas"},{action:"twilio_lookup",icon:"fa-search",label:"Buscar Nmero"}]},{id:"whatsapp-business",name:"WhatsApp Business",icon:"fa-whatsapp",isBrand:!0,description:"API Oficial de WhatsApp",actions:[{action:"wa_connect",icon:"fa-plug",label:"Conectar WhatsApp"},{action:"wa_send_message",icon:"fa-paper-plane",label:"Enviar Mensaje"},{action:"wa_send_template",icon:"fa-file-alt",label:"Enviar Plantilla"},{action:"wa_send_media",icon:"fa-image",label:"Enviar Media"},{action:"wa_send_document",icon:"fa-file",label:"Enviar Documento"},{action:"wa_send_location",icon:"fa-map-marker-alt",label:"Enviar Ubicacin"},{action:"wa_send_contact",icon:"fa-address-card",label:"Enviar Contacto"},{action:"wa_send_buttons",icon:"fa-th-list",label:"Mensaje con Botones"},{action:"wa_send_list",icon:"fa-list",label:"Mensaje con Lista"},{action:"wa_mark_read",icon:"fa-check-double",label:"Marcar como Ledo"},{action:"wa_get_messages",icon:"fa-inbox",label:"Obtener Mensajes"},{action:"wa_get_media",icon:"fa-download",label:"Descargar Media"},{action:"wa_upload_media",icon:"fa-upload",label:"Subir Media"},{action:"wa_get_profile",icon:"fa-user",label:"Obtener Perfil"},{action:"wa_update_profile",icon:"fa-user-edit",label:"Actualizar Perfil"}]},{id:"telegram",name:"Telegram Bot",icon:"fa-telegram",isBrand:!0,description:"Automatizacin con Bots",actions:[{action:"tg_connect",icon:"fa-plug",label:"Conectar Bot"},{action:"tg_send_message",icon:"fa-paper-plane",label:"Enviar Mensaje"},{action:"tg_send_photo",icon:"fa-image",label:"Enviar Foto"},{action:"tg_send_document",icon:"fa-file",label:"Enviar Documento"},{action:"tg_send_video",icon:"fa-video",label:"Enviar Video"},{action:"tg_send_audio",icon:"fa-music",label:"Enviar Audio"},{action:"tg_send_voice",icon:"fa-microphone",label:"Enviar Nota de Voz"},{action:"tg_send_location",icon:"fa-map-marker-alt",label:"Enviar Ubicacin"},{action:"tg_send_poll",icon:"fa-poll",label:"Enviar Encuesta"},{action:"tg_send_inline_keyboard",icon:"fa-th",label:"Teclado Inline"},{action:"tg_edit_message",icon:"fa-edit",label:"Editar Mensaje"},{action:"tg_delete_message",icon:"fa-trash",label:"Eliminar Mensaje"},{action:"tg_get_updates",icon:"fa-sync",label:"Obtener Updates"},{action:"tg_get_chat",icon:"fa-comments",label:"Info del Chat"},{action:"tg_get_member",icon:"fa-user",label:"Info del Miembro"},{action:"tg_answer_callback",icon:"fa-reply",label:"Responder Callback"}]},{id:"slack",name:"Slack",icon:"fa-slack",isBrand:!0,description:"Mensajera empresarial",actions:[{action:"slack_connect",icon:"fa-plug",label:"Conectar Slack"},{action:"slack_send_message",icon:"fa-paper-plane",label:"Enviar Mensaje"},{action:"slack_send_blocks",icon:"fa-th-large",label:"Enviar Bloques"},{action:"slack_upload_file",icon:"fa-upload",label:"Subir Archivo"},{action:"slack_create_channel",icon:"fa-plus",label:"Crear Canal"},{action:"slack_invite_user",icon:"fa-user-plus",label:"Invitar Usuario"},{action:"slack_get_messages",icon:"fa-inbox",label:"Obtener Mensajes"},{action:"slack_get_users",icon:"fa-users",label:"Listar Usuarios"},{action:"slack_get_channels",icon:"fa-list",label:"Listar Canales"},{action:"slack_update_message",icon:"fa-edit",label:"Actualizar Mensaje"},{action:"slack_add_reaction",icon:"fa-smile",label:"Agregar Reaccin"},{action:"slack_set_status",icon:"fa-user-circle",label:"Cambiar Estado"}]},{id:"teams",name:"Microsoft Teams",icon:"fa-microsoft",isBrand:!0,description:"Comunicacin empresarial",actions:[{action:"teams_connect",icon:"fa-plug",label:"Conectar Teams"},{action:"teams_send_message",icon:"fa-paper-plane",label:"Enviar Mensaje"},{action:"teams_send_card",icon:"fa-id-card",label:"Enviar Card Adaptativa"},{action:"teams_create_channel",icon:"fa-plus",label:"Crear Canal"},{action:"teams_get_messages",icon:"fa-inbox",label:"Obtener Mensajes"},{action:"teams_get_members",icon:"fa-users",label:"Obtener Miembros"},{action:"teams_schedule_meeting",icon:"fa-calendar-plus",label:"Programar Reunin"},{action:"teams_upload_file",icon:"fa-upload",label:"Subir Archivo"},{action:"teams_get_presence",icon:"fa-circle",label:"Obtener Presencia"}]},{id:"discord",name:"Discord",icon:"fa-discord",isBrand:!0,description:"Bots y webhooks",actions:[{action:"discord_connect",icon:"fa-plug",label:"Conectar Bot"},{action:"discord_send_message",icon:"fa-paper-plane",label:"Enviar Mensaje"},{action:"discord_send_embed",icon:"fa-th-large",label:"Enviar Embed"},{action:"discord_send_webhook",icon:"fa-share",label:"Enviar por Webhook"},{action:"discord_send_file",icon:"fa-file",label:"Enviar Archivo"},{action:"discord_create_channel",icon:"fa-plus",label:"Crear Canal"},{action:"discord_get_messages",icon:"fa-inbox",label:"Obtener Mensajes"},{action:"discord_get_members",icon:"fa-users",label:"Obtener Miembros"},{action:"discord_add_reaction",icon:"fa-smile",label:"Agregar Reaccin"},{action:"discord_assign_role",icon:"fa-user-tag",label:"Asignar Rol"}]},{id:"facebook",name:"Facebook / Messenger",icon:"fa-facebook",isBrand:!0,description:"Pginas y Messenger",actions:[{action:"fb_connect",icon:"fa-plug",label:"Conectar Facebook"},{action:"fb_send_message",icon:"fa-paper-plane",label:"Enviar Mensaje"},{action:"fb_send_template",icon:"fa-file-alt",label:"Enviar Plantilla"},{action:"fb_send_quick_replies",icon:"fa-reply-all",label:"Respuestas Rpidas"},{action:"fb_send_media",icon:"fa-image",label:"Enviar Media"},{action:"fb_get_messages",icon:"fa-inbox",label:"Obtener Mensajes"},{action:"fb_get_profile",icon:"fa-user",label:"Obtener Perfil"},{action:"fb_post_page",icon:"fa-file-alt",label:"Publicar en Pgina"},{action:"fb_get_page_posts",icon:"fa-list",label:"Obtener Posts"},{action:"fb_get_comments",icon:"fa-comments",label:"Obtener Comentarios"},{action:"fb_reply_comment",icon:"fa-reply",label:"Responder Comentario"}]},{id:"instagram",name:"Instagram",icon:"fa-instagram",isBrand:!0,description:"DMs y publicaciones",actions:[{action:"ig_connect",icon:"fa-plug",label:"Conectar Instagram"},{action:"ig_send_message",icon:"fa-paper-plane",label:"Enviar DM"},{action:"ig_send_media",icon:"fa-image",label:"Enviar Media en DM"},{action:"ig_get_messages",icon:"fa-inbox",label:"Obtener DMs"},{action:"ig_get_profile",icon:"fa-user",label:"Obtener Perfil"},{action:"ig_get_posts",icon:"fa-th",label:"Obtener Posts"},{action:"ig_get_comments",icon:"fa-comments",label:"Obtener Comentarios"},{action:"ig_reply_comment",icon:"fa-reply",label:"Responder Comentario"},{action:"ig_get_stories",icon:"fa-circle",label:"Obtener Stories"}]},{id:"twitter-x",name:"X (Twitter)",icon:"fa-twitter",isBrand:!0,description:"Posts y DMs",actions:[{action:"x_connect",icon:"fa-plug",label:"Conectar X"},{action:"x_post_tweet",icon:"fa-paper-plane",label:"Publicar Tweet"},{action:"x_send_dm",icon:"fa-envelope",label:"Enviar DM"},{action:"x_get_timeline",icon:"fa-stream",label:"Obtener Timeline"},{action:"x_get_mentions",icon:"fa-at",label:"Obtener Menciones"},{action:"x_get_dms",icon:"fa-inbox",label:"Obtener DMs"},{action:"x_search",icon:"fa-search",label:"Buscar Tweets"},{action:"x_like",icon:"fa-heart",label:"Dar Like"},{action:"x_retweet",icon:"fa-retweet",label:"Retweet"},{action:"x_reply",icon:"fa-reply",label:"Responder"}]},{id:"linkedin",name:"LinkedIn",icon:"fa-linkedin",isBrand:!0,description:"Red profesional",actions:[{action:"li_connect",icon:"fa-plug",label:"Conectar LinkedIn"},{action:"li_post",icon:"fa-file-alt",label:"Crear Publicacin"},{action:"li_send_message",icon:"fa-paper-plane",label:"Enviar Mensaje"},{action:"li_get_profile",icon:"fa-user",label:"Obtener Perfil"},{action:"li_get_connections",icon:"fa-users",label:"Obtener Conexiones"},{action:"li_get_posts",icon:"fa-stream",label:"Obtener Posts"},{action:"li_search_people",icon:"fa-search",label:"Buscar Personas"},{action:"li_send_invite",icon:"fa-user-plus",label:"Enviar Invitacin"}]},{id:"hubspot",name:"HubSpot",icon:"fa-hubspot",isBrand:!0,description:"CRM y Marketing",actions:[{action:"hs_connect",icon:"fa-plug",label:"Conectar HubSpot"},{action:"hs_create_contact",icon:"fa-user-plus",label:"Crear Contacto"},{action:"hs_update_contact",icon:"fa-user-edit",label:"Actualizar Contacto"},{action:"hs_get_contact",icon:"fa-user",label:"Obtener Contacto"},{action:"hs_search_contacts",icon:"fa-search",label:"Buscar Contactos"},{action:"hs_create_deal",icon:"fa-handshake",label:"Crear Negocio"},{action:"hs_update_deal",icon:"fa-edit",label:"Actualizar Negocio"},{action:"hs_get_deals",icon:"fa-list",label:"Obtener Negocios"},{action:"hs_create_ticket",icon:"fa-ticket-alt",label:"Crear Ticket"},{action:"hs_update_ticket",icon:"fa-edit",label:"Actualizar Ticket"},{action:"hs_create_company",icon:"fa-building",label:"Crear Empresa"},{action:"hs_send_email",icon:"fa-envelope",label:"Enviar Email"},{action:"hs_add_note",icon:"fa-sticky-note",label:"Agregar Nota"},{action:"hs_create_task",icon:"fa-tasks",label:"Crear Tarea"}]},{id:"salesforce",name:"Salesforce",icon:"fa-salesforce",isBrand:!0,description:"CRM Empresarial",actions:[{action:"sf_connect",icon:"fa-plug",label:"Conectar Salesforce"},{action:"sf_query",icon:"fa-search",label:"Consulta SOQL"},{action:"sf_create_record",icon:"fa-plus",label:"Crear Registro"},{action:"sf_update_record",icon:"fa-edit",label:"Actualizar Registro"},{action:"sf_delete_record",icon:"fa-trash",label:"Eliminar Registro"},{action:"sf_get_record",icon:"fa-file-alt",label:"Obtener Registro"},{action:"sf_create_lead",icon:"fa-user-plus",label:"Crear Lead"},{action:"sf_convert_lead",icon:"fa-exchange-alt",label:"Convertir Lead"},{action:"sf_create_opportunity",icon:"fa-handshake",label:"Crear Oportunidad"},{action:"sf_create_case",icon:"fa-briefcase",label:"Crear Caso"},{action:"sf_create_task",icon:"fa-tasks",label:"Crear Tarea"},{action:"sf_attach_file",icon:"fa-paperclip",label:"Adjuntar Archivo"}]},{id:"zendesk",name:"Zendesk",icon:"fa-headset",description:"Soporte al Cliente",actions:[{action:"zd_connect",icon:"fa-plug",label:"Conectar Zendesk"},{action:"zd_create_ticket",icon:"fa-ticket-alt",label:"Crear Ticket"},{action:"zd_update_ticket",icon:"fa-edit",label:"Actualizar Ticket"},{action:"zd_get_ticket",icon:"fa-file-alt",label:"Obtener Ticket"},{action:"zd_search_tickets",icon:"fa-search",label:"Buscar Tickets"},{action:"zd_add_comment",icon:"fa-comment",label:"Agregar Comentario"},{action:"zd_create_user",icon:"fa-user-plus",label:"Crear Usuario"},{action:"zd_get_user",icon:"fa-user",label:"Obtener Usuario"},{action:"zd_assign_ticket",icon:"fa-user-check",label:"Asignar Ticket"},{action:"zd_change_status",icon:"fa-exchange-alt",label:"Cambiar Estado"},{action:"zd_add_tags",icon:"fa-tags",label:"Agregar Etiquetas"},{action:"zd_upload_attachment",icon:"fa-paperclip",label:"Adjuntar Archivo"}]},{id:"freshdesk",name:"Freshdesk",icon:"fa-life-ring",description:"Mesa de Ayuda",actions:[{action:"fd_connect",icon:"fa-plug",label:"Conectar Freshdesk"},{action:"fd_create_ticket",icon:"fa-ticket-alt",label:"Crear Ticket"},{action:"fd_update_ticket",icon:"fa-edit",label:"Actualizar Ticket"},{action:"fd_get_tickets",icon:"fa-list",label:"Obtener Tickets"},{action:"fd_add_reply",icon:"fa-reply",label:"Agregar Respuesta"},{action:"fd_add_note",icon:"fa-sticky-note",label:"Agregar Nota"},{action:"fd_create_contact",icon:"fa-user-plus",label:"Crear Contacto"},{action:"fd_get_contact",icon:"fa-user",label:"Obtener Contacto"}]},{id:"chatbot",name:"Chatbot / IA",icon:"fa-robot",description:"Automatizacin conversacional",actions:[{action:"bot_create_flow",icon:"fa-project-diagram",label:"Crear Flujo"},{action:"bot_add_intent",icon:"fa-bullseye",label:"Agregar Intencin"},{action:"bot_add_entity",icon:"fa-tag",label:"Agregar Entidad"},{action:"bot_train",icon:"fa-graduation-cap",label:"Entrenar Bot"},{action:"bot_respond",icon:"fa-reply",label:"Generar Respuesta"},{action:"bot_handoff",icon:"fa-user-friends",label:"Transferir a Agente"},{action:"bot_get_context",icon:"fa-brain",label:"Obtener Contexto"},{action:"bot_set_context",icon:"fa-memory",label:"Establecer Contexto"},{action:"bot_analyze_sentiment",icon:"fa-smile",label:"Analizar Sentimiento"},{action:"bot_extract_entities",icon:"fa-highlighter",label:"Extraer Entidades"},{action:"bot_classify_intent",icon:"fa-tags",label:"Clasificar Intencin"}]},{id:"dialogflow",name:"Dialogflow",icon:"fa-google",isBrand:!0,description:"NLP de Google",actions:[{action:"df_connect",icon:"fa-plug",label:"Conectar Dialogflow"},{action:"df_detect_intent",icon:"fa-bullseye",label:"Detectar Intencin"},{action:"df_create_context",icon:"fa-plus",label:"Crear Contexto"},{action:"df_get_contexts",icon:"fa-list",label:"Obtener Contextos"},{action:"df_delete_context",icon:"fa-trash",label:"Eliminar Contexto"},{action:"df_create_entity",icon:"fa-tag",label:"Crear Entidad"},{action:"df_create_intent",icon:"fa-bullseye",label:"Crear Intencin"}]},{id:"unified-inbox",name:"Bandeja Unificada",icon:"fa-inbox",description:"Gestin omnicanal",actions:[{action:"inbox_get_conversations",icon:"fa-comments",label:"Obtener Conversaciones"},{action:"inbox_get_messages",icon:"fa-envelope",label:"Obtener Mensajes"},{action:"inbox_reply",icon:"fa-reply",label:"Responder"},{action:"inbox_assign",icon:"fa-user-check",label:"Asignar a Agente"},{action:"inbox_transfer",icon:"fa-exchange-alt",label:"Transferir"},{action:"inbox_close",icon:"fa-check",label:"Cerrar Conversacin"},{action:"inbox_add_tag",icon:"fa-tag",label:"Agregar Etiqueta"},{action:"inbox_add_note",icon:"fa-sticky-note",label:"Agregar Nota Interna"},{action:"inbox_get_history",icon:"fa-history",label:"Historial del Cliente"},{action:"inbox_merge_contacts",icon:"fa-object-group",label:"Unificar Contactos"},{action:"inbox_export",icon:"fa-download",label:"Exportar Conversacin"}]},{id:"marketing-automation",name:"Marketing Automation",icon:"fa-bullhorn",description:"Campaas y leads",actions:[{action:"mkt_create_campaign",icon:"fa-flag",label:"Crear Campaa"},{action:"mkt_add_to_list",icon:"fa-list",label:"Agregar a Lista"},{action:"mkt_remove_from_list",icon:"fa-minus",label:"Remover de Lista"},{action:"mkt_send_broadcast",icon:"fa-broadcast-tower",label:"Enviar Broadcast"},{action:"mkt_schedule_message",icon:"fa-clock",label:"Programar Mensaje"},{action:"mkt_create_sequence",icon:"fa-stream",label:"Crear Secuencia"},{action:"mkt_trigger_sequence",icon:"fa-play",label:"Iniciar Secuencia"},{action:"mkt_stop_sequence",icon:"fa-stop",label:"Detener Secuencia"},{action:"mkt_score_lead",icon:"fa-star",label:"Puntuar Lead"},{action:"mkt_segment_contacts",icon:"fa-filter",label:"Segmentar Contactos"},{action:"mkt_ab_test",icon:"fa-flask",label:"Test A/B"},{action:"mkt_get_analytics",icon:"fa-chart-line",label:"Obtener Analticas"}]},{id:"webhooks",name:"Webhooks",icon:"fa-link",description:"Integracin por eventos",actions:[{action:"webhook_create",icon:"fa-plus",label:"Crear Webhook"},{action:"webhook_send",icon:"fa-paper-plane",label:"Enviar Webhook"},{action:"webhook_receive",icon:"fa-inbox",label:"Recibir Webhook"},{action:"webhook_validate",icon:"fa-check",label:"Validar Firma"},{action:"webhook_retry",icon:"fa-redo",label:"Reintentar Envo"},{action:"webhook_list",icon:"fa-list",label:"Listar Webhooks"},{action:"webhook_delete",icon:"fa-trash",label:"Eliminar Webhook"},{action:"webhook_logs",icon:"fa-history",label:"Ver Logs"}]},{id:"integrations",name:"Integraciones",icon:"fa-puzzle-piece",description:"Zapier, Make, n8n",actions:[{action:"zapier_trigger",icon:"fa-bolt",label:"Trigger Zapier"},{action:"zapier_action",icon:"fa-play",label:"Accin Zapier"},{action:"make_trigger",icon:"fa-bolt",label:"Trigger Make"},{action:"make_action",icon:"fa-play",label:"Accin Make"},{action:"n8n_trigger",icon:"fa-bolt",label:"Trigger n8n"},{action:"n8n_action",icon:"fa-play",label:"Accin n8n"},{action:"ifttt_trigger",icon:"fa-bolt",label:"Trigger IFTTT"},{action:"power_automate",icon:"fa-microsoft",label:"Power Automate",isBrand:!0}]}];function mx(){const{t:a}=Ta(),[t,r]=f.useState("Mi Workflow"),[i,n]=f.useState([]),[l,s]=f.useState(null),[c,p]=f.useState(""),[h,w]=f.useState({}),[m,b]=f.useState({}),[j,N]=f.useState(!1),[_,D]=f.useState(!1),[y,g]=f.useState(null),[d,T]=f.useState("list"),[z,q]=f.useState(null),[P,L]=f.useState(new Set),[te,X]=f.useState(!1),[O,be]=f.useState(null),[me,H]=f.useState([]),[Z,ne]=f.useState("properties"),ye=f.useRef(null),[B,G]=f.useState(!1),[K,S]=f.useState(0),[J,x]=f.useState(null),[W,Y]=f.useState(!1),[fe,M]=f.useState(!1),[Q,se]=f.useState(!1),[ue,de]=f.useState(!1),[Le,Fe]=f.useState(""),[fa,ga]=f.useState(!0),[Qe,pe]=f.useState("command"),[ia,da]=f.useState("aiPrompt"),[wa,We]=f.useState(""),xe=f.useRef(null),Me=f.useRef(null),[na,ce]=f.useState(!1),[Ae,va]=f.useState({title:"",message:"",type:"info"}),[ge,he]=f.useState(null),[$,C]=f.useState(0),[I,re]=f.useState(null),[la,Oe]=f.useState(null),[Aa,Pa]=f.useState(null);f.useEffect(()=>{const o=window.SpeechRecognition||window.webkitSpeechRecognition;return o?(xe.current=new o,xe.current.continuous=!0,xe.current.interimResults=!0,xe.current.lang="es-ES",xe.current.onresult=u=>{let v="",E="";for(let V=u.resultIndex;V<u.results.length;V++){const ee=u.results[V][0].transcript;u.results[V].isFinal?E+=ee:v+=ee}Fe(v||E),Qe==="dictation"?(We(v),E&&(qt(V=>V+(V?" ":"")+E),We(""))):E&&Ra(E.toLowerCase().trim())},xe.current.onerror=u=>{console.error("Speech recognition error:",u.error),de(!1)},xe.current.onend=()=>{ue&&xe.current.start()}):ga(!1),()=>{var u;return(u=xe.current)==null?void 0:u.stop()}},[ue,Qe]);const Ra=f.useCallback(o=>{o.includes("nuevo workflow")||o.includes("nuevo flujo")?(Ke(),R("Nuevo workflow creado")):o.includes("guardar")||o.includes("save")?(sa(),R("Workflow guardado")):o.includes("importar")?(Kc(),R("Abriendo importacin")):o.includes("exportar")?(Jc(),R("Exportando workflow")):o.includes("iniciar debug")||o.includes("debug")?($a(),R("Iniciando debug")):o.includes("continuar")||o.includes("continue")?(De(),R("Continuando")):o.includes("paso")||o.includes("step")?(Pe(),R("Siguiente paso")):o.includes("detener")||o.includes("stop")?(ze(),R("Debug detenido")):o.includes("generar con ia")||o.includes("generate")?(Pr(!0),R("Abriendo generador de IA")):o.includes("migrar")?(xi(!0),R("Abriendo migracin")):o.includes("cargar cdigo")||o.includes("editor")?(Rr(!0),R("Abriendo editor de cdigo")):o.includes("vista lista")||o.includes("list view")?(T("list"),R("Vista de lista")):o.includes("vista flujo")||o.includes("flow view")?(T("flow"),R("Vista de flujo")):o.includes("panel izquierdo")||o.includes("left panel")?(N(!j),R(j?"Panel izquierdo expandido":"Panel izquierdo colapsado")):o.includes("panel derecho")||o.includes("right panel")?(D(!_),R(_?"Panel derecho expandido":"Panel derecho colapsado")):(o.includes("ayuda")||o.includes("help"))&&R("Comandos disponibles: nuevo workflow, guardar, importar, exportar, debug, continuar, paso, detener, generar con IA, migrar, cargar cdigo, vista lista, vista flujo, panel izquierdo, panel derecho, y ayuda.")},[j,_]),R=o=>{if("speechSynthesis"in window){const u=new SpeechSynthesisUtterance(o);u.lang="es-ES",u.rate=1.1,speechSynthesis.speak(u)}},ve=(o="command")=>{var u,v;ue?((u=xe.current)==null||u.stop(),de(!1),Fe(""),We("")):(pe(o),(v=xe.current)==null||v.start(),de(!0),R(o==="dictation"?"Modo dictado activado. Empieza a dictar.":"Escuchando comandos de voz"))},_e=()=>{var o,u;ue&&Qe==="dictation"?((o=xe.current)==null||o.stop(),de(!1),Fe(""),We("")):(ue&&((u=xe.current)==null||u.stop()),pe("dictation"),da("aiPrompt"),setTimeout(()=>{var v;(v=xe.current)==null||v.start(),de(!0),R("Dictando al prompt de IA")},100))};f.useEffect(()=>{const o=v=>{v.target.tagName==="INPUT"||v.target.tagName==="TEXTAREA"||(v.key==="Delete"&&l&&(v.preventDefault(),Za(l.id)),v.ctrlKey&&v.key==="c"&&l&&(v.preventDefault(),g({...l,id:null})),v.ctrlKey&&v.key==="v"&&y&&(v.preventDefault(),le()),v.ctrlKey&&v.key==="d"&&l&&(v.preventDefault(),k(l)),v.key==="Escape"&&(s(null),q(null)),v.key==="F9"&&l&&(v.preventDefault(),Be(l.id)),v.key==="F5"&&(v.preventDefault(),te?De():$a()),v.key==="F10"&&te&&(v.preventDefault(),Pe()))},u=()=>q(null);return window.addEventListener("keydown",o),window.addEventListener("click",u),()=>{window.removeEventListener("keydown",o),window.removeEventListener("click",u)}},[l,y,i,te]);const Be=o=>{L(u=>{const v=new Set(u);return v.has(o)?v.delete(o):v.add(o),v})},Ia=o=>o.reduce((u,v)=>(u.push(v),v.children&&u.push(...Ia(v.children)),u),[]),$a=()=>{var o;i.length!==0&&(X(!0),be((o=i[0])==null?void 0:o.id))},De=()=>{const o=Ia(i),u=o.findIndex(v=>v.id===O);for(let v=u+1;v<o.length;v++)if(P.has(o[v].id)){be(o[v].id);return}X(!1),be(null)},Pe=()=>{const o=Ia(i),u=o.findIndex(v=>v.id===O);u<o.length-1?be(o[u+1].id):(X(!1),be(null))},ze=()=>{X(!1),be(null)},qe=(o,u)=>{o.preventDefault(),o.stopPropagation(),q({x:o.clientX,y:o.clientY,step:u}),s(u)},ua=o=>H(u=>[...u,o]),ur=(o,u)=>H(v=>v.map(E=>E.id===o?{...E,...u}:E)),Tr=o=>H(u=>u.filter(v=>v.id!==o)),Ar=o=>w(u=>({...u,[o]:!u[o]})),A=o=>b(u=>({...u,[o]:!u[o]})),F=(o,u)=>o.dataTransfer.setData("action",JSON.stringify(u)),ie=(o,u=null,v=null)=>{o.preventDefault(),o.stopPropagation();try{const E=JSON.parse(o.dataTransfer.getData("action")),V={id:Date.now(),...E,params:{},children:E.isContainer?[]:void 0};if(u)n(ee=>Re(ee,u,V,v));else if(v!==null){const ee=[...i];ee.splice(v,0,V),n(ee)}else n([...i,V]);E.isContainer&&b(ee=>({...ee,[V.id]:!0}))}catch(E){console.error("Error al agregar accin:",E)}},Re=(o,u,v,E)=>o.map(V=>{if(V.id===u){const ee=V.children||[];if(E!==null){const Ne=[...ee];return Ne.splice(E,0,v),{...V,children:Ne}}return{...V,children:[...ee,v]}}return V.children?{...V,children:Re(V.children,u,v,E)}:V}),we=o=>o.preventDefault(),je=(o,u)=>{u&&u.stopPropagation(),s(o)},Za=o=>{n(u=>Ct(u,o)),(l==null?void 0:l.id)===o&&s(null),P.delete(o)},Ct=(o,u)=>o.filter(v=>v.id!==u).map(v=>v.children?{...v,children:Ct(v.children,u)}:v),ot=(o,u)=>{o.stopPropagation(),re(u),o.dataTransfer.effectAllowed="move",o.dataTransfer.setData("stepId",u.id.toString())},ct=(o,u,v)=>{o.preventDefault(),o.stopPropagation(),!(!I||I.id===u.id)&&(Oe(u.id),Pa(v))},pi=o=>{o.preventDefault(),Oe(null),Pa(null)},mi=(o,u)=>{if(o.preventDefault(),o.stopPropagation(),!I||I.id===u.id){re(null),Oe(null),Pa(null);return}const v=[...i],E=v.findIndex(ee=>ee.id===I.id),V=v.findIndex(ee=>ee.id===u.id);if(E!==-1&&V!==-1){const[ee]=v.splice(E,1),Ne=Aa==="before"?E<V?V-1:V:E<V?V:V+1;v.splice(Ne,0,ee),n(v)}re(null),Oe(null),Pa(null)},fi=()=>{re(null),Oe(null),Pa(null)},hi=o=>{const u=i.findIndex(v=>v.id===o);if(u>0){const v=[...i],[E]=v.splice(u,1);v.splice(u-1,0,E),n(v)}},bi=o=>{const u=i.findIndex(v=>v.id===o);if(u<i.length-1){const v=[...i],[E]=v.splice(u,1);v.splice(u+1,0,E),n(v)}};f.useEffect(()=>{let o;return na&&ge&&(o=setInterval(()=>{C(Math.floor((Date.now()-ge)/1e3))},1e3)),()=>clearInterval(o)},[na,ge]);const gi=(o,u,v="info")=>{va({title:o,message:u,type:v}),he(Date.now()),C(0),ce(!0)},yi=()=>{ce(!1),he(null),C(0)},yn=o=>{const u=Math.floor(o/60),v=o%60;return`${u.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`},k=o=>{const u=JSON.parse(JSON.stringify(o));u.id=Date.now(),u.children&&(u.children=u.children.map(V=>({...V,id:Date.now()+Math.random()})));const v=i.findIndex(V=>V.id===o.id),E=[...i];E.splice(v+1,0,u),n(E),s(u)},le=()=>{if(!y)return;const o={...y,id:Date.now()};if(o.children&&(o.children=o.children.map(u=>({...u,id:Date.now()+Math.random()}))),l){const u=i.findIndex(E=>E.id===l.id),v=[...i];v.splice(u+1,0,o),n(v)}else n([...i,o]);s(o)},ke=f.useCallback((o,u)=>{const v=E=>E.map(V=>V.id===o?{...V,...u}:V.children?{...V,children:v(V.children)}:V);n(E=>v(E)),(l==null?void 0:l.id)===o&&s(E=>({...E,...u}))},[l]),Ke=()=>{r("Nuevo Workflow"),n([]),s(null),b({}),L(new Set),H([])},sa=()=>{ji(!0)},oa=()=>{M(!0)},Xe=async()=>{if(i.length!==0){M(!1);try{if(window.electronAPI&&window.electronAPI.minimizeWindow)window.electronAPI.minimizeWindow();else if(window.require){const{ipcRenderer:o}=window.require("electron");o.send("minimize-window")}}catch{window.blur(),console.log("Ejecutando workflow - ventana minimizada")}await new Promise(o=>setTimeout(o,1e3)),G(!0),Y(!0),S(0);for(let o=0;o<i.length;o++)x(i[o]),S(Math.round((o+1)/i.length*100)),await Vt(i[o]),await new Promise(u=>setTimeout(u,300));G(!1),x(null),setTimeout(()=>Y(!1),2e3),gi("Workflow Completado",`El workflow "${t}" se ha ejecutado correctamente.`,"success")}},Vt=async o=>{var E,V,ee,Ne;const u={delay:((E=o.params)==null?void 0:E.duration)||1e3,message_box:0,click:500,type:800,navigate:1e3,wait_element:1500,screenshot:500,default:500},v=u[o.action]||u.default;o.action==="message_box"||o.action==="pause"?(gi(((V=o.params)==null?void 0:V.title)||"Mensaje",((ee=o.params)==null?void 0:ee.message)||o.label,((Ne=o.params)==null?void 0:Ne.type)||"info"),await new Promise(oe=>{const Se=setInterval(()=>{na||(clearInterval(Se),oe())},100);setTimeout(()=>{clearInterval(Se),oe()},6e4)})):await new Promise(oe=>setTimeout(oe,v))},et=()=>{G(!1),x(null),S(0),Y(!1)},pr=()=>{se(!0)},St=()=>{const u=JSON.parse(localStorage.getItem("alqvimia-workflows")||"[]").filter(v=>v.name!==t);localStorage.setItem("alqvimia-workflows",JSON.stringify(u)),Ke(),se(!1)},Tf=()=>{const o={id:`wf_${Date.now()}`,name:t,steps:i,actions:i,variables:me,createdAt:new Date().toISOString(),folder:Ga||"Sin carpeta",location:yt};if(yt==="local"){const u=JSON.parse(localStorage.getItem("alqvimia-workflows")||"[]"),v=u.findIndex(E=>E.name===t&&E.folder===(Ga||"Sin carpeta"));v>=0?(o.id=u[v].id,u[v]=o):u.push(o),localStorage.setItem("alqvimia-workflows",JSON.stringify(u)),window.dispatchEvent(new CustomEvent("workflow-saved",{detail:o})),R("Workflow guardado exitosamente")}else if(yt==="file"){const u=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),v=URL.createObjectURL(u),E=document.createElement("a");E.href=v,E.download=`${t.replace(/\s+/g,"_")}.alq`,E.click(),URL.revokeObjectURL(v),R("Workflow exportado como archivo")}ji(!1),_i("")},Hc=()=>{if(ki.trim()&&!Cn.includes(ki.trim())){const o=[...Cn,ki.trim()];dd(o),localStorage.setItem("alqvimia_custom_folders",JSON.stringify(o)),_i(ki.trim()),ns(""),ls(!1)}},Af=o=>{const u=Cn.filter(v=>v!==o);dd(u),localStorage.setItem("alqvimia_custom_folders",JSON.stringify(u)),Ga===o&&_i("")},Pf=[{name:"Mis Workflows",icon:"fa-folder",color:"#f59e0b"},{name:"Produccin",icon:"fa-industry",color:"#22c55e"},{name:"Desarrollo",icon:"fa-code",color:"#3b82f6"},{name:"Pruebas",icon:"fa-flask",color:"#8b5cf6"},{name:"Plantillas",icon:"fa-copy",color:"#ec4899"},{name:"Archivados",icon:"fa-archive",color:"#6b7280"}],Kc=()=>{const o=document.createElement("input");o.type="file",o.accept=".json,.alq",o.onchange=u=>{const v=u.target.files[0];if(!v)return;const E=new FileReader;E.onload=V=>{try{const ee=JSON.parse(V.target.result);ee.steps&&(r(ee.name||"Workflow Importado"),n(ee.steps||[]),H(ee.variables||[]),alert("Workflow importado exitosamente!"))}catch{alert("Error al importar: El archivo no es vlido")}},E.readAsText(v)},o.click()},Jc=()=>{const o={name:t,steps:i,variables:me,exportedAt:new Date().toISOString(),version:"2.0"},u=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),v=URL.createObjectURL(u),E=document.createElement("a");E.href=v,E.download=`${t.replace(/\s+/g,"_")}.alq`,E.click(),URL.revokeObjectURL(v)},[Rf,xi]=f.useState(!1),[If,Pr]=f.useState(!1),[Zl,qt]=f.useState(""),[Qc,Xc]=f.useState(!1),[Df,Rr]=f.useState(!1),[zf,xn]=f.useState(!1),[Bt,Yc]=f.useState(null),[Ye,es]=f.useState(0),[Mf,Zc]=f.useState(""),[as,ed]=f.useState(!1),[Ir,Of]=f.useState("C:\\Alqvimia\\Proyectos"),[Dr,ts]=f.useState(""),ad=f.useRef(null),[Lf,vn]=f.useState(!1),[Da,Ua]=f.useState("flowchart"),[Ft,jn]=f.useState(""),[Wt,_n]=f.useState("TB"),[td,rd]=f.useState(!1),kn=f.useRef(null),[vi,rs]=f.useState(""),[wn,Nn]=f.useState(!1),[id,nd]=f.useState(!1),[ld,sd]=f.useState(!1),Vf=f.useRef(null),[is,od]=f.useState([]),[qf,ji]=f.useState(!1),[yt,cd]=f.useState("local"),[Ga,_i]=f.useState(""),[Cn,dd]=f.useState(()=>{const o=localStorage.getItem("alqvimia_custom_folders");return o?JSON.parse(o):[]}),[ki,ns]=f.useState(""),[ud,ls]=f.useState(!1);f.useEffect(()=>{const o=()=>{const u=localStorage.getItem("alqvimia_workflow_code_actions");u&&od(JSON.parse(u))};return o(),window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[]);const Bf=o=>{const u={id:Date.now(),action:"execute_code",icon:"fa-code",label:o.name,params:{language:o.language,code:o.code,description:`Cdigo importado desde el editor (${o.language})`}};n(v=>[...v,u]),Rr(!1)},Ff=o=>{const u=is.filter((v,E)=>E!==o);od(u),localStorage.setItem("alqvimia_workflow_code_actions",JSON.stringify(u))},Wf=o=>({javascript:"#f7df1e",typescript:"#3178c6",python:"#3776ab",java:"#007396",csharp:"#68217a",cpp:"#00599c",go:"#00add8",rust:"#dea584",php:"#777bb4",ruby:"#cc342d",swift:"#fa7343",html:"#e34f26",css:"#1572b6",sql:"#336791",shell:"#4eaa25"})[o]||"#888",$f=async()=>{Zl.trim()&&(Xc(!0),setTimeout(()=>{const o=[{id:`step_${Date.now()}_1`,action:"browser_open",icon:"fa-window-maximize",label:"Abrir Navegador",params:{}},{id:`step_${Date.now()}_2`,action:"navigate",icon:"fa-compass",label:"Navegar a URL",params:{url:"https://example.com"}},{id:`step_${Date.now()}_3`,action:"wait_element",icon:"fa-hourglass-half",label:"Esperar Elemento",params:{}},{id:`step_${Date.now()}_4`,action:"click",icon:"fa-mouse-pointer",label:"Hacer Clic",params:{}},{id:`step_${Date.now()}_5`,action:"message_box",icon:"fa-window-restore",label:"Message Box",params:{message:"Proceso completado"}}];n(u=>[...u,...o]),Xc(!1),Pr(!1),qt("")},2e3))},Uf=o=>{const u=o.target.files[0];u&&(Yc(u),ts(u.name.replace(/\.[^/.]+$/,"")),xn(!0))},Gf=async()=>{if(!Bt||!Dr.trim()||!Ir.trim())return;ed(!0),es(0);const o=[{step:"Preparando video...",duration:500},{step:"Extrayendo frames...",duration:1500},{step:"Detectando elementos de UI...",duration:2e3},{step:"Identificando acciones del usuario...",duration:1500},{step:"Analizando secuencia de clics...",duration:1e3},{step:"Reconociendo texto con OCR...",duration:1500},{step:"Generando pasos del workflow...",duration:1e3},{step:"Creando componentes personalizados...",duration:800},{step:"Generando documentacin...",duration:1e3},{step:"Guardando proyecto...",duration:500}];let u=o.reduce((oe,Se)=>oe+Se.duration,0),v=0;for(const oe of o)Zc(oe.step),await new Promise(Se=>setTimeout(Se,oe.duration)),v+=oe.duration,es(Math.round(v/u*100));const E=[{id:`vid_${Date.now()}_1`,action:"browser_open",icon:"fa-window-maximize",label:"Abrir Navegador",params:{browser:"chrome"}},{id:`vid_${Date.now()}_2`,action:"navigate",icon:"fa-compass",label:"Navegar a URL",params:{url:"https://app.ejemplo.com"}},{id:`vid_${Date.now()}_3`,action:"wait_element",icon:"fa-hourglass-half",label:"Esperar Carga",params:{timeout:1e4}},{id:`vid_${Date.now()}_4`,action:"type",icon:"fa-keyboard",label:"Escribir Usuario",params:{selector:"#username",text:"${usuario}"}},{id:`vid_${Date.now()}_5`,action:"type",icon:"fa-keyboard",label:"Escribir Contrasea",params:{selector:"#password",text:"${contrasea}"}},{id:`vid_${Date.now()}_6`,action:"click",icon:"fa-mouse-pointer",label:"Clic en Login",params:{selector:"#loginBtn"}},{id:`vid_${Date.now()}_7`,action:"wait_element",icon:"fa-hourglass-half",label:"Esperar Dashboard",params:{timeout:15e3}},{id:`vid_${Date.now()}_8`,action:"extract_table",icon:"fa-table",label:"Extraer Datos",params:{selector:".data-table"}},{id:`vid_${Date.now()}_9`,action:"excel_write",icon:"fa-file-excel",label:"Guardar en Excel",params:{path:"${rutaArchivo}"}},{id:`vid_${Date.now()}_10`,action:"message_box",icon:"fa-window-restore",label:"Proceso Completado",params:{message:"Datos extrados exitosamente"}}],V=[{id:`var_${Date.now()}_1`,name:"usuario",type:"string",value:"",description:"Usuario para login"},{id:`var_${Date.now()}_2`,name:"contrasea",type:"credential",value:"",description:"Contrasea del usuario"},{id:`var_${Date.now()}_3`,name:"rutaArchivo",type:"file",value:"",description:"Ruta para guardar Excel"}];n(oe=>[...oe,...E]),H(oe=>[...oe,...V]),r(Dr);const ee={projectName:Dr,createdAt:new Date().toISOString(),description:`Workflow generado automticamente a partir del anlisis del video "${Bt.name}".`,steps:E.length,variables:V.length,savePath:Ir,videoSource:Bt.name},Ne=JSON.parse(localStorage.getItem("alqvimia_video_projects")||"[]");Ne.push(ee),localStorage.setItem("alqvimia_video_projects",JSON.stringify(Ne)),ed(!1),xn(!1),R(`Proyecto guardado exitosamente en ${Ir}`),alert(` Workflow generado exitosamente

 Proyecto: ${Dr}
 Ubicacin: ${Ir}
 Pasos detectados: ${E.length}
 Variables creadas: ${V.length}

La documentacin del proceso ha sido generada automticamente.`),Yc(null),ts(""),es(0),Zc("")},Hf=f.useCallback(()=>{if(i.length===0){jn(`${Da==="flowchart"?"flowchart":Da} ${Wt}
    A[Inicio] --> B[Sin pasos]
    B --> C[Fin]`);return}rd(!0);let o="";switch(Da){case"flowchart":o=pd();break;case"sequence":o=Kf();break;case"state":o=Jf();break;case"journey":o=Qf();break;case"gantt":o=Xf();break;case"pie":o=Yf();break;case"mindmap":o=Zf();break;default:o=pd()}jn(o),rd(!1),setTimeout(()=>cs(o),100)},[i,Da,Wt,t]),pd=()=>{let o=`flowchart ${Wt}
`;return o+=`    start([ Inicio: ${t}])
`,i.forEach((u,v)=>{const E=`step${v}`,V=v<i.length-1?`step${v+1}`:"endNode",ee=ss(u.action);u.action.includes("if")||u.action.includes("condition")?(o+=`    ${E}{${ee} ${u.label}}
`,o+=`    ${v===0?"start":`step${v-1}`} --> ${E}
`,o+=`    ${E} -->|S| ${V}
`,o+=`    ${E} -->|No| ${V}
`):u.action.includes("loop")||u.action.includes("for")||u.action.includes("while")?(o+=`    ${E}[/${ee} ${u.label}/]
`,v===0&&(o+=`    start --> ${E}
`),o+=`    ${E} --> ${V}
`,o+=`    ${E} -.->|Repetir| ${E}
`):u.action.includes("try")||u.action.includes("catch")?(o+=`    ${E}[[${ee} ${u.label}]]
`,v===0?o+=`    start --> ${E}
`:o+=`    step${v-1} --> ${E}
`,o+=`    ${E} --> ${V}
`):(o+=`    ${E}[${ee} ${u.label}]
`,v===0?o+=`    start --> ${E}
`:o+=`    step${v-1} --> ${E}
`)}),o+=`    endNode([ Fin])
`,i.length>0?o+=`    step${i.length-1} --> endNode
`:o+=`    start --> endNode
`,o+=`
    style start fill:#22c55e,stroke:#16a34a,color:#fff
`,o+=`    style endNode fill:#3b82f6,stroke:#2563eb,color:#fff
`,o},Kf=()=>{let o=`sequenceDiagram
`;return o+=`    autonumber
`,o+=`    participant U as  Usuario
`,o+=`    participant S as  Sistema
`,o+=`    participant A as  Aplicacin

`,i.forEach((u,v)=>{const E=ss(u.action);u.action.includes("click")||u.action.includes("type")||u.action.includes("input")?(o+=`    U->>+A: ${E} ${u.label}
`,o+=`    A-->>-U:  Completado
`):u.action.includes("wait")||u.action.includes("delay")?o+=`    Note over S:  ${u.label}
`:u.action.includes("browser")||u.action.includes("navigate")?(o+=`    U->>+S: ${E} ${u.label}
`,o+=`    S->>+A: Ejecutar accin
`,o+=`    A-->>-S: Respuesta
`,o+=`    S-->>-U:  Listo
`):o+=`    S->>A: ${E} ${u.label}
`}),o},Jf=()=>{let o=`stateDiagram-v2
`;return o+=`    [*] --> Inicio
`,i.forEach((u,v)=>{const E=v===0?"Inicio":`Estado${v}`,V=v<i.length-1?`Estado${v+1}`:"Fin",ee=ss(u.action);o+=`    state "${ee} ${u.label}" as ${E==="Inicio"?"Inicio":E}
`,o+=`    ${E} --> ${V}
`}),o+=`    Fin --> [*]
`,o},Qf=()=>{let o=`journey
`;o+=`    title ${t}
`;const u={};return i.forEach(v=>{const E=os(v.action);u[E]||(u[E]=[]),u[E].push(v)}),Object.entries(u).forEach(([v,E])=>{o+=`    section ${v}
`,E.forEach((V,ee)=>{const Ne=Math.min(5,Math.max(1,5-ee%3));o+=`        ${V.label}: ${Ne}: Sistema
`})}),o},Xf=()=>{let o=`gantt
`;return o+=`    title Cronograma: ${t}
`,o+=`    dateFormat YYYY-MM-DD
`,o+=`    section Ejecucin
`,i.forEach((u,v)=>{const E=u.action.includes("wait")||u.action.includes("delay")?"2d":"1d",V=v===0?"after start":`after task${v}`;o+=`        ${u.label} :task${v+1}, ${v===0?"2024-01-01":V}, ${E}
`}),o},Yf=()=>{const o={};i.forEach(v=>{const E=os(v.action);o[E]=(o[E]||0)+1});let u=`pie showData
`;return u+=`    title Distribucin de acciones en ${t}
`,Object.entries(o).forEach(([v,E])=>{u+=`    "${v}" : ${E}
`}),u},Zf=()=>{let o=`mindmap
`;o+=`  root((${t}))
`;const u={};return i.forEach(v=>{const E=os(v.action);u[E]||(u[E]=[]),u[E].push(v)}),Object.entries(u).forEach(([v,E])=>{o+=`    ${v}
`,E.forEach(V=>{o+=`      ${V.label}
`})}),o},ss=o=>{const u={browser:"",navigate:"",click:"",type:"",wait:"",delay:"",if:"",condition:"",loop:"",for:"",while:"",excel:"",file:"",email:"",database:"",api:"",message:"",notification:"",screenshot:"",extract:"",try:"",catch:"",throw:""},v=Object.keys(u).find(E=>o.toLowerCase().includes(E));return u[v]||""},os=o=>{const u={browser:"Web",navigate:"Web",click:"Interaccin",type:"Interaccin",wait:"Control",delay:"Control",if:"Lgica",condition:"Lgica",loop:"Iteracin",for:"Iteracin",excel:"Excel",file:"Archivos",email:"Email",database:"Base de Datos",message:"Mensajes"},v=Object.keys(u).find(E=>o.toLowerCase().includes(E));return u[v]||"General"},cs=async o=>{if(kn.current)try{const u=kn.current;u.innerHTML=`<pre class="mermaid">${o}</pre>`,window.mermaid&&await window.mermaid.run({nodes:u.querySelectorAll(".mermaid")})}catch(u){console.error("Error rendering Mermaid diagram:",u)}},eh=async()=>{const o=kn.current;if(o)try{const u=o.querySelector("svg");if(!u){alert("Primero genera el diagrama antes de exportar");return}const v=u.cloneNode(!0);v.setAttribute("xmlns","http://www.w3.org/2000/svg");const E=new XMLSerializer().serializeToString(v),V=new Blob([E],{type:"image/svg+xml;charset=utf-8"}),ee=URL.createObjectURL(V),Ne=new Image;Ne.onload=()=>{const oe=document.createElement("canvas"),Se=40;oe.width=Ne.width+Se*2,oe.height=Ne.height+Se*2+80;const Ze=oe.getContext("2d");Ze.fillStyle="#ffffff",Ze.fillRect(0,0,oe.width,oe.height),Ze.fillStyle="#1f2937",Ze.font="bold 24px Arial",Ze.textAlign="center",Ze.fillText(`Diagrama: ${t}`,oe.width/2,35),Ze.fillStyle="#6b7280",Ze.font="14px Arial",Ze.fillText(`Tipo: ${Da.charAt(0).toUpperCase()+Da.slice(1)} | Generado: ${new Date().toLocaleString()}`,oe.width/2,55),Ze.drawImage(Ne,Se,70),Ze.fillStyle="#9ca3af",Ze.font="12px Arial",Ze.fillText("Generado con Alqvimia 2.0",oe.width/2,oe.height-15);const Ee=document.createElement("a");Ee.download=`diagrama_${t.replace(/\s+/g,"_")}_${Date.now()}.png`,Ee.href=oe.toDataURL("image/png"),Ee.click(),URL.revokeObjectURL(ee),R("Diagrama exportado exitosamente")},Ne.src=ee}catch(u){console.error("Error exporting diagram:",u),alert("Error al exportar el diagrama")}},ah=()=>{navigator.clipboard.writeText(Ft),R("Cdigo copiado al portapapeles")},th=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){R("Tu navegador no soporta reconocimiento de voz");return}if(wn){window.diagramRecognition&&window.diagramRecognition.stop(),Nn(!1);return}const o=window.SpeechRecognition||window.webkitSpeechRecognition,u=new o;u.lang="es-ES",u.continuous=!0,u.interimResults=!0,u.onstart=()=>{Nn(!0),R("Escuchando... describe tu diagrama")},u.onresult=v=>{let E="";for(let V=v.resultIndex;V<v.results.length;V++){const ee=v.results[V][0].transcript;v.results[V].isFinal&&(E+=ee+" ")}E&&rs(V=>V+E)},u.onerror=v=>{console.error("Error de reconocimiento:",v.error),Nn(!1),R("Error en el reconocimiento de voz")},u.onend=()=>{Nn(!1)},window.diagramRecognition=u,u.start()},rh=async()=>{if(!vi.trim()){R("Por favor, describe el diagrama que deseas generar");return}nd(!0),R("Generando diagrama desde tu descripcin");try{const o=vi.toLowerCase();let u="",v=Da;o.includes("secuencia")||o.includes("sequence")||o.includes("interacci")?(v="sequence",Ua("sequence")):o.includes("estado")||o.includes("state")||o.includes("transici")?(v="state",Ua("state")):o.includes("gantt")||o.includes("cronograma")||o.includes("timeline")?(v="gantt",Ua("gantt")):o.includes("pastel")||o.includes("pie")||o.includes("porcentaje")?(v="pie",Ua("pie")):o.includes("mente")||o.includes("mind")||o.includes("ideas")?(v="mindmap",Ua("mindmap")):(o.includes("viaje")||o.includes("journey")||o.includes("experiencia"))&&(v="journey",Ua("journey"));const E=ih(o);switch(v){case"flowchart":u=md(E);break;case"sequence":u=nh(E);break;case"state":u=lh(E);break;case"journey":u=sh(E);break;case"gantt":u=oh(E);break;case"pie":u=ch(E);break;case"mindmap":u=dh(E);break;default:u=md(E)}jn(u),setTimeout(()=>cs(u),100),R("Diagrama generado exitosamente")}catch(o){console.error("Error generando diagrama:",o),R("Error al generar el diagrama")}finally{nd(!1)}},ih=o=>{const u=[],v=/(\d+)[\.:\)]\s*([^,\.\d]+)/g;let E;for(;(E=v.exec(o))!==null;)u.push({order:parseInt(E[1]),text:E[2].trim(),type:ds(E[2])});if(u.length===0){const V=/(?:primero|segundo|tercero|cuarto|quinto|luego|despus|entonces|finalmente|por ltimo|al final)/gi;o.split(V).filter(Ne=>Ne.trim()).forEach((Ne,oe)=>{const Se=Ne.replace(/^[,.\s]+|[,.\s]+$/g,"").trim();Se.length>2&&u.push({order:oe+1,text:Se,type:ds(Se)})})}return u.length===0&&o.split(/[,.]/).filter(ee=>ee.trim().length>3).forEach((ee,Ne)=>{u.push({order:Ne+1,text:ee.trim(),type:ds(ee)})}),u.length===0&&o.trim()&&(u.push({order:1,text:"Inicio del proceso",type:"start"}),u.push({order:2,text:o.trim().substring(0,50),type:"process"}),u.push({order:3,text:"Fin del proceso",type:"end"})),u.sort((V,ee)=>V.order-ee.order)},ds=o=>{const u=o.toLowerCase();return u.includes("si ")||u.includes("si,")||u.includes("condici")||u.includes("verificar")||u.includes("comprobar")?"decision":u.includes("bucle")||u.includes("repet")||u.includes("mientras")||u.includes("para cada")||u.includes("iterar")?"loop":u.includes("error")||u.includes("excepci")||u.includes("catch")||u.includes("try")?"error":u.includes("espera")||u.includes("delay")||u.includes("pausa")?"wait":u.includes("clic")||u.includes("click")||u.includes("presionar")?"click":u.includes("escribir")||u.includes("ingresa")||u.includes("teclear")||u.includes("input")?"input":u.includes("navega")||u.includes("abrir")||u.includes("ir a")||u.includes("url")?"browser":u.includes("guardar")||u.includes("save")||u.includes("exportar")?"save":u.includes("enviar")||u.includes("send")||u.includes("email")||u.includes("mensaje")?"send":"process"},md=o=>{let u=`flowchart ${Wt}
`;return u+=`    start([ Inicio])
`,o.forEach((v,E)=>{const V=`step${E}`,ee=E<o.length-1?`step${E+1}`:"endNode",Ne=Sn(v.type);v.type==="decision"?(u+=`    ${V}{${Ne} ${v.text}}
`,u+=`    ${E===0?"start":`step${E-1}`} --> ${V}
`,u+=`    ${V} -->|S| ${ee}
`,u+=`    ${V} -->|No| ${ee}
`):v.type==="loop"?(u+=`    ${V}[/${Ne} ${v.text}/]
`,E===0?u+=`    start --> ${V}
`:u+=`    step${E-1} --> ${V}
`,u+=`    ${V} --> ${ee}
`,u+=`    ${V} -.->|Repetir| ${V}
`):(u+=`    ${V}[${Ne} ${v.text}]
`,E===0?u+=`    start --> ${V}
`:u+=`    step${E-1} --> ${V}
`)}),u+=`    endNode([ Fin])
`,o.length>0?u+=`    step${o.length-1} --> endNode
`:u+=`    start --> endNode
`,u+=`
    style start fill:#22c55e,stroke:#16a34a,color:#fff
`,u+=`    style endNode fill:#3b82f6,stroke:#2563eb,color:#fff
`,u},nh=o=>{let u=`sequenceDiagram
`;return u+=`    autonumber
`,u+=`    participant U as  Usuario
`,u+=`    participant S as  Sistema
`,u+=`    participant A as  Aplicacin

`,o.forEach(v=>{const E=Sn(v.type);v.type==="input"||v.type==="click"?(u+=`    U->>+A: ${E} ${v.text}
`,u+=`    A-->>-U:  Completado
`):v.type==="wait"?u+=`    Note over S:  ${v.text}
`:v.type==="browser"?(u+=`    U->>+S: ${E} ${v.text}
`,u+=`    S->>+A: Ejecutar
`,u+=`    A-->>-S: OK
`,u+=`    S-->>-U:  Listo
`):u+=`    S->>A: ${E} ${v.text}
`}),u},lh=o=>{let u=`stateDiagram-v2
`;return u+=`    [*] --> Inicio
`,o.forEach((v,E)=>{const V=E===0?"Inicio":`Estado${E}`,ee=E<o.length-1?`Estado${E+1}`:"Fin",Ne=Sn(v.type);u+=`    state "${Ne} ${v.text}" as ${V}
`,u+=`    ${V} --> ${ee}
`}),u+=`    Fin --> [*]
`,u},sh=o=>{let u=`journey
`;return u+=`    title Proceso del Usuario
`,u+=`    section Flujo Principal
`,o.forEach(v=>{const E=v.type==="error"?2:v.type==="wait"?4:5;u+=`      ${v.text}: ${E}: Usuario, Sistema
`}),u},oh=o=>{let u=`gantt
`;return u+=`    title Cronograma del Proceso
`,u+=`    dateFormat YYYY-MM-DD
`,u+=`    section Tareas
`,o.forEach((v,E)=>{const V=v.type==="wait"?"2d":"1d",ee=E>0?`, after task${E}`:"";u+=`    ${v.text} :task${E+1}${ee}, ${V}
`}),u},ch=o=>{let u=`pie showData
`;u+=`    title Distribucin de Pasos
`;const v={};o.forEach(V=>{v[V.type]=(v[V.type]||0)+1});const E={process:"Procesos",decision:"Decisiones",loop:"Bucles",input:"Entradas",click:"Clics",browser:"Navegacin",wait:"Esperas",save:"Guardados",send:"Envos",error:"Errores"};return Object.entries(v).forEach(([V,ee])=>{u+=`    "${E[V]||V}" : ${ee}
`}),u},dh=o=>{let u=`mindmap
`;return u+=`  root((Proceso))
`,o.forEach(v=>{const E=Sn(v.type);u+=`    ${E} ${v.text}
`}),u},Sn=o=>({process:"",decision:"",loop:"",input:"",click:"",browser:"",wait:"",save:"",send:"",error:"",start:"",end:""})[o]||"",uh=()=>{if(!Ft){R("Primero genera un diagrama");return}sd(!0),R("Generando workflow desde el diagrama");try{const o=[];Ft.split(`
`).forEach((v,E)=>{const V=v.match(/\s*(\w+)\s*[\[\{\(]+(.*?)[\]\}\)]+/);if(V&&!v.includes("style")&&!v.includes("-->")){const oe=V[1];let Se=V[2].replace(/[]/g,"").trim();if(oe==="start"||oe==="endNode"||Se.toLowerCase().includes("inicio")||Se.toLowerCase().includes("fin"))return;const Ze=us(Se),Ee=ph(Ze.type,Se);Ee?o.push({id:Date.now()+E,action:Ee.action,icon:Ee.icon,label:Se,params:{...Ee.defaultParams},suggested:!0,originalComponent:Ee}):o.push({id:Date.now()+E,action:Ze.type,icon:Ze.icon,label:Se,params:Ze.defaultParams||{},isNew:!0})}const ee=v.match(/\s*\w+->>[\+]?\w+:\s*(.+)/);if(ee){const oe=ee[1].replace(/[]/g,"").trim();if(oe&&!oe.includes("Completado")&&!oe.includes("OK")&&!oe.includes("Listo")){const Se=us(oe);o.push({id:Date.now()+E,action:Se.type,icon:Se.icon,label:oe,params:Se.defaultParams||{},isNew:!0})}}const Ne=v.match(/state\s+"(.+?)"\s+as/);if(Ne){const oe=Ne[1].replace(/[]/g,"").trim(),Se=us(oe);o.push({id:Date.now()+E,action:Se.type,icon:Se.icon,label:oe,params:Se.defaultParams||{},isNew:!0})}}),o.length>0?(n(v=>[...v,...o]),R(`Se agregaron ${o.length} pasos al workflow`),vn(!1)):R("No se encontraron pasos para agregar")}catch(o){console.error("Error generando workflow:",o),R("Error al generar el workflow")}finally{sd(!1)}},us=o=>{const u=o.toLowerCase();return u.includes("clic")||u.includes("click")||u.includes("presionar")?{type:"click",icon:"fa-mouse-pointer",defaultParams:{selector:""}}:u.includes("escribir")||u.includes("teclear")||u.includes("input")||u.includes("ingresa")?{type:"type",icon:"fa-keyboard",defaultParams:{text:"",selector:""}}:u.includes("navegar")||u.includes("abrir")||u.includes("ir a")||u.includes("url")?{type:"navigate",icon:"fa-compass",defaultParams:{url:""}}:u.includes("esperar")||u.includes("delay")||u.includes("pausa")?{type:"delay",icon:"fa-clock",defaultParams:{duration:1e3}}:u.includes("condici")||u.includes("si ")||u.includes("verificar")?{type:"if_condition",icon:"fa-question",defaultParams:{condition:""},isContainer:!0}:u.includes("bucle")||u.includes("repetir")||u.includes("mientras")?{type:"while_loop",icon:"fa-sync",defaultParams:{condition:""},isContainer:!0}:u.includes("para cada")||u.includes("foreach")?{type:"for_each",icon:"fa-list",defaultParams:{collection:""},isContainer:!0}:u.includes("guardar")||u.includes("save")?{type:"write_file",icon:"fa-save",defaultParams:{path:"",content:""}}:u.includes("enviar")||u.includes("email")||u.includes("mensaje")?{type:"send_email",icon:"fa-envelope",defaultParams:{to:"",subject:"",body:""}}:u.includes("captura")||u.includes("screenshot")?{type:"screenshot",icon:"fa-camera",defaultParams:{path:""}}:u.includes("extraer")||u.includes("obtener texto")?{type:"get_text",icon:"fa-font",defaultParams:{selector:""}}:{type:"execute_code",icon:"fa-code",defaultParams:{code:""}}},ph=(o,u)=>{for(const v of Uu){const E=v.actions.find(V=>V.action===o);if(E)return{action:E.action,icon:E.icon,defaultParams:{}}}return null},fd=Uu.map(o=>({...o,actions:o.actions.filter(u=>u.label.toLowerCase().includes(c.toLowerCase()))})).filter(o=>o.actions.length>0||!c),ps=o=>o.reduce((u,v)=>u+1+(v.children?ps(v.children):0),0),hd=(o,u,v=0,E=null)=>{var gd,yd,xd,vd,jd;const V=m[o.id],ee=(l==null?void 0:l.id)===o.id,Ne=o.children&&o.children.length>0,oe=o.isContainer||o.action==="step_group",Se=P.has(o.id),Ze=O===o.id,Ee=o.params&&Object.keys(o.params).length>0,ms=(I==null?void 0:I.id)===o.id,wi=la===o.id,bd=E!==null?E:u+1,fh=v===0&&u===0,hh=v===0&&u===i.length-1;return e.jsxs("div",{className:"workflow-list-item-wrapper",children:[wi&&Aa==="before"&&e.jsx("div",{className:"step-drop-indicator before"}),e.jsxs("div",{className:`workflow-list-item ${ee?"selected":""} ${oe?"is-container":""} ${Se?"has-breakpoint":""} ${Ze?"debug-current":""} ${ms?"dragging":""}`,style:{paddingLeft:`${v*24+12}px`},draggable:v===0,onDragStart:$e=>v===0&&ot($e,o),onDragOver:$e=>{const En=$e.currentTarget.getBoundingClientRect(),bh=$e.clientY-En.top<En.height/2?"before":"after";ct($e,o,bh)},onDragLeave:pi,onDrop:$e=>oe?ie($e,o.id):mi($e,o),onDragEnd:fi,onClick:$e=>je(o,$e),onContextMenu:$e=>qe($e,o),children:[e.jsx("div",{className:"step-number",title:`Paso ${bd}`,children:bd}),v===0&&e.jsx("div",{className:"step-drag-handle",title:"Arrastra para reordenar",children:e.jsx("i",{className:"fas fa-grip-vertical"})}),e.jsx("div",{className:`breakpoint-gutter ${Se?"active":""}`,onClick:$e=>{$e.stopPropagation(),Be(o.id)},title:"Toggle breakpoint (F9)",children:Se&&e.jsx("i",{className:"fas fa-circle"})}),oe?e.jsx("button",{className:"step-expand-btn",onClick:$e=>{$e.stopPropagation(),A(o.id)},children:e.jsx("i",{className:`fas fa-chevron-${V?"down":"right"}`})}):e.jsx("span",{className:"step-indent-line"}),e.jsx("div",{className:`step-type-icon ${oe?"container-icon":""}`,children:e.jsx("i",{className:`fas ${o.icon}`})}),e.jsx("div",{className:"step-info",children:e.jsxs("span",{className:"step-title",children:[o.label,((gd=o.params)==null?void 0:gd.name)&&e.jsxs("span",{className:"step-param-preview",children:[': "',o.params.name,'"']}),((yd=o.params)==null?void 0:yd.url)&&e.jsxs("span",{className:"step-param-preview",children:[": ",o.params.url]}),((xd=o.params)==null?void 0:xd.message)&&e.jsxs("span",{className:"step-param-preview",children:[': "',o.params.message,'"']}),((vd=o.params)==null?void 0:vd.variable)&&e.jsxs("span",{className:"step-param-preview",children:["  $",o.params.variable]}),((jd=o.params)==null?void 0:jd.description)&&e.jsxs("span",{className:"step-description",children:[" - ",o.params.description]})]})}),e.jsx("div",{className:"step-indicators",children:Ee&&e.jsx("span",{className:"step-indicator configured",title:"Configurado",children:e.jsx("i",{className:"fas fa-check"})})}),v===0&&e.jsxs("div",{className:"step-move-buttons",children:[e.jsx("button",{className:"step-move-btn",onClick:$e=>{$e.stopPropagation(),hi(o.id)},disabled:fh,title:"Mover arriba",children:e.jsx("i",{className:"fas fa-chevron-up"})}),e.jsx("button",{className:"step-move-btn",onClick:$e=>{$e.stopPropagation(),bi(o.id)},disabled:hh,title:"Mover abajo",children:e.jsx("i",{className:"fas fa-chevron-down"})})]}),e.jsx("div",{className:"step-menu",children:e.jsx("button",{className:"step-menu-btn",onClick:$e=>qe($e,o),title:"Ms opciones",children:e.jsx("i",{className:"fas fa-ellipsis-v"})})})]}),wi&&Aa==="after"&&e.jsx("div",{className:"step-drop-indicator after"}),oe&&V&&e.jsx("div",{className:"step-children",children:Ne?o.children.map(($e,En)=>hd($e,En,v+1)):e.jsxs("div",{className:"step-drop-zone",style:{marginLeft:`${(v+1)*24+12}px`},onDrop:$e=>ie($e,o.id),onDragOver:we,children:[e.jsx("i",{className:"fas fa-plus-circle"}),e.jsx("span",{children:"Arrastra acciones aqu"})]})})]},o.id)},mh=(o,u)=>{var Ze;const v=(l==null?void 0:l.id)===o.id,E=o.isContainer||o.action==="step_group",V=P.has(o.id),ee=O===o.id,Ne=o.children&&o.children.length>0,oe=m[o.id],Se=u+1;return e.jsxs("div",{className:"flow-step-wrapper",children:[e.jsxs("div",{className:"flow-connector",children:[e.jsx("div",{className:"flow-line"}),e.jsx("i",{className:"fas fa-caret-down flow-arrow"})]}),e.jsxs("div",{className:`flow-step ${v?"selected":""} ${E?"is-container":""} ${V?"has-breakpoint":""} ${ee?"debug-current":""}`,onClick:Ee=>je(o,Ee),onContextMenu:Ee=>qe(Ee,o),draggable:!0,onDragStart:Ee=>ot(Ee,o),onDragOver:Ee=>ct(Ee,o,"after"),onDragLeave:pi,onDrop:Ee=>mi(Ee,o),onDragEnd:fi,children:[e.jsxs("div",{className:"flow-step-header",children:[e.jsx("div",{className:"flow-step-number",children:Se}),E&&e.jsx("button",{className:"flow-expand-btn",onClick:Ee=>{Ee.stopPropagation(),A(o.id)},children:e.jsx("i",{className:`fas fa-chevron-${oe?"down":"right"}`})}),e.jsx("div",{className:"flow-step-icon",children:e.jsx("i",{className:`fas ${o.icon}`})}),e.jsx("span",{className:"flow-step-label",children:o.label}),e.jsxs("div",{className:"flow-step-move-buttons",children:[e.jsx("button",{className:"flow-move-btn",onClick:Ee=>{Ee.stopPropagation(),hi(o.id)},disabled:u===0,title:"Mover arriba",children:e.jsx("i",{className:"fas fa-arrow-up"})}),e.jsx("button",{className:"flow-move-btn",onClick:Ee=>{Ee.stopPropagation(),bi(o.id)},disabled:u===i.length-1,title:"Mover abajo",children:e.jsx("i",{className:"fas fa-arrow-down"})})]}),e.jsx("button",{className:"flow-step-menu",onClick:Ee=>qe(Ee,o),children:e.jsx("i",{className:"fas fa-ellipsis-h"})})]}),((Ze=o.params)==null?void 0:Ze.description)&&e.jsxs("div",{className:"flow-step-description",children:[e.jsx("i",{className:"fas fa-info-circle"})," ",o.params.description]}),E&&oe&&e.jsx("div",{className:"flow-step-body",children:Ne?o.children.map((Ee,ms)=>e.jsxs("div",{className:"flow-child-step",onClick:wi=>{wi.stopPropagation(),je(Ee,wi)},children:[e.jsxs("span",{className:"flow-child-number",children:[Se,".",ms+1]}),e.jsx("i",{className:`fas ${Ee.icon}`}),e.jsx("span",{children:Ee.label})]},Ee.id)):e.jsxs("div",{className:"flow-drop-zone",onDrop:Ee=>ie(Ee,o.id),onDragOver:we,children:[e.jsx("i",{className:"fas fa-plus"})," Arrastra acciones aqu"]})})]})]},o.id)};return e.jsx("div",{className:"view",id:"workflows-view",children:e.jsxs("div",{className:"workflow-studio",id:"workflowStudio",children:[e.jsxs("div",{className:"studio-header",children:[e.jsx("div",{className:"workflow-tabs",children:e.jsxs("button",{className:"workflow-tab active",children:[e.jsx("i",{className:"fas fa-file"}),e.jsx("span",{children:t}),e.jsx("i",{className:"fas fa-times close-tab"})]})}),e.jsx("button",{className:"btn btn-sm btn-primary",onClick:Ke,children:e.jsx("i",{className:"fas fa-plus"})})]}),e.jsxs("div",{className:`studio-left-panel ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"panel-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-th-large"})," ",!j&&a("wf_actions")]}),e.jsx("button",{className:"panel-collapse-btn",onClick:()=>N(!j),children:e.jsx("i",{className:`fas fa-chevron-${j?"right":"left"}`})})]}),j?e.jsx("div",{className:"collapsed-icons",children:fd.map(o=>e.jsx("button",{className:"collapsed-icon-btn",title:o.name,onClick:()=>{N(!1),w(u=>({...u,[o.id]:!0}))},children:e.jsx("i",{className:`${o.isBrand?"fab":"fas"} ${o.icon}`})},o.id))}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"actions-search",children:e.jsx("input",{type:"text",placeholder:a("wf_search_actions"),value:c,onChange:o=>p(o.target.value)})}),e.jsx("div",{className:"actions-list",children:fd.map(o=>e.jsxs("div",{className:`action-category ${h[o.id]?"expanded":""}`,children:[e.jsxs("div",{className:"category-header",onClick:()=>Ar(o.id),children:[e.jsx("i",{className:"fas fa-chevron-right"}),e.jsx("i",{className:`${o.isBrand?"fab":"fas"} ${o.icon} category-icon`}),e.jsx("span",{className:"category-name",children:o.name}),e.jsx("span",{className:"category-count",children:o.actions.length})]}),e.jsx("div",{className:"category-items",children:o.actions.map(u=>e.jsxs("div",{className:`action-item ${u.isContainer?"is-container":""}`,draggable:"true",onDragStart:v=>F(v,u),children:[e.jsx("i",{className:`fas ${u.icon}`}),e.jsx("span",{children:u.label})]},u.action))})]},o.id))})]})]}),e.jsxs("div",{className:"studio-center-panel",ref:ye,tabIndex:0,children:[e.jsxs("div",{className:"canvas-toolbar",children:[e.jsxs("div",{className:"toolbar-group",children:[e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:Ke,title:a("wf_new"),children:[e.jsx("i",{className:"fas fa-file-alt"}),e.jsx("span",{children:a("wf_new")})]}),e.jsxs("button",{className:"btn btn-sm btn-success",onClick:sa,title:a("wf_save"),children:[e.jsx("i",{className:"fas fa-save"}),e.jsx("span",{children:a("wf_save")})]}),e.jsxs("button",{className:"btn btn-sm btn-diagram",onClick:()=>vn(!0),title:"Generador de Diagrama",children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("span",{children:"Diagrama"})]})]}),e.jsx("div",{className:"toolbar-divider"}),e.jsxs("div",{className:"toolbar-group",children:[e.jsx("button",{className:"btn btn-sm btn-secondary btn-icon-only",onClick:Kc,title:a("wf_import"),children:e.jsx("i",{className:"fas fa-file-import"})}),e.jsx("button",{className:"btn btn-sm btn-secondary btn-icon-only",onClick:Jc,title:a("wf_export"),children:e.jsx("i",{className:"fas fa-file-export"})}),e.jsx("button",{className:"btn btn-sm btn-migrate btn-icon-only",onClick:()=>xi(!0),title:a("wf_migrate"),children:e.jsx("i",{className:"fas fa-exchange-alt"})})]}),e.jsx("div",{className:"toolbar-divider"}),e.jsxs("div",{className:"toolbar-group",children:[e.jsx("button",{className:"btn btn-sm btn-ai btn-icon-only",onClick:()=>Pr(!0),title:a("wf_ai_generate"),children:e.jsx("i",{className:"fas fa-robot"})}),e.jsx("button",{className:"btn btn-sm btn-code btn-icon-only",onClick:()=>Rr(!0),title:a("wf_code_editor"),children:e.jsx("i",{className:"fas fa-code"})})]}),e.jsx("div",{className:"toolbar-divider"}),e.jsxs("div",{className:"toolbar-group",children:[e.jsx("button",{className:"btn btn-sm btn-execute btn-icon-only",onClick:Xe,disabled:i.length===0,title:a("wf_execute"),children:e.jsx("i",{className:"fas fa-play"})}),e.jsx("button",{className:"btn btn-sm btn-preview btn-icon-only",onClick:oa,disabled:i.length===0,title:a("wf_preview"),children:e.jsx("i",{className:"fas fa-eye"})}),te?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-sm btn-debug btn-icon-only active",onClick:De,title:a("btn_continue"),children:e.jsx("i",{className:"fas fa-play"})}),e.jsx("button",{className:"btn btn-sm btn-debug btn-icon-only",onClick:Pe,title:"Step Over (F10)",children:e.jsx("i",{className:"fas fa-step-forward"})}),e.jsx("button",{className:"btn btn-sm btn-danger btn-icon-only",onClick:ze,title:a("btn_stop"),children:e.jsx("i",{className:"fas fa-stop"})})]}):e.jsx("button",{className:"btn btn-sm btn-debug btn-icon-only",onClick:$a,title:a("wf_debug"),children:e.jsx("i",{className:"fas fa-bug"})})]}),e.jsx("div",{className:"toolbar-divider"}),e.jsx("button",{className:"btn btn-sm btn-danger btn-icon-only",onClick:pr,disabled:i.length===0,title:a("wf_delete"),children:e.jsx("i",{className:"fas fa-trash"})}),e.jsx("div",{className:"toolbar-spacer"}),fa&&e.jsx("button",{className:`btn btn-sm btn-voice btn-icon-only ${ue?"listening":""}`,onClick:ve,title:a(ue?"wf_stop_voice":"wf_voice_commands"),children:e.jsx("i",{className:`fas ${ue?"fa-microphone-slash":"fa-microphone"}`})}),e.jsxs("div",{className:"view-toggle",children:[e.jsx("button",{className:`view-toggle-btn ${d==="list"?"active":""}`,onClick:()=>T("list"),title:a("wf_list_view"),children:e.jsx("i",{className:"fas fa-list"})}),e.jsx("button",{className:`view-toggle-btn ${d==="flow"?"active":""}`,onClick:()=>T("flow"),title:a("wf_flow_view"),children:e.jsx("i",{className:"fas fa-project-diagram"})})]})]}),ue&&Le&&e.jsxs("div",{className:"voice-indicator",children:[e.jsx("i",{className:"fas fa-microphone"}),e.jsxs("span",{children:['"',Le,'"']})]}),e.jsx("div",{className:"canvas-container",children:e.jsx("div",{className:`workflow-canvas ${d}`,onDrop:o=>ie(o),onDragOver:we,onClick:()=>s(null),children:i.length===0?e.jsxs("div",{className:"workflow-canvas-empty",children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("p",{children:a("wf_drag_here")}),e.jsx("small",{children:a("wf_use_ai")}),e.jsxs("div",{className:"keyboard-shortcuts",children:[e.jsxs("span",{children:[e.jsx("kbd",{children:"Del"})," ",a("btn_delete")]}),e.jsxs("span",{children:[e.jsx("kbd",{children:"Ctrl"}),"+",e.jsx("kbd",{children:"C"})," ",a("btn_copy")]}),e.jsxs("span",{children:[e.jsx("kbd",{children:"Ctrl"}),"+",e.jsx("kbd",{children:"V"})," ",a("btn_paste")]}),e.jsxs("span",{children:[e.jsx("kbd",{children:"F9"})," Breakpoint"]}),e.jsxs("span",{children:[e.jsx("kbd",{children:"F5"})," Debug"]})]})]}):d==="list"?e.jsxs("div",{className:"workflow-list",children:[e.jsxs("div",{className:"workflow-start-node",children:[e.jsx("i",{className:"fas fa-play-circle"}),e.jsx("span",{children:a("wf_start")})]}),e.jsx("div",{className:"workflow-list-steps",children:i.map((o,u)=>hd(o,u,0,u+1))}),e.jsxs("div",{className:"workflow-end-node",children:[e.jsx("i",{className:"fas fa-stop-circle"}),e.jsx("span",{children:a("wf_end")})]})]}):e.jsxs("div",{className:"workflow-flow",children:[e.jsxs("div",{className:"flow-start-node",children:[e.jsx("div",{className:"flow-node-circle start",children:e.jsx("i",{className:"fas fa-play"})}),e.jsx("span",{children:a("wf_start")})]}),i.map((o,u)=>mh(o,u)),e.jsxs("div",{className:"flow-connector",children:[e.jsx("div",{className:"flow-line"}),e.jsx("i",{className:"fas fa-caret-down flow-arrow"})]}),e.jsxs("div",{className:"flow-end-node",children:[e.jsx("div",{className:"flow-node-circle end",children:e.jsx("i",{className:"fas fa-stop"})}),e.jsx("span",{children:a("wf_end")})]})]})})})]}),e.jsxs("div",{className:`studio-right-panel ${_?"collapsed":""}`,children:[e.jsxs("div",{className:"panel-header",children:[e.jsxs("div",{className:"panel-tabs",children:[e.jsxs("button",{className:`panel-tab ${Z==="properties"?"active":""}`,onClick:()=>ne("properties"),children:[e.jsx("i",{className:"fas fa-cog"})," ",a("wf_properties")]}),e.jsxs("button",{className:`panel-tab ${Z==="variables"?"active":""}`,onClick:()=>ne("variables"),children:[e.jsx("i",{className:"fas fa-cube"})," ",a("wf_variables")]})]}),e.jsx("button",{className:"panel-collapse-btn",onClick:()=>D(!_),children:e.jsx("i",{className:`fas fa-chevron-${_?"left":"right"}`})})]}),e.jsx("div",{className:"properties-content",children:Z==="properties"?e.jsx(px,{selectedStep:l,onUpdateStep:ke,variables:me}):e.jsx(nx,{variables:me,onAddVariable:ua,onUpdateVariable:ur,onDeleteVariable:Tr})})]}),e.jsxs("div",{className:"studio-footer",children:[e.jsxs("div",{className:"studio-footer-left",children:[e.jsxs("div",{className:"studio-footer-item",children:[e.jsx("i",{className:"fas fa-layer-group"}),e.jsxs("span",{children:[ps(i)," ",a("wf_steps")]})]}),e.jsxs("div",{className:"studio-footer-item",children:[e.jsx("i",{className:"fas fa-cube"}),e.jsxs("span",{children:[me.length," ",a("wf_variables").toLowerCase()]})]}),e.jsxs("div",{className:"studio-footer-item",children:[e.jsx("i",{className:"fas fa-circle",style:{color:P.size>0?"#ef4444":"var(--text-secondary)"}}),e.jsxs("span",{children:[P.size," ",a("wf_breakpoints")]})]}),y&&e.jsxs("div",{className:"studio-footer-item clipboard-indicator",children:[e.jsx("i",{className:"fas fa-clipboard"}),e.jsxs("span",{children:[a("wf_clipboard"),": ",y.label]})]}),te&&e.jsxs("div",{className:"studio-footer-item debug-indicator",children:[e.jsx("i",{className:"fas fa-bug"}),e.jsx("span",{children:a("wf_debugging")})]})]}),e.jsxs("div",{className:"studio-footer-right",children:[e.jsxs("div",{className:"studio-footer-item",children:[e.jsx("i",{className:"fas fa-circle",style:{color:"#10b981"}}),e.jsx("span",{children:a("connected")})]}),e.jsx("div",{className:"studio-footer-item",children:e.jsx("span",{children:"Alqvimia Studio v2.0"})})]})]}),z&&e.jsxs("div",{className:"context-menu",style:{top:z.y,left:z.x},onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"context-menu-item",onClick:()=>{ne("properties"),D(!1),q(null)},children:[e.jsx("i",{className:"fas fa-edit"})," ",a("btn_edit")," ",a("wf_properties")]}),e.jsxs("div",{className:"context-menu-item",onClick:()=>{Be(z.step.id),q(null)},children:[e.jsx("i",{className:"fas fa-circle",style:{color:P.has(z.step.id)?"#ef4444":"inherit"}}),P.has(z.step.id)?a("btn_remove")+" Breakpoint":a("btn_add")+" Breakpoint"]}),e.jsx("div",{className:"context-menu-divider"}),e.jsxs("div",{className:"context-menu-item",onClick:()=>{g({...z.step,id:null}),q(null)},children:[e.jsx("i",{className:"fas fa-copy"})," ",a("btn_copy")," ",e.jsx("span",{className:"shortcut",children:"Ctrl+C"})]}),e.jsxs("div",{className:"context-menu-item",onClick:()=>{k(z.step),q(null)},children:[e.jsx("i",{className:"fas fa-clone"})," ",a("btn_duplicate")," ",e.jsx("span",{className:"shortcut",children:"Ctrl+D"})]}),y&&e.jsxs("div",{className:"context-menu-item",onClick:()=>{le(),q(null)},children:[e.jsx("i",{className:"fas fa-paste"})," ",a("btn_paste")," ",e.jsx("span",{className:"shortcut",children:"Ctrl+V"})]}),e.jsx("div",{className:"context-menu-divider"}),e.jsxs("div",{className:"context-menu-item danger",onClick:()=>{Za(z.step.id),q(null)},children:[e.jsx("i",{className:"fas fa-trash"})," ",a("btn_delete")," ",e.jsx("span",{className:"shortcut",children:"Del"})]})]}),Rf&&e.jsx("div",{className:"modal-overlay",onClick:()=>xi(!1),children:e.jsxs("div",{className:"modal-content modal-lg",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-exchange-alt"})," Migrar Workflow"]}),e.jsx("button",{className:"modal-close",onClick:()=>xi(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"migrate-options",children:[e.jsxs("div",{className:"migrate-section",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-file-import"})," Importar desde"]}),e.jsxs("div",{className:"migrate-grid",children:[e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-robot",style:{color:"#ff6d00"}}),e.jsx("span",{children:"UiPath"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-cogs",style:{color:"#0078d4"}}),e.jsx("span",{children:"Power Automate"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-bolt",style:{color:"#00a1e0"}}),e.jsx("span",{children:"Automation Anywhere"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-cube",style:{color:"#1976d2"}}),e.jsx("span",{children:"Blue Prism"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-code",style:{color:"#3776ab"}}),e.jsx("span",{children:"Python Script"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-file-code",style:{color:"#f7df1e"}}),e.jsx("span",{children:"JavaScript"})]})]})]}),e.jsxs("div",{className:"migrate-section",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-file-export"})," Exportar a"]}),e.jsxs("div",{className:"migrate-grid",children:[e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-robot",style:{color:"#ff6d00"}}),e.jsx("span",{children:"UiPath XAML"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-cogs",style:{color:"#0078d4"}}),e.jsx("span",{children:"Power Automate"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-code",style:{color:"#3776ab"}}),e.jsx("span",{children:"Python"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-file-code",style:{color:"#f7df1e"}}),e.jsx("span",{children:"JavaScript"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-terminal",style:{color:"#4eaa25"}}),e.jsx("span",{children:"Bash Script"})]}),e.jsxs("button",{className:"migrate-option",children:[e.jsx("i",{className:"fas fa-file-alt",style:{color:"#6c757d"}}),e.jsx("span",{children:"Pseudocdigo"})]})]})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn btn-secondary",onClick:()=>xi(!1),children:"Cancelar"})})]})}),If&&e.jsx("div",{className:"modal-overlay",onClick:()=>{Pr(!1),ue&&Qe==="dictation"&&_e()},children:e.jsxs("div",{className:"modal-content modal-lg",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-robot"})," Generar Workflow con IA"]}),e.jsx("button",{className:"modal-close",onClick:()=>{Pr(!1),ue&&Qe==="dictation"&&_e()},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"ai-generator",children:[ue&&Qe==="dictation"&&e.jsxs("div",{className:"dictation-live-banner ai-target",children:[e.jsx("div",{className:"dictation-live-icon",children:e.jsx("i",{className:"fas fa-microphone"})}),e.jsxs("div",{className:"dictation-live-text",children:[e.jsx("span",{className:"dictation-live-label",children:"Dictando al Prompt IA:"}),e.jsx("span",{className:"dictation-live-content",children:wa||Le||"Esperando..."})]}),e.jsxs("button",{className:"dictation-stop-btn",onClick:_e,children:[e.jsx("i",{className:"fas fa-stop"})," Detener"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Describe lo que quieres automatizar"}),e.jsxs("div",{className:"textarea-with-voice",children:[e.jsx("textarea",{ref:Me,value:Zl,onChange:o=>qt(o.target.value),placeholder:"Ejemplo: Abrir el navegador, ir a la pgina de ventas, extraer la tabla de productos y guardarla en Excel...",rows:5,className:"ai-prompt-input"}),fa&&e.jsx("button",{type:"button",className:`voice-input-btn ${ue&&Qe==="dictation"?"listening":""}`,onClick:_e,title:ue&&Qe==="dictation"?"Detener dictado":"Dictar con voz",children:e.jsx("i",{className:`fas ${ue&&Qe==="dictation"?"fa-stop-circle":"fa-microphone"}`})})]})]}),e.jsxs("div",{className:"ai-templates",children:[e.jsx("span",{className:"templates-label",children:"Plantillas rpidas:"}),e.jsxs("div",{className:"template-chips",children:[e.jsxs("button",{className:"template-chip",onClick:()=>qt("Abrir navegador, ir a una URL, hacer login con usuario y contrasea"),children:[e.jsx("i",{className:"fas fa-sign-in-alt"})," Login Web"]}),e.jsxs("button",{className:"template-chip",onClick:()=>qt("Extraer datos de una tabla web y guardarlos en Excel"),children:[e.jsx("i",{className:"fas fa-table"})," Extraer Tabla"]}),e.jsxs("button",{className:"template-chip",onClick:()=>qt("Leer correos de Outlook, filtrar por asunto y descargar adjuntos"),children:[e.jsx("i",{className:"fas fa-envelope"})," Procesar Emails"]}),e.jsxs("button",{className:"template-chip",onClick:()=>qt("Leer archivo Excel, procesar cada fila y actualizar base de datos"),children:[e.jsx("i",{className:"fas fa-file-excel"})," Excel a BD"]}),e.jsxs("button",{className:"template-chip",onClick:()=>qt("Crear un formulario de entrada de datos con validacin"),children:[e.jsx("i",{className:"fas fa-wpforms"})," Formulario"]})]})]}),e.jsxs("div",{className:"video-import-section",children:[e.jsx("input",{type:"file",ref:ad,accept:"video/*",onChange:Uf,style:{display:"none"}}),e.jsxs("button",{className:"video-import-btn",onClick:()=>{var o;return(o=ad.current)==null?void 0:o.click()},children:[e.jsx("i",{className:"fas fa-video"}),e.jsx("span",{children:"Importar Video para Analizar"}),e.jsx("small",{children:"Genera un workflow automticamente a partir de un video de demostracin"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>Pr(!1),children:"Cancelar"}),e.jsx("button",{className:"btn btn-ai",onClick:$f,disabled:!Zl.trim()||Qc,children:Qc?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-magic"})," Generar Workflow"]})})]})]})}),zf&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content modal-lg",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #8b5cf6, #6366f1)"},children:[e.jsxs("h3",{style:{color:"white"},children:[e.jsx("i",{className:"fas fa-video"})," Analizar Video y Generar Workflow"]}),!as&&e.jsx("button",{className:"modal-close",onClick:()=>xn(!1),style:{color:"white"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"modal-body",children:as?e.jsxs("div",{className:"video-analysis-progress",children:[e.jsxs("div",{className:"progress-circle",children:[e.jsxs("svg",{viewBox:"0 0 36 36",children:[e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border-color)",strokeWidth:"3"}),e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--primary-color)",strokeWidth:"3",strokeDasharray:`${Ye}, 100`,style:{transition:"stroke-dasharray 0.3s ease"}})]}),e.jsxs("span",{className:"progress-value",children:[Ye,"%"]})]}),e.jsx("h4",{children:"Analizando video..."}),e.jsx("p",{children:Mf}),e.jsxs("div",{className:"video-analysis-steps",children:[e.jsxs("div",{className:`analysis-step ${Ye>=5?"completed":Ye>0?"active":""}`,children:[e.jsx("i",{className:`fas ${Ye>=5?"fa-check-circle":"fa-circle"}`}),e.jsx("span",{children:"Preparando video"})]}),e.jsxs("div",{className:`analysis-step ${Ye>=20?"completed":Ye>5?"active":""}`,children:[e.jsx("i",{className:`fas ${Ye>=20?"fa-check-circle":"fa-circle"}`}),e.jsx("span",{children:"Extrayendo frames"})]}),e.jsxs("div",{className:`analysis-step ${Ye>=40?"completed":Ye>20?"active":""}`,children:[e.jsx("i",{className:`fas ${Ye>=40?"fa-check-circle":"fa-circle"}`}),e.jsx("span",{children:"Detectando elementos de UI"})]}),e.jsxs("div",{className:`analysis-step ${Ye>=60?"completed":Ye>40?"active":""}`,children:[e.jsx("i",{className:`fas ${Ye>=60?"fa-check-circle":"fa-circle"}`}),e.jsx("span",{children:"Identificando acciones"})]}),e.jsxs("div",{className:`analysis-step ${Ye>=80?"completed":Ye>60?"active":""}`,children:[e.jsx("i",{className:`fas ${Ye>=80?"fa-check-circle":"fa-circle"}`}),e.jsx("span",{children:"Generando workflow"})]}),e.jsxs("div",{className:`analysis-step ${Ye>=95?"completed":Ye>80?"active":""}`,children:[e.jsx("i",{className:`fas ${Ye>=95?"fa-check-circle":"fa-circle"}`}),e.jsx("span",{children:"Creando documentacin"})]}),e.jsxs("div",{className:`analysis-step ${Ye>=100?"completed":Ye>95?"active":""}`,children:[e.jsx("i",{className:`fas ${Ye>=100?"fa-check-circle":"fa-circle"}`}),e.jsx("span",{children:"Guardando proyecto"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-video",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Video seleccionado"]}),e.jsxs("div",{style:{padding:"1rem",background:"var(--bg-tertiary)",borderRadius:"8px",display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("i",{className:"fas fa-film",style:{fontSize:"2rem",color:"var(--primary-color)"}}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:Bt==null?void 0:Bt.name}),e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:Bt&&`${(Bt.size/(1024*1024)).toFixed(2)} MB`})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-project-diagram",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Nombre del proyecto"]}),e.jsx("input",{type:"text",value:Dr,onChange:o=>ts(o.target.value),placeholder:"Mi Workflow Automatizado",style:{width:"100%",padding:"0.75rem 1rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"}})]}),e.jsxs("div",{className:"save-location-selector",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-folder",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Ubicacin para guardar"]}),e.jsxs("div",{className:"location-input-group",children:[e.jsx("input",{type:"text",value:Ir,onChange:o=>Of(o.target.value),placeholder:"C:\\Alqvimia\\Proyectos"}),e.jsx("button",{type:"button",title:"Seleccionar carpeta",children:e.jsx("i",{className:"fas fa-folder-open"})})]})]}),e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"rgba(99, 102, 241, 0.1)",borderRadius:"8px",border:"1px solid rgba(99, 102, 241, 0.2)"},children:[e.jsxs("h4",{style:{margin:"0 0 0.75rem 0",color:"var(--primary-color)",fontSize:"0.9rem"},children:[e.jsx("i",{className:"fas fa-info-circle",style:{marginRight:"0.5rem"}}),"Qu se generar?"]}),e.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",color:"var(--text-secondary)",fontSize:"0.85rem"},children:[e.jsx("li",{children:"Workflow con los pasos detectados del video"}),e.jsx("li",{children:"Variables automticas para datos dinmicos"}),e.jsx("li",{children:"Componentes personalizados si no existen"}),e.jsx("li",{children:"Documentacin completa del proceso"}),e.jsx("li",{children:"Archivo README con descripcin del flujo"})]})]})]})}),!as&&e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>xn(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-ai",onClick:Gf,disabled:!Dr.trim()||!Ir.trim(),children:[e.jsx("i",{className:"fas fa-magic"})," Analizar y Generar"]})]})]})}),Lf&&e.jsx("div",{className:"modal-overlay",onClick:()=>vn(!1),children:e.jsxs("div",{className:"modal-content modal-xl diagram-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header diagram-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-project-diagram"})," Generador de Diagramas"]}),e.jsx("button",{className:"modal-close",onClick:()=>vn(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body diagram-body",children:[e.jsxs("div",{className:"diagram-controls",children:[e.jsxs("div",{className:"control-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-shapes"})," Tipo de Diagrama"]}),e.jsxs("div",{className:"diagram-type-selector",children:[e.jsxs("button",{className:`diagram-type-btn ${Da==="flowchart"?"active":""}`,onClick:()=>Ua("flowchart"),children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("span",{children:"Flujo"})]}),e.jsxs("button",{className:`diagram-type-btn ${Da==="sequence"?"active":""}`,onClick:()=>Ua("sequence"),children:[e.jsx("i",{className:"fas fa-exchange-alt"}),e.jsx("span",{children:"Secuencia"})]}),e.jsxs("button",{className:`diagram-type-btn ${Da==="state"?"active":""}`,onClick:()=>Ua("state"),children:[e.jsx("i",{className:"fas fa-circle-notch"}),e.jsx("span",{children:"Estados"})]}),e.jsxs("button",{className:`diagram-type-btn ${Da==="journey"?"active":""}`,onClick:()=>Ua("journey"),children:[e.jsx("i",{className:"fas fa-route"}),e.jsx("span",{children:"Journey"})]}),e.jsxs("button",{className:`diagram-type-btn ${Da==="gantt"?"active":""}`,onClick:()=>Ua("gantt"),children:[e.jsx("i",{className:"fas fa-tasks"}),e.jsx("span",{children:"Gantt"})]}),e.jsxs("button",{className:`diagram-type-btn ${Da==="pie"?"active":""}`,onClick:()=>Ua("pie"),children:[e.jsx("i",{className:"fas fa-chart-pie"}),e.jsx("span",{children:"Pie"})]}),e.jsxs("button",{className:`diagram-type-btn ${Da==="mindmap"?"active":""}`,onClick:()=>Ua("mindmap"),children:[e.jsx("i",{className:"fas fa-brain"}),e.jsx("span",{children:"Mindmap"})]})]})]}),Da==="flowchart"&&e.jsxs("div",{className:"control-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-arrows-alt"})," Direccin"]}),e.jsxs("div",{className:"direction-selector",children:[e.jsxs("button",{className:`direction-btn ${Wt==="TB"?"active":""}`,onClick:()=>_n("TB"),title:"Arriba a Abajo",children:[e.jsx("i",{className:"fas fa-arrow-down"})," TB"]}),e.jsxs("button",{className:`direction-btn ${Wt==="LR"?"active":""}`,onClick:()=>_n("LR"),title:"Izquierda a Derecha",children:[e.jsx("i",{className:"fas fa-arrow-right"})," LR"]}),e.jsxs("button",{className:`direction-btn ${Wt==="BT"?"active":""}`,onClick:()=>_n("BT"),title:"Abajo a Arriba",children:[e.jsx("i",{className:"fas fa-arrow-up"})," BT"]}),e.jsxs("button",{className:`direction-btn ${Wt==="RL"?"active":""}`,onClick:()=>_n("RL"),title:"Derecha a Izquierda",children:[e.jsx("i",{className:"fas fa-arrow-left"})," RL"]})]})]}),e.jsxs("div",{className:"control-group ai-diagram-section",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-robot"})," Generar con IA"]}),e.jsxs("div",{className:"ai-prompt-container",children:[e.jsxs("div",{className:"ai-prompt-input-wrapper",children:[e.jsx("textarea",{ref:Vf,className:"ai-prompt-textarea",placeholder:"Describe el proceso que quieres diagramar... Ejemplo: 'Primero abrir navegador, luego navegar a Google, escribir en el buscador, esperar resultados, hacer clic en el primer enlace'",value:vi,onChange:o=>rs(o.target.value),rows:3}),e.jsx("button",{className:`btn btn-voice-diagram ${wn?"dictating":""}`,onClick:th,title:wn?"Detener dictado":"Dictar con voz",children:e.jsx("i",{className:`fas ${wn?"fa-stop-circle":"fa-microphone"}`})})]}),e.jsxs("div",{className:"ai-prompt-actions",children:[e.jsx("button",{className:"btn btn-ai-generate",onClick:rh,disabled:id||!vi.trim(),children:id?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-wand-magic-sparkles"})," Generar desde Texto"]})}),e.jsx("button",{className:"btn btn-clear-prompt",onClick:()=>rs(""),disabled:!vi,title:"Limpiar texto",children:e.jsx("i",{className:"fas fa-eraser"})})]})]}),e.jsxs("p",{className:"ai-hint",children:[e.jsx("i",{className:"fas fa-lightbulb"}),' Usa palabras como: "primero", "luego", "despus", "si", "mientras", etc.']})]}),e.jsxs("div",{className:"diagram-buttons-row",children:[e.jsx("button",{className:"btn btn-diagram-generate",onClick:Hf,disabled:td,children:td?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-magic"})," Desde Workflow"]})}),e.jsx("button",{className:"btn btn-workflow-generate",onClick:uh,disabled:ld||!Ft,title:"Generar pasos de workflow desde el diagrama actual",children:ld?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-arrow-right"})," Generar Workflow"]})})]})]}),e.jsxs("div",{className:"diagram-preview-area",children:[e.jsxs("div",{className:"diagram-preview-header",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-eye"})," Vista Previa"]}),e.jsxs("div",{className:"diagram-actions",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:ah,title:"Copiar cdigo Mermaid",children:e.jsx("i",{className:"fas fa-copy"})}),e.jsxs("button",{className:"btn btn-sm btn-success",onClick:eh,title:"Exportar como imagen",children:[e.jsx("i",{className:"fas fa-file-image"})," Exportar"]})]})]}),e.jsx("div",{className:"diagram-preview-container",ref:kn,children:Ft?e.jsx("div",{className:"mermaid-container",children:e.jsx("pre",{className:"mermaid",children:Ft})}):e.jsxs("div",{className:"diagram-placeholder",children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("h4",{children:"Genera un diagrama"}),e.jsx("p",{children:'Selecciona el tipo de diagrama y haz clic en "Generar Diagrama"'}),e.jsx("p",{className:"hint",children:i.length===0?"Agrega pasos a tu workflow primero":`Tu workflow tiene ${i.length} pasos listos para diagramar`})]})})]}),Ft&&e.jsxs("div",{className:"diagram-code-editor",children:[e.jsxs("div",{className:"code-editor-header",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-code"})," Cdigo Mermaid"]}),e.jsx("span",{className:"code-hint",children:"Puedes editar el cdigo manualmente"})]}),e.jsx("textarea",{className:"mermaid-code-input",value:Ft,onChange:o=>{jn(o.target.value),setTimeout(()=>cs(o.target.value),500)},rows:8,spellCheck:!1})]})]})]})}),Df&&e.jsx("div",{className:"modal-overlay",onClick:()=>Rr(!1),children:e.jsxs("div",{className:"modal-content modal-lg",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-code"})," Cargar desde Editor de Cdigo"]}),e.jsx("button",{className:"modal-close",onClick:()=>Rr(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"modal-body",children:is.length===0?e.jsxs("div",{className:"empty-code-actions",children:[e.jsx("i",{className:"fas fa-file-code"}),e.jsx("h4",{children:"No hay cdigo disponible"}),e.jsx("p",{children:"Exporta cdigo desde el Editor de Cdigo para usarlo en Workflows."}),e.jsxs("ol",{children:[e.jsxs("li",{children:["Ve al ",e.jsx("strong",{children:"Editor de Cdigo"})," en el men lateral"]}),e.jsx("li",{children:"Escribe o importa tu cdigo"}),e.jsxs("li",{children:["Haz clic en ",e.jsx("strong",{children:'"A Workflow"'})," para exportar"]}),e.jsx("li",{children:"Regresa aqu para cargar el cdigo"})]})]}):e.jsxs("div",{className:"code-actions-list",children:[e.jsxs("p",{className:"hint",children:[e.jsx("i",{className:"fas fa-info-circle"})," Selecciona el cdigo que deseas agregar al workflow:"]}),is.map((o,u)=>e.jsxs("div",{className:"code-action-item",children:[e.jsxs("div",{className:"code-action-info",children:[e.jsxs("div",{className:"code-action-header",children:[e.jsx("i",{className:"fas fa-file-code",style:{color:Wf(o.language)}}),e.jsx("span",{className:"code-action-name",children:o.name}),e.jsx("span",{className:"code-action-lang",children:o.language})]}),e.jsxs("pre",{className:"code-action-preview",children:[o.code.substring(0,200),"..."]}),e.jsxs("small",{className:"code-action-date",children:[e.jsx("i",{className:"fas fa-clock"})," ",new Date(o.createdAt).toLocaleString()]})]}),e.jsxs("div",{className:"code-action-buttons",children:[e.jsxs("button",{className:"btn btn-sm btn-success",onClick:()=>Bf(o),children:[e.jsx("i",{className:"fas fa-plus"})," Agregar"]}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>Ff(u),children:e.jsx("i",{className:"fas fa-trash"})})]})]},u))]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn btn-secondary",onClick:()=>Rr(!1),children:"Cerrar"})})]})}),qf&&e.jsx("div",{className:"modal-overlay",onClick:()=>ji(!1),children:e.jsxs("div",{className:"modal-content modal-lg",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, var(--primary-color), #8b5cf6)"},children:[e.jsxs("h3",{style:{color:"white"},children:[e.jsx("i",{className:"fas fa-save"})," Guardar Workflow"]}),e.jsx("button",{className:"modal-close",onClick:()=>ji(!1),style:{color:"white"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",style:{padding:"2rem"},children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-file-alt",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Nombre del Workflow"]}),e.jsx("input",{type:"text",value:t,onChange:o=>r(o.target.value),style:{width:"100%",padding:"0.875rem 1rem",background:"var(--dark-bg)",border:"2px solid var(--border-color)",borderRadius:"10px",color:"var(--text-primary)",fontSize:"1rem",fontWeight:"500"},placeholder:"Mi Workflow"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"0.75rem",color:"var(--text-secondary)",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-database",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Ubicacin de Guardado"]}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("button",{onClick:()=>cd("local"),style:{flex:1,padding:"1rem",background:yt==="local"?"linear-gradient(135deg, var(--primary-color), #8b5cf6)":"var(--dark-bg)",border:yt==="local"?"2px solid var(--primary-color)":"2px solid var(--border-color)",borderRadius:"12px",color:yt==="local"?"white":"var(--text-primary)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",transition:"all 0.3s"},children:[e.jsx("i",{className:"fas fa-hdd",style:{fontSize:"1.5rem"}}),e.jsx("span",{style:{fontWeight:"600"},children:"Almacenamiento Local"}),e.jsx("small",{style:{opacity:.8},children:"Guardado en el navegador"})]}),e.jsxs("button",{onClick:()=>cd("file"),style:{flex:1,padding:"1rem",background:yt==="file"?"linear-gradient(135deg, #22c55e, #16a34a)":"var(--dark-bg)",border:yt==="file"?"2px solid #22c55e":"2px solid var(--border-color)",borderRadius:"12px",color:yt==="file"?"white":"var(--text-primary)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",transition:"all 0.3s"},children:[e.jsx("i",{className:"fas fa-file-download",style:{fontSize:"1.5rem"}}),e.jsx("span",{style:{fontWeight:"600"},children:"Descargar Archivo"}),e.jsx("small",{style:{opacity:.8},children:"Archivo .alq en tu PC"})]})]})]}),yt==="local"&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[e.jsxs("label",{style:{color:"var(--text-secondary)",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-folder-open",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Carpeta de Destino"]}),e.jsxs("button",{onClick:()=>ls(!ud),style:{background:"transparent",border:"none",color:"var(--primary-color)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[e.jsx("i",{className:"fas fa-folder-plus"})," Nueva Carpeta"]})]}),ud&&e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",padding:"1rem",background:"var(--bg-secondary)",borderRadius:"10px",border:"1px dashed var(--primary-color)"},children:[e.jsx("input",{type:"text",value:ki,onChange:o=>ns(o.target.value),placeholder:"Nombre de la nueva carpeta...",onKeyPress:o=>o.key==="Enter"&&Hc(),style:{flex:1,padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"}}),e.jsx("button",{className:"btn btn-primary",onClick:Hc,children:e.jsx("i",{className:"fas fa-check"})}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>{ls(!1),ns("")},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.75rem",maxHeight:"280px",overflowY:"auto",padding:"0.5rem"},children:[Pf.map(o=>e.jsxs("button",{onClick:()=>_i(o.name),style:{padding:"1rem",background:Ga===o.name?`${o.color}20`:"var(--dark-bg)",border:Ga===o.name?`2px solid ${o.color}`:"2px solid var(--border-color)",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[e.jsx("i",{className:`fas ${o.icon}`,style:{fontSize:"1.75rem",color:o.color}}),e.jsx("span",{style:{fontSize:"0.85rem",color:Ga===o.name?o.color:"var(--text-primary)",fontWeight:Ga===o.name?"600":"400"},children:o.name})]},o.name)),Cn.map(o=>e.jsxs("div",{style:{position:"relative",padding:"1rem",background:Ga===o?"rgba(139, 92, 246, 0.2)":"var(--dark-bg)",border:Ga===o?"2px solid #8b5cf6":"2px solid var(--border-color)",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},onClick:()=>_i(o),children:[e.jsx("button",{onClick:u=>{u.stopPropagation(),Af(o)},style:{position:"absolute",top:"4px",right:"4px",background:"var(--danger-color)",border:"none",borderRadius:"50%",width:"20px",height:"20px",color:"white",fontSize:"0.65rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Eliminar carpeta",children:e.jsx("i",{className:"fas fa-times"})}),e.jsx("i",{className:"fas fa-folder",style:{fontSize:"1.75rem",color:"#8b5cf6"}}),e.jsx("span",{style:{fontSize:"0.85rem",color:Ga===o?"#8b5cf6":"var(--text-primary)",fontWeight:Ga===o?"600":"400",textAlign:"center",wordBreak:"break-word"},children:o})]},o))]}),Ga&&e.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",background:"var(--bg-secondary)",borderRadius:"8px",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-check-circle",style:{color:"var(--success-color)"}}),e.jsx("span",{style:{color:"var(--text-secondary)"},children:"Se guardar en:"}),e.jsx("strong",{style:{color:"var(--primary-color)"},children:Ga})]})]}),e.jsxs("div",{style:{padding:"1rem",background:"linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(139, 92, 246, 0.1))",borderRadius:"12px",border:"1px solid rgba(37, 99, 235, 0.2)"},children:[e.jsxs("h4",{style:{margin:"0 0 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-info-circle",style:{color:"var(--primary-color)"}}),"Resumen"]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-layer-group",style:{color:"var(--text-secondary)"}}),e.jsxs("span",{children:[ps(i)," pasos"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-cube",style:{color:"var(--text-secondary)"}}),e.jsxs("span",{children:[me.length," variables"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-calendar",style:{color:"var(--text-secondary)"}}),e.jsx("span",{children:new Date().toLocaleDateString()})]})]})]})]}),e.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",padding:"1rem 2rem"},children:[e.jsxs("button",{className:"btn btn-secondary",onClick:()=>ji(!1),children:[e.jsx("i",{className:"fas fa-times"})," Cancelar"]}),e.jsxs("button",{className:"btn btn-success",onClick:Tf,style:{background:"linear-gradient(135deg, #22c55e, #16a34a)",border:"none"},children:[e.jsx("i",{className:"fas fa-save"})," Guardar Workflow"]})]})]})}),fe&&e.jsx("div",{className:"modal-overlay",onClick:()=>M(!1),children:e.jsxs("div",{className:"modal-content modal-lg",onClick:o=>o.stopPropagation(),style:{maxWidth:"900px"},children:[e.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #06b6d4, #0891b2)"},children:[e.jsxs("h3",{style:{color:"white"},children:[e.jsx("i",{className:"fas fa-eye"})," ",a("wf_preview")," - ",t]}),e.jsx("button",{className:"modal-close",onClick:()=>M(!1),style:{color:"white"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:[e.jsx("div",{style:{marginBottom:"1rem",padding:"1rem",background:"rgba(6, 182, 212, 0.1)",borderRadius:"10px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-layer-group"})," ",i.length," ",a("wf_steps")]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-cube"})," ",me.length," ",a("wf_variables")]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-clock"})," ~",Math.ceil(i.length*.8),"s ",a("wf_estimated")]})]})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsxs("div",{style:{padding:"0.75rem",background:"linear-gradient(135deg, #22c55e, #16a34a)",borderRadius:"8px",color:"white",textAlign:"center"},children:[e.jsx("i",{className:"fas fa-play"})," ",a("wf_start")]}),i.map((o,u)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:"600"},children:u+1}),e.jsxs("div",{style:{flex:1,padding:"0.75rem",background:"var(--card-bg)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:`fas ${o.icon||"fa-cog"}`,style:{color:"var(--primary)"}}),e.jsx("strong",{children:o.label})]}),o.properties&&Object.keys(o.properties).length>0&&e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:Object.entries(o.properties).slice(0,2).map(([v,E])=>e.jsxs("span",{style:{marginRight:"1rem"},children:[v,": ",String(E).substring(0,30)]},v))})]})]},o.id)),e.jsxs("div",{style:{padding:"0.75rem",background:"linear-gradient(135deg, #ef4444, #dc2626)",borderRadius:"8px",color:"white",textAlign:"center"},children:[e.jsx("i",{className:"fas fa-stop"})," ",a("wf_end")]})]})]}),e.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[e.jsxs("button",{className:"btn btn-secondary",onClick:()=>M(!1),children:[e.jsx("i",{className:"fas fa-times"})," ",a("btn_close")]}),e.jsxs("button",{className:"btn btn-success",onClick:()=>{M(!1),Xe()},children:[e.jsx("i",{className:"fas fa-play"})," ",a("wf_execute")]})]})]})}),Q&&e.jsx("div",{className:"modal-overlay",onClick:()=>se(!1),children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"450px"},children:[e.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #ef4444, #dc2626)"},children:[e.jsxs("h3",{style:{color:"white"},children:[e.jsx("i",{className:"fas fa-exclamation-triangle"})," ",a("msg_confirm_delete")]}),e.jsx("button",{className:"modal-close",onClick:()=>se(!1),style:{color:"white"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",style:{textAlign:"center",padding:"2rem"},children:[e.jsx("div",{style:{fontSize:"4rem",color:"#ef4444",marginBottom:"1rem"},children:e.jsx("i",{className:"fas fa-trash-alt"})}),e.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"0.5rem"},children:a("msg_confirm_delete")}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:e.jsxs("strong",{children:['"',t,'"']})}),e.jsxs("p",{style:{fontSize:"0.9rem",color:"#ef4444",marginTop:"1rem"},children:[e.jsx("i",{className:"fas fa-exclamation-circle"})," ",a("msg_action_irreversible")||"Esta accin no se puede deshacer"]})]}),e.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"center",gap:"1rem"},children:[e.jsxs("button",{className:"btn btn-secondary",onClick:()=>se(!1),children:[e.jsx("i",{className:"fas fa-times"})," ",a("btn_cancel")]}),e.jsxs("button",{className:"btn btn-danger",onClick:St,children:[e.jsx("i",{className:"fas fa-trash"})," ",a("btn_delete")]})]})]})}),W&&e.jsxs("div",{className:"execution-bar",style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #1e293b, #0f172a)",borderRadius:"16px",padding:"1rem 2rem",boxShadow:"0 10px 40px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.1)",zIndex:9999,minWidth:"500px",animation:"slideUp 0.3s ease"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:B?"linear-gradient(135deg, #22c55e, #16a34a)":"#22c55e",display:"flex",alignItems:"center",justifyContent:"center",animation:B?"pulse 1.5s infinite":"none"},children:e.jsx("i",{className:`fas ${B?"fa-cog fa-spin":"fa-check"}`,style:{color:"white"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"white"},children:B?a("wf_executing")||"Ejecutando...":a("wf_completed")||"Completado"}),e.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:J?J.label:t})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsxs("span",{style:{color:"#22c55e",fontWeight:"600",fontSize:"1.1rem"},children:[K,"%"]}),B&&e.jsxs("button",{onClick:et,style:{background:"#ef4444",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-stop"})," ",a("btn_stop")]}),!B&&e.jsx("button",{onClick:()=>Y(!1),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",color:"white",cursor:"pointer"},children:e.jsx("i",{className:"fas fa-times"})})]})]}),e.jsx("div",{style:{height:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${K}%`,background:"linear-gradient(90deg, #22c55e, #16a34a)",borderRadius:"4px",transition:"width 0.3s ease"}})})]}),na&&e.jsx("div",{className:"win-messagebox-overlay",children:e.jsxs("div",{className:"win-messagebox",children:[e.jsxs("div",{className:`win-titlebar ${Ae.type}`,children:[e.jsx("div",{className:"win-titlebar-icon",children:e.jsx("img",{src:Ae.type==="error"?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="%23ff0000"/><path d="M8 8l8 8M16 8l-8 8" stroke="white" stroke-width="2"/></svg>':Ae.type==="warning"?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2L2 22h20L12 2z" fill="%23ffcc00"/><text x="12" y="18" text-anchor="middle" font-size="14" font-weight="bold">!</text></svg>':Ae.type==="success"?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="%2300aa00"/><path d="M7 12l3 3 7-7" stroke="white" stroke-width="2" fill="none"/></svg>':Ae.type==="question"?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="%230066cc"/><text x="12" y="17" text-anchor="middle" font-size="14" font-weight="bold" fill="white">?</text></svg>':'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="%230066cc"/><text x="12" y="17" text-anchor="middle" font-size="14" font-weight="bold" fill="white">i</text></svg>',alt:"",className:"win-title-icon"})}),e.jsx("span",{className:"win-title-text",children:Ae.title||"Alqvimia"}),e.jsx("div",{className:"win-titlebar-buttons",children:e.jsx("button",{className:"win-btn-close",onClick:yi,children:e.jsx("span",{children:""})})})]}),e.jsxs("div",{className:"win-content",children:[e.jsx("div",{className:"win-icon",children:e.jsx("img",{src:Ae.type==="error"?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><circle cx="24" cy="24" r="22" fill="%23ff0000"/><circle cx="24" cy="24" r="18" fill="%23cc0000"/><path d="M16 16l16 16M32 16l-16 16" stroke="white" stroke-width="4" stroke-linecap="round"/></svg>':Ae.type==="warning"?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M24 4L4 44h40L24 4z" fill="%23ffcc00" stroke="%23000" stroke-width="1"/><text x="24" y="38" text-anchor="middle" font-size="28" font-weight="bold">!</text></svg>':Ae.type==="success"?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><circle cx="24" cy="24" r="22" fill="%2300aa00"/><circle cx="24" cy="24" r="18" fill="%23008800"/><path d="M14 24l7 7 14-14" stroke="white" stroke-width="4" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>':Ae.type==="question"?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><circle cx="24" cy="24" r="22" fill="%230066cc"/><circle cx="24" cy="24" r="18" fill="%23004499"/><text x="24" y="32" text-anchor="middle" font-size="28" font-weight="bold" fill="white">?</text></svg>':'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><circle cx="24" cy="24" r="22" fill="%230066cc"/><circle cx="24" cy="24" r="18" fill="%23004499"/><text x="24" y="32" text-anchor="middle" font-size="28" font-weight="bold" fill="white">i</text></svg>',alt:"",className:"win-message-icon"})}),e.jsxs("div",{className:"win-message",children:[e.jsx("p",{children:Ae.message||"Mensaje del sistema"}),e.jsxs("div",{className:"win-timer",children:[e.jsx("span",{className:"win-timer-label",children:"Tiempo:"}),e.jsx("span",{className:"win-timer-value",children:yn($)})]})]})]}),e.jsx("div",{className:"win-buttons",children:e.jsx("button",{className:"win-btn",onClick:yi,children:"Aceptar"})})]})})]})})}function fx(){const{t:a}=Ta(),[t,r]=f.useState(!1),[i,n]=f.useState(0),[l,s]=f.useState(null),[c,p]=f.useState(0),[h,w]=f.useState([]),{socket:m,isConnected:b}=Er();f.useEffect(()=>{if(m)return m.on("execution-progress",y=>{n(y.progress),s(y.currentStep),p(y.totalSteps)}),m.on("execution-log",y=>{w(g=>[...g,y])}),m.on("execution-complete",()=>{r(!1),n(100)}),m.on("execution-error",y=>{r(!1),w(g=>[...g,{type:"error",message:y.message,timestamp:new Date().toISOString()}])}),()=>{m.off("execution-progress"),m.off("execution-log"),m.off("execution-complete"),m.off("execution-error")}},[m]);const j=()=>{if(!b){alert("Conecta al servidor primero");return}r(!0),n(0),w([]),m&&m.emit("execute-workflow")},N=()=>{r(!1),m&&m.emit("stop-execution")},_=y=>{switch(y){case"success":return"fa-check-circle";case"error":return"fa-times-circle";case"warning":return"fa-exclamation-triangle";default:return"fa-info-circle"}},D=y=>{switch(y){case"success":return"#10b981";case"error":return"#ef4444";case"warning":return"#f59e0b";default:return"#3b82f6"}};return e.jsxs("div",{className:"view",id:"executor-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-play-circle"})," Ejecutor de Workflows"]}),e.jsx("p",{children:"Ejecuta y monitorea tus workflows de automatizacin"})]}),e.jsxs("div",{className:"executor-panel",children:[e.jsxs("div",{className:"execution-controls",children:[e.jsxs("button",{className:"btn btn-success btn-lg",id:"executeWorkflow",onClick:j,disabled:t,children:[e.jsx("i",{className:"fas fa-play"})," Ejecutar Workflow Actual"]}),e.jsxs("button",{className:"btn btn-danger btn-lg",id:"stopExecution",onClick:N,disabled:!t,children:[e.jsx("i",{className:"fas fa-stop"})," Detener Ejecucin"]})]}),e.jsxs("div",{className:"execution-monitor",children:[e.jsx("h3",{children:"Monitor de Ejecucin"}),e.jsx("div",{className:"monitor-display",id:"executionMonitor",children:!t&&i===0?e.jsxs("div",{className:"monitor-idle",children:[e.jsx("i",{className:"fas fa-robot"}),e.jsx("p",{children:"Esperando ejecucin..."})]}):e.jsx("div",{className:"monitor-active",children:e.jsx("div",{className:"execution-status",children:t?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsxs("span",{children:["Ejecutando paso ",l," de ",c]})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check-circle",style:{color:"#10b981"}}),e.jsx("span",{children:"Ejecucin completada"})]})})})}),e.jsxs("div",{className:"progress-section",id:"progressSection",style:{display:t||i>0?"block":"none"},children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",id:"progressFill",style:{width:`${i}%`}})}),e.jsxs("span",{className:"progress-text",children:[i,"%"]})]})]}),e.jsxs("div",{className:"execution-log",children:[e.jsx("h3",{children:"Log de Ejecucin"}),e.jsx("div",{className:"log-list",id:"executionLog",children:h.length===0?e.jsxs("div",{className:"log-empty",children:[e.jsx("i",{className:"fas fa-list"}),e.jsx("p",{children:"Los logs aparecern aqu durante la ejecucin"})]}):h.map((y,g)=>e.jsxs("div",{className:`log-entry ${y.type}`,children:[e.jsx("i",{className:`fas ${_(y.type)}`,style:{color:D(y.type)}}),e.jsx("span",{className:"log-time",children:new Date(y.timestamp).toLocaleTimeString()}),e.jsx("span",{className:"log-message",children:y.message})]},g))})]})]})]})}function hx(){const{t:a}=Ta(),[t,r]=f.useState([]),[i,n]=f.useState(""),[l,s]=f.useState(!1),[c,p]=f.useState([]),[h,w]=f.useState(!1),[m,b]=f.useState(null),[j,N]=f.useState(!1),[_,D]=f.useState(!1),y=f.useRef(null),{socket:g,isConnected:d}=Er(),T=async()=>{s(!0);try{const H=JSON.parse(localStorage.getItem("alqvimia-workflows")||"[]");r(H);const Z=await fetch("http://localhost:4000/api/workflows");if(Z.ok){const ne=await Z.json();ne.workflows&&r(ne.workflows)}}catch(H){console.error("Error cargando workflows:",H)}finally{s(!1)}};f.useEffect(()=>{T();const H=ye=>{ye.key==="alqvimia-workflows"&&T()},Z=()=>{T()};window.addEventListener("storage",H),window.addEventListener("workflow-saved",Z);const ne=setInterval(T,5e3);return()=>{window.removeEventListener("storage",H),window.removeEventListener("workflow-saved",Z),clearInterval(ne)}},[]);const z=t.filter(H=>{var Z;return(Z=H.name)==null?void 0:Z.toLowerCase().includes(i.toLowerCase())}),q=async H=>{if(window.confirm("Eliminar este workflow?")){const Z=t.filter(ne=>ne.id!==H);r(Z),localStorage.setItem("alqvimia-workflows",JSON.stringify(Z))}},P=H=>{g&&d&&g.emit("execute-workflow",{workflowId:H.id})},L=H=>{p(Z=>Z.includes(H)?Z.filter(ne=>ne!==H):[...Z,H])},te=()=>{c.length===z.length?p([]):p(z.map(H=>H.id))},X=async()=>{if(c.length===0){alert("Selecciona al menos un workflow");return}D(!0);try{const H=t.filter(J=>c.includes(J.id)),Z={_export:{version:"2.0",format:"alqvimia-export",exportedAt:new Date().toISOString(),count:H.length},workflows:H.map(J=>({id:J.id,name:J.name,description:J.description,actions:J.actions||[],variables:J.variables||[],targetWindow:J.targetWindow,createdAt:J.createdAt,_wfl:J._wfl}))},ne=JSON.stringify(Z,null,2),B="ALQZIP1"+btoa(unescape(encodeURIComponent(ne))),G=new Blob([B],{type:"application/x-alqvimia-zip"}),K=URL.createObjectURL(G),S=document.createElement("a");S.href=K,S.download=`alqvimia_export_${new Date().toISOString().split("T")[0]}.alqzip`,S.click(),URL.revokeObjectURL(K),alert(`Exportados ${H.length} workflows`),p([])}catch(H){console.error("Error exportando:",H),alert("Error al exportar")}finally{D(!1)}},O=H=>{var J;const Z={_wfl:{version:"2.0",format:"alqvimia-workflow"},...H},ne=JSON.stringify(Z,null,2),B="ALQWFL2"+btoa(unescape(encodeURIComponent(ne))),G=new Blob([B],{type:"application/x-alqvimia-workflow"}),K=URL.createObjectURL(G),S=document.createElement("a");S.href=K,S.download=`${((J=H.name)==null?void 0:J.replace(/[^a-zA-Z0-9]/g,"_"))||"workflow"}.wfl`,S.click(),URL.revokeObjectURL(K)},be=H=>{const Z=H.target.files[0];Z&&b(Z)},me=async()=>{if(!m){alert("Selecciona un archivo");return}N(!0);try{const H=await m.text();let Z;if(H.startsWith("ALQZIP1")){const ne=H.substring(7),ye=decodeURIComponent(escape(atob(ne)));if(Z=JSON.parse(ye),Z.workflows&&Array.isArray(Z.workflows)){const B=t,G=Z.workflows.map(S=>({...S,id:`wf_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,importedAt:new Date().toISOString()})),K=[...B,...G];r(K),localStorage.setItem("alqvimia-workflows",JSON.stringify(K)),alert(`Importados ${G.length} workflows`)}}else if(H.startsWith("ALQWFL2")){const ne=H.substring(7),ye=decodeURIComponent(escape(atob(ne))),B=JSON.parse(ye),G={...B,id:`wf_${Date.now()}`,importedAt:new Date().toISOString()},K=[...t,G];r(K),localStorage.setItem("alqvimia-workflows",JSON.stringify(K)),alert(`Importado: ${B.name}`)}else if(Z=JSON.parse(H),Z.name&&Z.actions){const ne={...Z,id:`wf_${Date.now()}`,importedAt:new Date().toISOString()},ye=[...t,ne];r(ye),localStorage.setItem("alqvimia-workflows",JSON.stringify(ye)),alert(`Importado: ${Z.name}`)}w(!1),b(null),y.current&&(y.current.value="")}catch(H){console.error("Error importando:",H),alert("Error al importar. Archivo no vlido.")}finally{N(!1)}};return e.jsxs("div",{className:"view",id:"library-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-folder-open"})," Biblioteca de Workflows"]}),e.jsx("p",{children:"Gestiona, exporta e importa tus workflows"})]}),e.jsxs("div",{className:"library-content",children:[e.jsxs("div",{className:"library-toolbar",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap",alignItems:"center"},children:[e.jsx("input",{type:"text",placeholder:"Buscar workflows...",value:i,onChange:H=>n(H.target.value),style:{flex:"1",minWidth:"200px",padding:"0.75rem 1rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"}}),e.jsxs("button",{className:"btn btn-secondary",onClick:T,disabled:l,children:[e.jsx("i",{className:`fas fa-sync ${l?"fa-spin":""}`})," Actualizar"]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>w(!0),children:[e.jsx("i",{className:"fas fa-file-import"})," Importar"]}),c.length>0&&e.jsxs("button",{className:"btn btn-success",onClick:X,disabled:_,children:[e.jsx("i",{className:`fas ${_?"fa-spinner fa-spin":"fa-file-export"}`}),"Exportar (",c.length,")"]})]}),z.length>0&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem",padding:"0.75rem 1rem",background:"var(--bg-secondary)",borderRadius:"8px"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:c.length===z.length&&z.length>0,onChange:te,style:{width:"18px",height:"18px"}}),e.jsx("span",{children:"Seleccionar todos"})]}),e.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:[c.length," seleccionados"]})]}),e.jsx("div",{className:"workflows-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:z.length===0?e.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",color:"var(--text-muted)"},children:[e.jsx("i",{className:"fas fa-inbox",style:{fontSize:"3rem",marginBottom:"1rem",opacity:.5}}),e.jsx("p",{children:"No hay workflows"}),e.jsx("small",{children:"Graba o importa workflows para comenzar"})]}):z.map(H=>{var Z;return e.jsxs("div",{className:`workflow-card ${c.includes(H.id)?"selected":""}`,style:{background:"var(--bg-secondary)",borderRadius:"12px",border:c.includes(H.id)?"2px solid var(--primary-color)":"1px solid var(--border-color)",overflow:"hidden"},children:[e.jsxs("div",{className:"workflow-card-header",style:{padding:"1rem",background:"var(--bg-tertiary)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("input",{type:"checkbox",checked:c.includes(H.id),onChange:()=>L(H.id),style:{width:"18px",height:"18px"}}),e.jsx("i",{className:"fas fa-project-diagram",style:{color:"var(--primary-color)"}}),e.jsx("h4",{style:{margin:0,flex:1,fontSize:"1rem"},children:H.name})]}),e.jsxs("div",{className:"workflow-card-body",style:{padding:"1rem"},children:[e.jsx("p",{style:{margin:"0 0 1rem",color:"var(--text-muted)",fontSize:"0.875rem",minHeight:"40px"},children:H.description||"Sin descripcin"}),e.jsxs("div",{className:"workflow-meta",style:{display:"flex",gap:"1rem",fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"1rem"},children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-list"})," ",((Z=H.actions)==null?void 0:Z.length)||0," acciones"]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-calendar"})," ",new Date(H.createdAt).toLocaleDateString()]})]}),H.targetWindow&&e.jsxs("div",{style:{padding:"0.5rem",background:"var(--bg-tertiary)",borderRadius:"6px",fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"1rem"},children:[e.jsx("i",{className:"fas fa-desktop"})," ",H.targetWindow.processName]})]}),e.jsxs("div",{className:"workflow-card-footer",style:{padding:"0.75rem 1rem",borderTop:"1px solid var(--border-color)",display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>P(H),title:"Ejecutar",style:{flex:1},children:e.jsx("i",{className:"fas fa-play"})}),e.jsx("button",{className:"btn btn-sm btn-info",onClick:()=>O(H),title:"Descargar .wfl",children:e.jsx("i",{className:"fas fa-download"})}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>q(H.id),title:"Eliminar",children:e.jsx("i",{className:"fas fa-trash"})})]})]},H.id)})})]}),h&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),style:{maxWidth:"500px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-file-import"})," Importar Workflows"]}),e.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{border:"2px dashed var(--border-color)",borderRadius:"12px",padding:"2rem",textAlign:"center",marginBottom:"1.5rem",background:"var(--bg-tertiary)"},children:[e.jsx("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"3rem",color:"var(--primary-color)",marginBottom:"1rem"}}),e.jsx("p",{style:{margin:"0 0 1rem",color:"var(--text-primary)"},children:"Arrastra un archivo o haz clic para seleccionar"}),e.jsx("input",{type:"file",ref:y,accept:".wfl,.alqzip,.json",onChange:be,style:{display:"none"},id:"import-file"}),e.jsxs("label",{htmlFor:"import-file",className:"btn btn-primary",style:{cursor:"pointer"},children:[e.jsx("i",{className:"fas fa-folder-open"})," Seleccionar Archivo"]})]}),m&&e.jsxs("div",{style:{padding:"1rem",background:"var(--bg-secondary)",borderRadius:"8px",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-file",style:{color:"var(--primary-color)",fontSize:"1.5rem"}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:"500"},children:m.name}),e.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[(m.size/1024).toFixed(2)," KB"]})]}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>b(null),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"rgba(99, 102, 241, 0.1)",borderRadius:"8px",fontSize:"0.85rem"},children:[e.jsx("strong",{children:"Formatos soportados:"}),e.jsxs("ul",{style:{margin:"0.5rem 0 0",paddingLeft:"1.5rem"},children:[e.jsxs("li",{children:[e.jsx("code",{children:".wfl"})," - Workflow individual (Alqvimia)"]}),e.jsxs("li",{children:[e.jsx("code",{children:".alqzip"})," - Mltiples workflows (Alqvimia)"]}),e.jsxs("li",{children:[e.jsx("code",{children:".json"})," - Formato JSON estndar"]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>w(!1),children:"Cancelar"}),e.jsx("button",{className:"btn btn-primary",onClick:me,disabled:!m||j,children:j?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Importando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-file-import"})," Importar"]})})]})]})})]})}function bx(){const{t:a}=Ta(),[t,r]=f.useState("overview"),[i]=f.useState({documentsProcessed:1247,processesDiscovered:32,tasksAutomated:156,timeSaved:"342h",accuracy:"96.8%",activeAgents:8}),[n]=f.useState([{id:1,name:"Proceso de Facturacin",variants:12,cases:3420,avgTime:"4.2h",bottleneck:"Aprobacin manual"},{id:2,name:"Onboarding de Clientes",variants:8,cases:890,avgTime:"2.1 das",bottleneck:"Verificacin documentos"},{id:3,name:"Gestin de Pedidos",variants:15,cases:5670,avgTime:"6.5h",bottleneck:"Stock checking"},{id:4,name:"Soporte al Cliente",variants:6,cases:2340,avgTime:"45min",bottleneck:"Escalacin nivel 2"}]),[l]=f.useState([{id:1,task:"Copiar datos entre sistemas",frequency:234,avgTime:"3.2min",automatable:95,priority:"Alta"},{id:2,task:"Validar informacin de cliente",frequency:189,avgTime:"5.1min",automatable:78,priority:"Alta"},{id:3,task:"Generar reportes mensuales",frequency:45,avgTime:"25min",automatable:92,priority:"Media"},{id:4,task:"Actualizar inventario",frequency:312,avgTime:"2.8min",automatable:88,priority:"Alta"},{id:5,task:"Enviar notificaciones",frequency:567,avgTime:"1.5min",automatable:98,priority:"Media"}]),[s]=f.useState([{type:"Facturas",icon:"fa-file-invoice-dollar",count:4523,accuracy:98.2,color:"#22c55e"},{type:"Contratos",icon:"fa-file-contract",count:892,accuracy:94.5,color:"#3b82f6"},{type:"rdenes de Compra",icon:"fa-shopping-cart",count:2341,accuracy:97.1,color:"#8b5cf6"},{type:"Formularios",icon:"fa-wpforms",count:1567,accuracy:95.8,color:"#f59e0b"},{type:"Recibos",icon:"fa-receipt",count:3789,accuracy:96.9,color:"#ec4899"},{type:"ID Documents",icon:"fa-id-card",count:678,accuracy:99.1,color:"#06b6d4"}]),[c]=f.useState([{id:1,name:"Agente de Facturacin",status:"active",tasks:45,success:98.5,lastRun:"Hace 5 min"},{id:2,name:"Agente de Emails",status:"active",tasks:123,success:97.2,lastRun:"Hace 2 min"},{id:3,name:"Agente de Datos",status:"paused",tasks:78,success:99.1,lastRun:"Hace 1 hora"},{id:4,name:"Agente de Reportes",status:"active",tasks:34,success:96.8,lastRun:"Hace 15 min"},{id:5,name:"Agente de Inventario",status:"error",tasks:12,success:85.3,lastRun:"Hace 30 min"}]),[p]=f.useState({emails:{total:12450,sentiment:{positive:45,neutral:42,negative:13},topics:["Soporte","Ventas","Facturacin"]},chats:{total:8920,sentiment:{positive:52,neutral:38,negative:10},topics:["Preguntas","Quejas","Solicitudes"]},calls:{total:3420,sentiment:{positive:48,neutral:40,negative:12},topics:["Consultas","Reclamos","Ventas"]}}),h=[{id:"overview",name:"Overview",icon:"fa-th-large",color:"#6366f1"},{id:"process-mining",name:"Process Mining",icon:"fa-project-diagram",color:"#22c55e"},{id:"task-mining",name:"Task Mining",icon:"fa-tasks",color:"#3b82f6"},{id:"document-understanding",name:"Document Understanding",icon:"fa-file-invoice",color:"#8b5cf6"},{id:"agentic-automation",name:"Agentic Automation",icon:"fa-robot",color:"#f59e0b"},{id:"communications-mining",name:"Communications Mining",icon:"fa-comments",color:"#ec4899"},{id:"test-suite",name:"Test Suite",icon:"fa-vial",color:"#06b6d4"}],w=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[{label:"Documentos Procesados",value:i.documentsProcessed.toLocaleString(),icon:"fa-file-alt",color:"#6366f1"},{label:"Procesos Descubiertos",value:i.processesDiscovered,icon:"fa-sitemap",color:"#22c55e"},{label:"Tareas Automatizadas",value:i.tasksAutomated,icon:"fa-cogs",color:"#3b82f6"},{label:"Tiempo Ahorrado",value:i.timeSaved,icon:"fa-clock",color:"#f59e0b"},{label:"Precisin Promedio",value:i.accuracy,icon:"fa-bullseye",color:"#ec4899"},{label:"Agentes Activos",value:i.activeAgents,icon:"fa-robot",color:"#8b5cf6"}].map((d,T)=>e.jsx("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-color)",transition:"all 0.3s"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"12px",background:`linear-gradient(135deg, ${d.color}, ${d.color}aa)`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:`fas ${d.icon}`,style:{fontSize:"1.5rem",color:"white"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--text-primary)"},children:d.value}),e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:d.label})]})]})},T))}),e.jsxs("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-rocket",style:{color:"var(--primary-color)"}}),"Mdulos de IA/ML"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:h.filter(d=>d.id!=="overview").map(d=>e.jsxs("button",{onClick:()=>r(d.id),style:{background:"var(--dark-bg)",border:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",textAlign:"left",transition:"all 0.3s",position:"relative",overflow:"hidden"},onMouseOver:T=>{T.currentTarget.style.borderColor=d.color,T.currentTarget.style.transform="translateY(-4px)"},onMouseOut:T=>{T.currentTarget.style.borderColor="var(--border-color)",T.currentTarget.style.transform="translateY(0)"},children:[e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"100px",height:"100px",background:`linear-gradient(135deg, ${d.color}20, transparent)`,borderRadius:"0 16px 0 100%"}}),e.jsx("i",{className:`fas ${d.icon}`,style:{fontSize:"2.5rem",color:d.color,marginBottom:"1rem"}}),e.jsx("h4",{style:{margin:"0 0 0.5rem",color:"var(--text-primary)",fontSize:"1.1rem"},children:d.name}),e.jsxs("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.85rem"},children:[d.id==="process-mining"&&"Descubre y analiza procesos de negocio",d.id==="task-mining"&&"Identifica tareas automatizables",d.id==="document-understanding"&&"Extrae datos de documentos con IA",d.id==="agentic-automation"&&"Agentes autnomos inteligentes",d.id==="communications-mining"&&"Analiza emails, chats y llamadas",d.id==="test-suite"&&"Pruebas automatizadas con IA"]})]},d.id))})]}),m=()=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-project-diagram",style:{color:"#22c55e"}}),"Process Mining"]}),e.jsx("p",{style:{margin:"0.25rem 0 0",color:"var(--text-secondary)"},children:"Descubre, analiza y optimiza tus procesos de negocio"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx("i",{className:"fas fa-upload"})," Importar Log"]}),e.jsxs("button",{className:"btn btn-primary",style:{background:"#22c55e",borderColor:"#22c55e"},children:[e.jsx("i",{className:"fas fa-play"})," Nuevo Anlisis"]})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:n.map(d=>e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[e.jsx("h4",{style:{margin:0,color:"var(--text-primary)"},children:d.name}),e.jsxs("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[d.variants," variantes"]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Casos analizados"}),e.jsx("div",{style:{color:"var(--text-primary)",fontSize:"1.25rem",fontWeight:"600"},children:d.cases.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Tiempo promedio"}),e.jsx("div",{style:{color:"var(--text-primary)",fontSize:"1.25rem",fontWeight:"600"},children:d.avgTime})]})]}),e.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",borderRadius:"8px",padding:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-exclamation-triangle",style:{color:"#ef4444"}}),e.jsxs("span",{style:{color:"#ef4444",fontSize:"0.85rem"},children:["Cuello de botella: ",d.bottleneck]})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"btn btn-sm btn-secondary",style:{flex:1},children:[e.jsx("i",{className:"fas fa-sitemap"})," Ver Mapa"]}),e.jsxs("button",{className:"btn btn-sm btn-primary",style:{flex:1,background:"#22c55e",borderColor:"#22c55e"},children:[e.jsx("i",{className:"fas fa-magic"})," Optimizar"]})]})]},d.id))}),e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"2rem",border:"1px solid var(--border-color)",textAlign:"center"},children:[e.jsx("i",{className:"fas fa-project-diagram",style:{fontSize:"4rem",color:"var(--text-muted)",marginBottom:"1rem"}}),e.jsx("h4",{style:{color:"var(--text-primary)"},children:"Visualizacin de Procesos"}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Selecciona un proceso para ver su mapa de flujo interactivo"})]})]}),b=()=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-tasks",style:{color:"#3b82f6"}}),"Task Mining"]}),e.jsx("p",{style:{margin:"0.25rem 0 0",color:"var(--text-secondary)"},children:"Descubre tareas repetitivas candidatas para automatizacin"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx("i",{className:"fas fa-desktop"})," Iniciar Grabacin"]}),e.jsxs("button",{className:"btn btn-primary",style:{background:"#3b82f6",borderColor:"#3b82f6"},children:[e.jsx("i",{className:"fas fa-search"})," Analizar Tareas"]})]})]}),e.jsx("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",border:"1px solid var(--border-color)",overflow:"hidden"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"var(--bg-tertiary)"},children:[e.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"var(--text-secondary)"},children:"Tarea Detectada"}),e.jsx("th",{style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)"},children:"Frecuencia/da"}),e.jsx("th",{style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)"},children:"Tiempo Prom."}),e.jsx("th",{style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)"},children:"Automatizable"}),e.jsx("th",{style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)"},children:"Prioridad"}),e.jsx("th",{style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)"},children:"Accin"})]})}),e.jsx("tbody",{children:l.map(d=>e.jsxs("tr",{style:{borderTop:"1px solid var(--border-color)"},children:[e.jsx("td",{style:{padding:"1rem",color:"var(--text-primary)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-mouse-pointer",style:{color:"#3b82f6"}}),d.task]})}),e.jsxs("td",{style:{padding:"1rem",textAlign:"center",color:"var(--text-primary)",fontWeight:"600"},children:[d.frequency,"x"]}),e.jsx("td",{style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)"},children:d.avgTime}),e.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",background:d.automatable>=90?"rgba(34, 197, 94, 0.2)":d.automatable>=70?"rgba(245, 158, 11, 0.2)":"rgba(239, 68, 68, 0.2)",color:d.automatable>=90?"#22c55e":d.automatable>=70?"#f59e0b":"#ef4444",padding:"0.25rem 0.75rem",borderRadius:"20px",fontWeight:"600"},children:[d.automatable,"%"]})}),e.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:e.jsx("span",{style:{background:d.priority==="Alta"?"rgba(239, 68, 68, 0.2)":"rgba(245, 158, 11, 0.2)",color:d.priority==="Alta"?"#ef4444":"#f59e0b",padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"0.8rem",fontWeight:"500"},children:d.priority})}),e.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:e.jsxs("button",{className:"btn btn-sm btn-primary",style:{background:"#3b82f6",borderColor:"#3b82f6"},children:[e.jsx("i",{className:"fas fa-robot"})," Automatizar"]})})]},d.id))})]})}),e.jsxs("div",{style:{marginTop:"2rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1))",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(59, 130, 246, 0.3)"},children:[e.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-calculator",style:{color:"#3b82f6"}}),"Potencial de Ahorro Estimado"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#22c55e"},children:"847h"}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"Horas/mes ahorrables"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#3b82f6"},children:"$42,350"}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"Ahorro estimado/mes"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#8b5cf6"},children:"3.2 meses"}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"ROI estimado"})]})]})]})]}),j=()=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-file-invoice",style:{color:"#8b5cf6"}}),"Document Understanding (IDP)"]}),e.jsx("p",{style:{margin:"0.25rem 0 0",color:"var(--text-secondary)"},children:"Procesamiento Inteligente de Documentos con Machine Learning"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx("i",{className:"fas fa-graduation-cap"})," Entrenar Modelo"]}),e.jsxs("button",{className:"btn btn-primary",style:{background:"#8b5cf6",borderColor:"#8b5cf6"},children:[e.jsx("i",{className:"fas fa-upload"})," Procesar Documentos"]})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:s.map((d,T)=>e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"1.25rem",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer",transition:"all 0.3s"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:`${d.color}20`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:e.jsx("i",{className:`fas ${d.icon}`,style:{fontSize:"1.5rem",color:d.color}})}),e.jsx("h4",{style:{margin:"0 0 0.5rem",color:"var(--text-primary)",fontSize:"0.95rem"},children:d.type}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:d.color},children:d.count.toLocaleString()}),e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"documentos"}),e.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.25rem 0.5rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"20px",fontSize:"0.75rem",color:"#22c55e"},children:[d.accuracy,"% precisin"]})]},T))}),e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-color)",marginBottom:"2rem"},children:[e.jsxs("h4",{style:{margin:"0 0 1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-stream",style:{color:"#8b5cf6"}}),"Pipeline de Extraccin"]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"},children:[[{step:1,name:"Digitalizacin",icon:"fa-scanner",desc:"OCR y preprocesamiento"},{step:2,name:"Clasificacin",icon:"fa-tags",desc:"ML clasifica tipo documento"},{step:3,name:"Extraccin",icon:"fa-magic",desc:"NER extrae campos clave"},{step:4,name:"Validacin",icon:"fa-check-double",desc:"Reglas de negocio y confianza"},{step:5,name:"Exportacin",icon:"fa-database",desc:"Integracin con sistemas"}].map((d,T)=>e.jsxs("div",{style:{textAlign:"center",flex:1,position:"relative",zIndex:1},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"},children:e.jsx("i",{className:`fas ${d.icon}`,style:{fontSize:"1.25rem",color:"white"}})}),e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.25rem"},children:d.name}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:d.desc})]},T)),e.jsx("div",{style:{position:"absolute",top:"30px",left:"10%",right:"10%",height:"3px",background:"linear-gradient(90deg, #8b5cf6, #6366f1)",zIndex:0}})]})]}),e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-color)"},children:[e.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-list-alt",style:{color:"#8b5cf6"}}),"Campos Extrables (Ejemplo: Factura)"]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:["Nmero de Factura","Fecha","Proveedor","NIF/CIF","Direccin","Lneas de Producto","Subtotal","IVA","Total","Forma de Pago","Vencimiento","IBAN"].map((d,T)=>e.jsxs("span",{style:{background:"var(--bg-secondary)",padding:"0.5rem 1rem",borderRadius:"8px",color:"var(--text-primary)",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-check",style:{color:"#22c55e",fontSize:"0.7rem"}}),d]},T))})]})]}),N=()=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-robot",style:{color:"#f59e0b"}}),"Agentic Automation"]}),e.jsx("p",{style:{margin:"0.25rem 0 0",color:"var(--text-secondary)"},children:"Agentes autnomos inteligentes que trabajan por ti"})]}),e.jsxs("button",{className:"btn btn-primary",style:{background:"#f59e0b",borderColor:"#f59e0b"},children:[e.jsx("i",{className:"fas fa-plus"})," Crear Nuevo Agente"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:c.map(d=>e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"1.5rem",border:`2px solid ${d.status==="active"?"#22c55e":d.status==="paused"?"#f59e0b":"#ef4444"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #f59e0b, #d97706)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fas fa-robot",style:{fontSize:"1.25rem",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:"var(--text-primary)"},children:d.name}),e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:d.lastRun})]})]}),e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:d.status==="active"?"#22c55e":d.status==="paused"?"#f59e0b":"#ef4444",boxShadow:`0 0 10px ${d.status==="active"?"#22c55e":d.status==="paused"?"#f59e0b":"#ef4444"}`}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Tareas ejecutadas"}),e.jsx("div",{style:{color:"var(--text-primary)",fontSize:"1.25rem",fontWeight:"600"},children:d.tasks})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Tasa de xito"}),e.jsxs("div",{style:{color:d.success>=95?"#22c55e":d.success>=85?"#f59e0b":"#ef4444",fontSize:"1.25rem",fontWeight:"600"},children:[d.success,"%"]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[d.status==="active"?e.jsxs("button",{className:"btn btn-sm btn-secondary",style:{flex:1},children:[e.jsx("i",{className:"fas fa-pause"})," Pausar"]}):e.jsxs("button",{className:"btn btn-sm btn-success",style:{flex:1},children:[e.jsx("i",{className:"fas fa-play"})," Iniciar"]}),e.jsxs("button",{className:"btn btn-sm btn-primary",style:{flex:1},children:[e.jsx("i",{className:"fas fa-cog"})," Configurar"]}),e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx("i",{className:"fas fa-history"})})]})]},d.id))}),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05))",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[e.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-magic",style:{color:"#f59e0b"}}),"Capacidades de los Agentes"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[{name:"Toma de decisiones",icon:"fa-brain"},{name:"Manejo de excepciones",icon:"fa-shield-alt"},{name:"Aprendizaje continuo",icon:"fa-graduation-cap"},{name:"Colaboracin multi-agente",icon:"fa-users"},{name:"Integracin con LLMs",icon:"fa-comments"},{name:"Auto-optimizacin",icon:"fa-chart-line"}].map((d,T)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"var(--dark-bg)",borderRadius:"8px"},children:[e.jsx("i",{className:`fas ${d.icon}`,style:{color:"#f59e0b"}}),e.jsx("span",{style:{color:"var(--text-primary)",fontSize:"0.9rem"},children:d.name})]},T))})]})]}),_=()=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-comments",style:{color:"#ec4899"}}),"Communications Mining"]}),e.jsx("p",{style:{margin:"0.25rem 0 0",color:"var(--text-secondary)"},children:"Analiza emails, chats y llamadas para descubrir insights"})]}),e.jsxs("button",{className:"btn btn-primary",style:{background:"#ec4899",borderColor:"#ec4899"},children:[e.jsx("i",{className:"fas fa-plug"})," Conectar Fuentes"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1.5rem",marginBottom:"2rem"},children:[{channel:"Emails",icon:"fa-envelope",data:p.emails,color:"#3b82f6"},{channel:"Chats",icon:"fa-comment-dots",data:p.chats,color:"#22c55e"},{channel:"Llamadas",icon:"fa-phone",data:p.calls,color:"#8b5cf6"}].map((d,T)=>e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:`${d.color}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:`fas ${d.icon}`,style:{fontSize:"1.25rem",color:d.color}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:"var(--text-primary)"},children:d.channel}),e.jsx("span",{style:{fontSize:"1.5rem",fontWeight:"700",color:d.color},children:d.data.total.toLocaleString()})]})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Sentimiento"}),e.jsxs("div",{style:{display:"flex",height:"8px",borderRadius:"4px",overflow:"hidden"},children:[e.jsx("div",{style:{width:`${d.data.sentiment.positive}%`,background:"#22c55e"}}),e.jsx("div",{style:{width:`${d.data.sentiment.neutral}%`,background:"#94a3b8"}}),e.jsx("div",{style:{width:`${d.data.sentiment.negative}%`,background:"#ef4444"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.5rem",fontSize:"0.75rem"},children:[e.jsxs("span",{style:{color:"#22c55e"},children:["+",d.data.sentiment.positive,"%"]}),e.jsxs("span",{style:{color:"#94a3b8"},children:[d.data.sentiment.neutral,"%"]}),e.jsxs("span",{style:{color:"#ef4444"},children:["-",d.data.sentiment.negative,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Temas principales"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:d.data.topics.map((z,q)=>e.jsx("span",{style:{background:`${d.color}20`,color:d.color,padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:z},q))})]})]},T))}),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(219, 39, 119, 0.05))",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(236, 72, 153, 0.3)"},children:[e.jsxs("h4",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-lightbulb",style:{color:"#ec4899"}}),"Insights Descubiertos"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[{icon:"fa-exclamation-triangle",text:"23% de emails requieren mltiples respuestas - oportunidad de automatizacin",color:"#f59e0b"},{icon:"fa-clock",text:"Tiempo de respuesta promedio: 4.2 horas - por debajo del SLA",color:"#ef4444"},{icon:"fa-chart-line",text:"Los temas de facturacin han aumentado 15% este mes",color:"#3b82f6"},{icon:"fa-smile",text:"Satisfaccin del cliente en chats: 87% positivo",color:"#22c55e"}].map((d,T)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",background:"var(--dark-bg)",borderRadius:"8px"},children:[e.jsx("i",{className:`fas ${d.icon}`,style:{color:d.color}}),e.jsx("span",{style:{color:"var(--text-primary)",fontSize:"0.9rem"},children:d.text})]},T))})]})]}),D=()=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-vial",style:{color:"#06b6d4"}}),"Test Suite"]}),e.jsx("p",{style:{margin:"0.25rem 0 0",color:"var(--text-secondary)"},children:"Pruebas automatizadas para tus workflows y robots"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx("i",{className:"fas fa-file-import"})," Importar Tests"]}),e.jsxs("button",{className:"btn btn-primary",style:{background:"#06b6d4",borderColor:"#06b6d4"},children:[e.jsx("i",{className:"fas fa-play"})," Ejecutar Suite"]})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[{label:"Total Tests",value:156,icon:"fa-list-check",color:"#06b6d4"},{label:"Pasados",value:142,icon:"fa-check-circle",color:"#22c55e"},{label:"Fallados",value:8,icon:"fa-times-circle",color:"#ef4444"},{label:"Omitidos",value:6,icon:"fa-minus-circle",color:"#f59e0b"}].map((d,T)=>e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"12px",padding:"1.25rem",border:"1px solid var(--border-color)",textAlign:"center"},children:[e.jsx("i",{className:`fas ${d.icon}`,style:{fontSize:"1.5rem",color:d.color,marginBottom:"0.5rem"}}),e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:d.color},children:d.value}),e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:d.label})]},T))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem"},children:[{type:"Unit Tests",desc:"Pruebas de acciones individuales",count:89,passed:85,icon:"fa-cube"},{type:"Integration Tests",desc:"Pruebas de flujos completos",count:45,passed:40,icon:"fa-link"},{type:"E2E Tests",desc:"Pruebas end-to-end",count:22,passed:17,icon:"fa-route"}].map((d,T)=>e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #06b6d4, #0891b2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:`fas ${d.icon}`,style:{fontSize:"1.25rem",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,color:"var(--text-primary)"},children:d.type}),e.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:d.desc})]})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Tasa de xito"}),e.jsxs("span",{style:{color:"#22c55e",fontWeight:"600"},children:[Math.round(d.passed/d.count*100),"%"]})]}),e.jsx("div",{style:{height:"8px",background:"var(--bg-secondary)",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${d.passed/d.count*100}%`,height:"100%",background:"linear-gradient(90deg, #22c55e, #16a34a)"}})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"var(--text-secondary)",fontSize:"0.85rem"},children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-check",style:{color:"#22c55e"}})," ",d.passed," pasados"]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-times",style:{color:"#ef4444"}})," ",d.count-d.passed," fallados"]})]})]},T))})]}),y=()=>{switch(t){case"overview":return w();case"process-mining":return m();case"task-mining":return b();case"document-understanding":return j();case"agentic-automation":return N();case"communications-mining":return _();case"test-suite":return D();default:return w()}},g=h.find(d=>d.id===t);return e.jsxs("div",{className:"view",id:"ai-dashboard-view",children:[e.jsxs("div",{style:{background:`linear-gradient(135deg, ${(g==null?void 0:g.color)||"#6366f1"}, ${(g==null?void 0:g.color)||"#6366f1"}cc)`,borderRadius:"16px",padding:"1.5rem 2rem",marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("h2",{style:{margin:0,color:"white",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-brain"}),a("ai_title")]}),e.jsx("p",{style:{margin:"0.5rem 0 0",color:"rgba(255,255,255,0.85)"},children:a("ai_subtitle")})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsxs("button",{className:"btn",style:{background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",color:"white"},children:[e.jsx("i",{className:"fas fa-chart-bar"})," Mtricas"]}),e.jsxs("button",{className:"btn",style:{background:"white",color:(g==null?void 0:g.color)||"#6366f1",border:"none",fontWeight:"600"},children:[e.jsx("i",{className:"fas fa-cog"})," Configuracin"]})]})]}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",overflowX:"auto",paddingBottom:"0.5rem"},children:h.map(d=>e.jsxs("button",{onClick:()=>r(d.id),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.25rem",background:t===d.id?d.color:"var(--dark-bg)",border:t===d.id?`2px solid ${d.color}`:"2px solid var(--border-color)",borderRadius:"10px",color:t===d.id?"white":"var(--text-primary)",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s",fontWeight:t===d.id?"600":"400"},children:[e.jsx("i",{className:`fas ${d.icon}`}),d.name]},d.id))}),y()]})}function gx(){const{t:a}=Ta(),[t,r]=f.useState("messages"),[i,n]=f.useState("Desconectado"),[l,s]=f.useState("Desconectado"),[c,p]=f.useState("Desconectado"),[h,w]=f.useState("Desconectado"),[m,b]=f.useState("Desconectado"),[j,N]=f.useState({totalConversations:0,queuedMessages:0,totalTemplates:0}),[_,D]=f.useState({channel:"whatsapp",recipient:"",text:""}),[y,g]=f.useState({name:"",text:""}),[d,T]=f.useState([]),[z,q]=f.useState([]),[P,L]=f.useState(!1),[te,X]=f.useState(!1),[O,be]=f.useState(!1),[me,H]=f.useState(!1),[Z,ne]=f.useState(!1),[ye,B]=f.useState(!1),[G,K]=f.useState(!1),[S,J]=f.useState({accountSid:"",authToken:"",phoneNumber:"",webhookUrl:""}),[x,W]=f.useState({botToken:"",botUsername:"",webhookUrl:""}),[Y,fe]=f.useState({provider:"twilio",apiKey:"",apiSecret:"",senderId:""}),[M,Q]=f.useState({provider:"smtp",smtpHost:"",smtpPort:"587",smtpUser:"",smtpPassword:"",fromEmail:"",fromName:""}),[se,ue]=f.useState({show:!1,message:"",type:"success"}),de=(I,re="success")=>{ue({show:!0,message:I,type:re}),setTimeout(()=>ue({show:!1,message:"",type:"success"}),3e3)},Le=()=>{de("Inicializando sistema omnicanal...","info"),setTimeout(()=>{de("Sistema omnicanal inicializado correctamente","success")},2e3)},Fe=()=>{de("Actualizando estado de los canales...","info"),setTimeout(()=>{de("Estado actualizado","success")},1e3)},fa=()=>{K(!0)},ga=()=>{X(!0)},Qe=()=>{be(!0)},pe=()=>{H(!0)},ia=()=>{ne(!0)},da=()=>{if(!_.recipient||!_.text){de("Por favor completa todos los campos","error");return}de(`Enviando mensaje por ${_.channel}...`,"info"),setTimeout(()=>{de("Mensaje enviado correctamente","success"),D({..._,recipient:"",text:""})},1500)},wa=()=>{if(!y.name||!y.text){de("Por favor completa todos los campos","error");return}T([...d,{...y,id:Date.now()}]),g({name:"",text:""}),de("Template guardado correctamente","success")},We=()=>{if(!S.accountSid||!S.authToken){de("Por favor ingresa Account SID y Auth Token","error");return}localStorage.setItem("twilioConfig",JSON.stringify(S)),p("Conectado"),be(!1),de("Configuracin de Twilio guardada correctamente","success")},xe=()=>{if(!x.botToken){de("Por favor ingresa el Bot Token","error");return}localStorage.setItem("telegramConfig",JSON.stringify(x)),s("Conectado"),X(!1),de("Configuracin de Telegram guardada correctamente","success")},Me=()=>{if(!Y.apiKey){de("Por favor ingresa la API Key","error");return}localStorage.setItem("smsConfig",JSON.stringify(Y)),w("Conectado"),H(!1),de("Configuracin de SMS guardada correctamente","success")},na=()=>{if(!M.smtpHost||!M.smtpUser){de("Por favor completa la configuracin SMTP","error");return}localStorage.setItem("emailConfig",JSON.stringify(M)),b("Conectado"),ne(!1),de("Configuracin de Email guardada correctamente","success")},ce=I=>{de(`Probando conexin con ${I}...`,"info"),setTimeout(()=>{de(`Conexin con ${I} exitosa`,"success")},2e3)},Ae=I=>{r(I)};f.useEffect(()=>{const I=localStorage.getItem("twilioConfig"),re=localStorage.getItem("telegramConfig"),la=localStorage.getItem("smsConfig"),Oe=localStorage.getItem("emailConfig");I&&(J(JSON.parse(I)),p("Conectado")),re&&(W(JSON.parse(re)),s("Conectado")),la&&(fe(JSON.parse(la)),w("Conectado")),Oe&&(Q(JSON.parse(Oe)),b("Conectado"))},[]);const va={background:"#1e293b",padding:"1.5rem",borderRadius:"12px",border:"1px solid #334155"},ge={width:"100%",padding:"0.75rem 1rem",background:"#0f172a",border:"1px solid #334155",borderRadius:"8px",color:"white",fontSize:"0.9rem"},he={display:"block",marginBottom:"0.5rem",color:"#94a3b8",fontSize:"0.85rem",fontWeight:500},$={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},C={background:"#1e293b",borderRadius:"16px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",border:"1px solid #334155",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"};return e.jsxs("div",{className:"view",id:"omnichannel-view",children:[se.show&&e.jsxs("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"1rem 1.5rem",borderRadius:"10px",background:se.type==="success"?"linear-gradient(135deg, #10b981, #059669)":se.type==="error"?"linear-gradient(135deg, #ef4444, #dc2626)":"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",fontWeight:500,zIndex:2e3,display:"flex",alignItems:"center",gap:"0.75rem",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",animation:"slideIn 0.3s ease"},children:[e.jsx("i",{className:`fas ${se.type==="success"?"fa-check-circle":se.type==="error"?"fa-exclamation-circle":"fa-info-circle"}`}),se.message]}),e.jsx("div",{className:"view-header",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",padding:"2rem",borderRadius:"12px",marginBottom:"2rem"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsxs("h2",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-comments"})," Omnicanalidad - Centro de Comunicaciones"]}),e.jsx("p",{style:{opacity:.9,margin:"0.5rem 0 0 0"},children:"Sistema de chatbots, mensajera multicanal e integraciones con APIs"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:()=>B(!0),style:{background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",padding:"0.75rem 1.25rem",borderRadius:"8px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-info-circle"})," Cmo funciona?"]}),e.jsxs("button",{onClick:Le,style:{background:"white",color:"#10b981",border:"none",padding:"0.75rem 1.25rem",borderRadius:"8px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-power-off"})," Inicializar Sistema"]}),e.jsxs("button",{onClick:Fe,style:{background:"white",color:"#10b981",border:"none",padding:"0.75rem 1.25rem",borderRadius:"8px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-sync"})," Actualizar"]})]})]})}),e.jsxs("div",{id:"omnichannelStatus",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.25rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"channel-card",style:{background:"linear-gradient(135deg, #25D366 0%, #128C7E 100%)",padding:"1.5rem",borderRadius:"12px",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",right:-20,top:-20,opacity:.1,fontSize:"8rem"},children:e.jsx("i",{className:"fab fa-whatsapp"})}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:50,height:50,borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fab fa-whatsapp",style:{fontSize:"1.75rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"WhatsApp Business"}),e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:i==="Conectado"?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.2)",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",marginTop:"0.25rem"},children:[e.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:i==="Conectado"?"#fff":"#fbbf24"}}),i]})]})]}),e.jsx("p",{style:{fontSize:"0.85rem",opacity:.9,marginBottom:"1rem"},children:"API oficial de WhatsApp Business para enviar y recibir mensajes"}),e.jsxs("button",{onClick:fa,style:{width:"100%",background:"white",color:"#25D366",border:"none",padding:"0.75rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-qrcode"})," Ver QR Code"]})]})]}),e.jsxs("div",{className:"channel-card",style:{background:"linear-gradient(135deg, #0088cc 0%, #0066aa 100%)",padding:"1.5rem",borderRadius:"12px",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",right:-20,top:-20,opacity:.1,fontSize:"8rem"},children:e.jsx("i",{className:"fab fa-telegram"})}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:50,height:50,borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fab fa-telegram",style:{fontSize:"1.75rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Telegram Bot"}),e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:l==="Conectado"?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.2)",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",marginTop:"0.25rem"},children:[e.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:l==="Conectado"?"#fff":"#fbbf24"}}),l]})]})]}),e.jsx("p",{style:{fontSize:"0.85rem",opacity:.9,marginBottom:"1rem"},children:"Bot de Telegram para automatizacin y atencin al cliente"}),e.jsxs("button",{onClick:ga,style:{width:"100%",background:"white",color:"#0088cc",border:"none",padding:"0.75rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-cog"})," Configurar Bot"]})]})]}),e.jsxs("div",{className:"channel-card",style:{background:"linear-gradient(135deg, #f22f46 0%, #c4192e 100%)",padding:"1.5rem",borderRadius:"12px",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",right:-20,top:-20,opacity:.1,fontSize:"8rem"},children:e.jsx("i",{className:"fas fa-phone-volume"})}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:50,height:50,borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fas fa-phone-volume",style:{fontSize:"1.5rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Twilio"}),e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:c==="Conectado"?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.2)",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",marginTop:"0.25rem"},children:[e.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:c==="Conectado"?"#fff":"#fbbf24"}}),c]})]})]}),e.jsx("p",{style:{fontSize:"0.85rem",opacity:.9,marginBottom:"1rem"},children:"SMS, Voz, WhatsApp y Video a travs de la API de Twilio"}),e.jsxs("button",{onClick:Qe,style:{width:"100%",background:"white",color:"#f22f46",border:"none",padding:"0.75rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-plug"})," Configurar API"]})]})]}),e.jsxs("div",{className:"channel-card",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)",padding:"1.5rem",borderRadius:"12px",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",right:-20,top:-20,opacity:.1,fontSize:"8rem"},children:e.jsx("i",{className:"fas fa-sms"})}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:50,height:50,borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fas fa-sms",style:{fontSize:"1.5rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"SMS Gateway"}),e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:h==="Conectado"?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.2)",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",marginTop:"0.25rem"},children:[e.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:h==="Conectado"?"#fff":"#fbbf24"}}),h]})]})]}),e.jsx("p",{style:{fontSize:"0.85rem",opacity:.9,marginBottom:"1rem"},children:"Envo masivo de SMS con mltiples proveedores"}),e.jsxs("button",{onClick:pe,style:{width:"100%",background:"white",color:"#8b5cf6",border:"none",padding:"0.75rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-cog"})," Configurar SMS"]})]})]}),e.jsxs("div",{className:"channel-card",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",padding:"1.5rem",borderRadius:"12px",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",right:-20,top:-20,opacity:.1,fontSize:"8rem"},children:e.jsx("i",{className:"fas fa-envelope"})}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:50,height:50,borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fas fa-envelope",style:{fontSize:"1.5rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Email SMTP"}),e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:m==="Conectado"?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.2)",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",marginTop:"0.25rem"},children:[e.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:m==="Conectado"?"#fff":"#fbbf24"}}),m]})]})]}),e.jsx("p",{style:{fontSize:"0.85rem",opacity:.9,marginBottom:"1rem"},children:"Envo de correos electrnicos automatizados"}),e.jsxs("button",{onClick:ia,style:{width:"100%",background:"white",color:"#f59e0b",border:"none",padding:"0.75rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-cog"})," Configurar Email"]})]})]}),e.jsxs("div",{className:"channel-card",style:{background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",padding:"1.5rem",borderRadius:"12px",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",right:-20,top:-20,opacity:.1,fontSize:"8rem"},children:e.jsx("i",{className:"fas fa-chart-line"})}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:50,height:50,borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fas fa-chart-line",style:{fontSize:"1.5rem"}})}),e.jsx("div",{children:e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Estadsticas"})})]}),e.jsxs("div",{style:{display:"grid",gap:"0.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{opacity:.9},children:"Conversaciones"}),e.jsx("span",{style:{fontWeight:700,fontSize:"1.25rem"},children:j.totalConversations})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{opacity:.9},children:"Mensajes en cola"}),e.jsx("span",{style:{fontWeight:700,fontSize:"1.25rem"},children:j.queuedMessages})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{opacity:.9},children:"Templates"}),e.jsx("span",{style:{fontWeight:700,fontSize:"1.25rem"},children:d.length})]})]})]})]})]}),e.jsx("div",{className:"tabs",style:{display:"flex",gap:"0.25rem",marginBottom:"1.5rem",borderBottom:"2px solid #334155",overflowX:"auto"},children:[{id:"messages",icon:"fa-comment-dots",label:"Enviar Mensajes"},{id:"conversations",icon:"fa-comments",label:"Conversaciones"},{id:"templates",icon:"fa-file-alt",label:"Templates"},{id:"automations",icon:"fa-robot",label:"Automatizaciones"},{id:"config",icon:"fa-cog",label:"Configuracin"}].map(I=>e.jsxs("button",{onClick:()=>Ae(I.id),style:{padding:"0.875rem 1.5rem",background:"none",border:"none",borderBottom:t===I.id?"3px solid #10b981":"3px solid transparent",color:t===I.id?"#10b981":"#94a3b8",cursor:"pointer",fontWeight:t===I.id?600:400,display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap",transition:"all 0.2s ease"},children:[e.jsx("i",{className:`fas ${I.icon}`})," ",I.label]},I.id))}),e.jsxs("div",{className:"tab-content",children:[t==="messages"&&e.jsxs("div",{style:va,children:[e.jsxs("h3",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-paper-plane",style:{color:"#10b981"}})," Enviar Mensaje"]}),e.jsxs("div",{style:{display:"grid",gap:"1.25rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Canal de envo"}),e.jsxs("select",{value:_.channel,onChange:I=>D({..._,channel:I.target.value}),style:ge,children:[e.jsx("option",{value:"whatsapp",children:" WhatsApp"}),e.jsx("option",{value:"telegram",children:" Telegram"}),e.jsx("option",{value:"twilio_sms",children:" SMS (Twilio)"}),e.jsx("option",{value:"twilio_voice",children:" Llamada (Twilio)"}),e.jsx("option",{value:"sms",children:" SMS Gateway"}),e.jsx("option",{value:"email",children:" Email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Destinatario"}),e.jsx("input",{type:"text",placeholder:_.channel==="email"?"correo@ejemplo.com":_.channel==="telegram"?"Chat ID (ej: 123456789)":"Nmero con cdigo de pas (ej: 5215512345678)",value:_.recipient,onChange:I=>D({..._,recipient:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Mensaje"}),e.jsx("textarea",{rows:"4",placeholder:"Escribe tu mensaje aqu...",value:_.text,onChange:I=>D({..._,text:I.target.value}),style:{...ge,resize:"vertical"}})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:da,style:{flex:1,minWidth:"200px",background:"linear-gradient(135deg, #10b981, #059669)",border:"none",padding:"1rem",borderRadius:"10px",color:"white",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-paper-plane"})," Enviar Mensaje"]}),d.length>0&&e.jsxs("select",{onChange:I=>{const re=d.find(la=>la.id===parseInt(I.target.value));re&&D({..._,text:re.text})},style:{...ge,flex:1,minWidth:"200px"},children:[e.jsx("option",{value:"",children:"Usar template..."}),d.map(I=>e.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]}),t==="conversations"&&e.jsxs("div",{style:va,children:[e.jsxs("h3",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-comments",style:{color:"#3b82f6"}})," Historial de Conversaciones"]}),z.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#64748b"},children:[e.jsx("i",{className:"fas fa-inbox",style:{fontSize:"4rem",marginBottom:"1rem",opacity:.3}}),e.jsx("p",{style:{fontSize:"1.1rem"},children:"No hay conversaciones an"}),e.jsx("p",{style:{fontSize:"0.9rem",opacity:.7},children:"Las conversaciones aparecern aqu cuando los usuarios interacten"})]}):z.map((I,re)=>e.jsx("div",{className:"conversation-item",style:{padding:"1rem",background:"#0f172a",borderRadius:"8px",marginBottom:"0.75rem"},children:I.lastMessage},re))]}),t==="templates"&&e.jsxs("div",{style:va,children:[e.jsxs("h3",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-file-alt",style:{color:"#8b5cf6"}})," Templates de Mensajes"]}),e.jsxs("div",{style:{display:"grid",gap:"1.25rem",marginBottom:"2rem",padding:"1.5rem",background:"#0f172a",borderRadius:"10px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Nombre del Template"}),e.jsx("input",{type:"text",placeholder:"ej: bienvenida, confirmacion_cita",value:y.name,onChange:I=>g({...y,name:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsxs("label",{style:he,children:["Mensaje (usa ","{{variable}}"," para variables)"]}),e.jsx("textarea",{rows:"4",placeholder:"Hola {{nombre}}! Bienvenido a {{empresa}}. Tu cita est programada para el {{fecha}}.",value:y.text,onChange:I=>g({...y,text:I.target.value}),style:{...ge,resize:"vertical"}}),e.jsxs("small",{style:{color:"#64748b",display:"block",marginTop:"0.5rem"},children:["Variables disponibles: ","{{nombre}}",", ","{{empresa}}",", ","{{fecha}}",", ","{{hora}}",", ","{{codigo}}"]})]}),e.jsxs("button",{onClick:wa,style:{background:"linear-gradient(135deg, #8b5cf6, #6d28d9)",border:"none",padding:"1rem",borderRadius:"10px",color:"white",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-save"})," Guardar Template"]})]}),e.jsx("h4",{style:{marginBottom:"1rem",color:"#94a3b8"},children:"Templates Guardados"}),d.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:[e.jsx("i",{className:"fas fa-file",style:{fontSize:"3rem",marginBottom:"1rem",opacity:.3}}),e.jsx("p",{children:"No hay templates guardados"})]}):e.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:d.map(I=>e.jsxs("div",{style:{padding:"1rem",background:"#0f172a",borderRadius:"8px",border:"1px solid #334155"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsx("strong",{style:{color:"#8b5cf6"},children:I.name}),e.jsx("button",{onClick:()=>T(d.filter(re=>re.id!==I.id)),style:{background:"rgba(239, 68, 68, 0.1)",border:"none",color:"#ef4444",padding:"0.4rem 0.75rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem"},children:e.jsx("i",{className:"fas fa-trash"})})]}),e.jsx("p",{style:{margin:0,color:"#94a3b8",fontSize:"0.9rem"},children:I.text})]},I.id))})]}),t==="automations"&&e.jsxs("div",{style:va,children:[e.jsxs("h3",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-robot",style:{color:"#f59e0b"}})," Automatizaciones con Omnicanalidad"]}),e.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05))",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[e.jsxs("h4",{style:{margin:"0 0 1rem 0",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-project-diagram",style:{color:"#10b981"}}),"Flujos de Trabajo Automatizados"]}),e.jsx("p",{style:{color:"#94a3b8",marginBottom:"1rem",fontSize:"0.9rem"},children:"Crea flujos automticos que respondan a eventos de tus canales de comunicacin."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{style:{background:"#0f172a",padding:"1rem",borderRadius:"8px"},children:[e.jsx("i",{className:"fas fa-comment-dots",style:{color:"#25D366",marginBottom:"0.5rem",display:"block"}}),e.jsx("strong",{style:{display:"block",marginBottom:"0.25rem"},children:"Respuesta Automtica"}),e.jsx("small",{style:{color:"#64748b"},children:"Responde automticamente a mensajes entrantes"})]}),e.jsxs("div",{style:{background:"#0f172a",padding:"1rem",borderRadius:"8px"},children:[e.jsx("i",{className:"fas fa-user-plus",style:{color:"#3b82f6",marginBottom:"0.5rem",display:"block"}}),e.jsx("strong",{style:{display:"block",marginBottom:"0.25rem"},children:"Calificacin de Leads"}),e.jsx("small",{style:{color:"#64748b"},children:"Califica clientes potenciales automticamente"})]}),e.jsxs("div",{style:{background:"#0f172a",padding:"1rem",borderRadius:"8px"},children:[e.jsx("i",{className:"fas fa-ticket-alt",style:{color:"#f59e0b",marginBottom:"0.5rem",display:"block"}}),e.jsx("strong",{style:{display:"block",marginBottom:"0.25rem"},children:"Creacin de Tickets"}),e.jsx("small",{style:{color:"#64748b"},children:"Crea tickets de soporte desde mensajes"})]}),e.jsxs("div",{style:{background:"#0f172a",padding:"1rem",borderRadius:"8px"},children:[e.jsx("i",{className:"fas fa-bell",style:{color:"#8b5cf6",marginBottom:"0.5rem",display:"block"}}),e.jsx("strong",{style:{display:"block",marginBottom:"0.25rem"},children:"Notificaciones"}),e.jsx("small",{style:{color:"#64748b"},children:"Enva recordatorios y alertas"})]})]})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05))",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[e.jsxs("h4",{style:{margin:"0 0 1rem 0",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-database",style:{color:"#3b82f6"}}),"Integracin con CRM y Herramientas"]}),e.jsx("p",{style:{color:"#94a3b8",marginBottom:"1rem",fontSize:"0.9rem"},children:"Conecta con las plataformas ms populares para sincronizar datos de clientes."}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:["HubSpot","Salesforce","Zendesk","Pipedrive","Zoho CRM","Monday","Notion","Airtable"].map(I=>e.jsx("span",{style:{background:"#0f172a",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.85rem",color:"#94a3b8",border:"1px solid #334155"},children:I},I))})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(109, 40, 217, 0.05))",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[e.jsxs("h4",{style:{margin:"0 0 1rem 0",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-brain",style:{color:"#8b5cf6"}}),"Chatbots con Inteligencia Artificial"]}),e.jsx("p",{style:{color:"#94a3b8",marginBottom:"1rem",fontSize:"0.9rem"},children:"Implementa chatbots inteligentes para manejar consultas frecuentes y calificar leads."}),e.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",color:"#94a3b8",fontSize:"0.9rem"},children:[e.jsx("li",{children:"Respuestas automticas 24/7"}),e.jsx("li",{children:"Procesamiento de lenguaje natural"}),e.jsx("li",{children:"Escalamiento inteligente a agentes humanos"}),e.jsx("li",{children:"Aprendizaje continuo de conversaciones"})]})]})]})]}),t==="config"&&e.jsxs("div",{style:va,children:[e.jsxs("h3",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-cog",style:{color:"#94a3b8"}})," Configuracin del Sistema"]}),e.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[e.jsxs("div",{style:{background:"#0f172a",borderRadius:"10px",padding:"1.5rem"},children:[e.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"Estado de Conexiones"}),e.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:[{name:"WhatsApp",status:i,color:"#25D366",action:fa},{name:"Telegram",status:l,color:"#0088cc",action:ga},{name:"Twilio",status:c,color:"#f22f46",action:Qe},{name:"SMS Gateway",status:h,color:"#8b5cf6",action:pe},{name:"Email SMTP",status:m,color:"#f59e0b",action:ia}].map(I=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"#1e293b",borderRadius:"8px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:I.status==="Conectado"?"#22c55e":"#fbbf24"}}),e.jsx("span",{style:{fontWeight:500},children:I.name}),e.jsx("span",{style:{fontSize:"0.75rem",padding:"0.2rem 0.5rem",borderRadius:"4px",background:I.status==="Conectado"?"rgba(34, 197, 94, 0.1)":"rgba(251, 191, 36, 0.1)",color:I.status==="Conectado"?"#22c55e":"#fbbf24"},children:I.status})]}),e.jsx("button",{onClick:I.action,style:{background:I.color,border:"none",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem"},children:"Configurar"})]},I.name))})]}),e.jsxs("div",{style:{background:"#0f172a",borderRadius:"10px",padding:"1.5rem"},children:[e.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"URLs de Webhooks"}),e.jsx("p",{style:{color:"#64748b",marginBottom:"1rem",fontSize:"0.85rem"},children:"Configura estas URLs en tus servicios para recibir mensajes entrantes."}),e.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:[{name:"WhatsApp",url:`${window.location.origin}/api/webhook/whatsapp`},{name:"Telegram",url:`${window.location.origin}/api/webhook/telegram`},{name:"Twilio",url:`${window.location.origin}/api/webhook/twilio`}].map(I=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"#1e293b",borderRadius:"6px"},children:[e.jsxs("span",{style:{minWidth:"80px",fontWeight:500,fontSize:"0.85rem"},children:[I.name,":"]}),e.jsx("code",{style:{flex:1,fontSize:"0.8rem",color:"#94a3b8",overflow:"hidden",textOverflow:"ellipsis"},children:I.url}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(I.url),de("URL copiada al portapapeles")},style:{background:"#334155",border:"none",color:"#94a3b8",padding:"0.4rem 0.75rem",borderRadius:"4px",cursor:"pointer"},children:e.jsx("i",{className:"fas fa-copy"})})]},I.name))})]})]})]})]}),G&&e.jsx("div",{style:$,onClick:()=>K(!1),children:e.jsxs("div",{style:C,onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #334155",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fab fa-whatsapp",style:{color:"#25D366"}}),"Conectar WhatsApp"]}),e.jsx("button",{onClick:()=>K(!1),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1.25rem"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[e.jsx("div",{style:{width:200,height:200,background:"white",margin:"0 auto 1.5rem",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid #25D366"},children:e.jsx("i",{className:"fas fa-qrcode",style:{fontSize:"6rem",color:"#1e293b"}})}),e.jsx("h4",{style:{marginBottom:"0.5rem"},children:"Escanea el cdigo QR"}),e.jsxs("p",{style:{color:"#94a3b8",marginBottom:"1.5rem"},children:["Abre WhatsApp en tu telfono ",">"," Configuracin ",">"," Dispositivos vinculados ",">"," Vincular dispositivo"]}),e.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:e.jsxs("button",{onClick:()=>{de("Generando nuevo cdigo QR...")},style:{background:"#25D366",border:"none",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:[e.jsx("i",{className:"fas fa-sync"})," Regenerar QR"]})})]})]})}),te&&e.jsx("div",{style:$,onClick:()=>X(!1),children:e.jsxs("div",{style:C,onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #334155",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fab fa-telegram",style:{color:"#0088cc"}}),"Configurar Telegram Bot"]}),e.jsx("button",{onClick:()=>X(!1),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1.25rem"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{style:{padding:"1.5rem"},children:e.jsxs("div",{style:{display:"grid",gap:"1.25rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Bot Token *"}),e.jsx("input",{type:"text",placeholder:"123456789:ABCdefGHIjklMNOpqrSTUvwxYZ",value:x.botToken,onChange:I=>W({...x,botToken:I.target.value}),style:ge}),e.jsx("small",{style:{color:"#64748b",display:"block",marginTop:"0.5rem"},children:"Obtn el token de @BotFather en Telegram"})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Username del Bot"}),e.jsx("input",{type:"text",placeholder:"@mi_bot",value:x.botUsername,onChange:I=>W({...x,botUsername:I.target.value}),style:ge})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("button",{onClick:()=>ce("Telegram"),style:{flex:1,background:"#334155",border:"none",color:"white",padding:"0.875rem",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:[e.jsx("i",{className:"fas fa-plug"})," Probar Conexin"]}),e.jsxs("button",{onClick:xe,style:{flex:1,background:"#0088cc",border:"none",color:"white",padding:"0.875rem",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:[e.jsx("i",{className:"fas fa-save"})," Guardar"]})]})]})})]})}),O&&e.jsx("div",{style:$,onClick:()=>be(!1),children:e.jsxs("div",{style:C,onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #334155",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-phone-volume",style:{color:"#f22f46"}}),"Configurar Twilio"]}),e.jsx("button",{onClick:()=>be(!1),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1.25rem"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[e.jsx("div",{style:{background:"rgba(242, 47, 70, 0.1)",border:"1px solid rgba(242, 47, 70, 0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem"},children:e.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"#f87171"},children:[e.jsx("i",{className:"fas fa-info-circle"})," Obtn tus credenciales en"," ",e.jsx("a",{href:"https://www.twilio.com/console",target:"_blank",rel:"noopener noreferrer",style:{color:"#f22f46"},children:"console.twilio.com"})]})}),e.jsxs("div",{style:{display:"grid",gap:"1.25rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Account SID *"}),e.jsx("input",{type:"text",placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:S.accountSid,onChange:I=>J({...S,accountSid:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Auth Token *"}),e.jsx("input",{type:"password",placeholder:"",value:S.authToken,onChange:I=>J({...S,authToken:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Nmero de Telfono Twilio"}),e.jsx("input",{type:"text",placeholder:"+1234567890",value:S.phoneNumber,onChange:I=>J({...S,phoneNumber:I.target.value}),style:ge})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("button",{onClick:()=>ce("Twilio"),style:{flex:1,background:"#334155",border:"none",color:"white",padding:"0.875rem",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:[e.jsx("i",{className:"fas fa-plug"})," Probar Conexin"]}),e.jsxs("button",{onClick:We,style:{flex:1,background:"#f22f46",border:"none",color:"white",padding:"0.875rem",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:[e.jsx("i",{className:"fas fa-save"})," Guardar"]})]})]})]})]})}),me&&e.jsx("div",{style:$,onClick:()=>H(!1),children:e.jsxs("div",{style:C,onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #334155",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-sms",style:{color:"#8b5cf6"}}),"Configurar SMS Gateway"]}),e.jsx("button",{onClick:()=>H(!1),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1.25rem"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{style:{padding:"1.5rem"},children:e.jsxs("div",{style:{display:"grid",gap:"1.25rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Proveedor"}),e.jsxs("select",{value:Y.provider,onChange:I=>fe({...Y,provider:I.target.value}),style:ge,children:[e.jsx("option",{value:"twilio",children:"Twilio"}),e.jsx("option",{value:"nexmo",children:"Vonage (Nexmo)"}),e.jsx("option",{value:"messagebird",children:"MessageBird"}),e.jsx("option",{value:"plivo",children:"Plivo"}),e.jsx("option",{value:"custom",children:"Personalizado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"API Key *"}),e.jsx("input",{type:"text",placeholder:"Tu API Key",value:Y.apiKey,onChange:I=>fe({...Y,apiKey:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"API Secret"}),e.jsx("input",{type:"password",placeholder:"Tu API Secret",value:Y.apiSecret,onChange:I=>fe({...Y,apiSecret:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Sender ID / Nmero"}),e.jsx("input",{type:"text",placeholder:"MiEmpresa o +1234567890",value:Y.senderId,onChange:I=>fe({...Y,senderId:I.target.value}),style:ge})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("button",{onClick:()=>ce("SMS Gateway"),style:{flex:1,background:"#334155",border:"none",color:"white",padding:"0.875rem",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:[e.jsx("i",{className:"fas fa-plug"})," Probar Conexin"]}),e.jsxs("button",{onClick:Me,style:{flex:1,background:"#8b5cf6",border:"none",color:"white",padding:"0.875rem",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:[e.jsx("i",{className:"fas fa-save"})," Guardar"]})]})]})})]})}),Z&&e.jsx("div",{style:$,onClick:()=>ne(!1),children:e.jsxs("div",{style:C,onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #334155",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-envelope",style:{color:"#f59e0b"}}),"Configurar Email SMTP"]}),e.jsx("button",{onClick:()=>ne(!1),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1.25rem"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{style:{padding:"1.5rem"},children:e.jsxs("div",{style:{display:"grid",gap:"1.25rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Proveedor"}),e.jsxs("select",{value:M.provider,onChange:I=>Q({...M,provider:I.target.value}),style:ge,children:[e.jsx("option",{value:"smtp",children:"SMTP Personalizado"}),e.jsx("option",{value:"gmail",children:"Gmail"}),e.jsx("option",{value:"outlook",children:"Outlook/Office 365"}),e.jsx("option",{value:"sendgrid",children:"SendGrid"}),e.jsx("option",{value:"mailgun",children:"Mailgun"}),e.jsx("option",{value:"ses",children:"Amazon SES"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Servidor SMTP *"}),e.jsx("input",{type:"text",placeholder:"smtp.ejemplo.com",value:M.smtpHost,onChange:I=>Q({...M,smtpHost:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Puerto"}),e.jsx("input",{type:"text",placeholder:"587",value:M.smtpPort,onChange:I=>Q({...M,smtpPort:I.target.value}),style:ge})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Usuario SMTP *"}),e.jsx("input",{type:"text",placeholder:"usuario@ejemplo.com",value:M.smtpUser,onChange:I=>Q({...M,smtpUser:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Contrasea SMTP *"}),e.jsx("input",{type:"password",placeholder:"",value:M.smtpPassword,onChange:I=>Q({...M,smtpPassword:I.target.value}),style:ge})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Email Remitente"}),e.jsx("input",{type:"email",placeholder:"noreply@ejemplo.com",value:M.fromEmail,onChange:I=>Q({...M,fromEmail:I.target.value}),style:ge})]}),e.jsxs("div",{children:[e.jsx("label",{style:he,children:"Nombre Remitente"}),e.jsx("input",{type:"text",placeholder:"Mi Empresa",value:M.fromName,onChange:I=>Q({...M,fromName:I.target.value}),style:ge})]})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("button",{onClick:()=>ce("Email SMTP"),style:{flex:1,background:"#334155",border:"none",color:"white",padding:"0.875rem",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:[e.jsx("i",{className:"fas fa-plug"})," Probar Conexin"]}),e.jsxs("button",{onClick:na,style:{flex:1,background:"#f59e0b",border:"none",color:"white",padding:"0.875rem",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:[e.jsx("i",{className:"fas fa-save"})," Guardar"]})]})]})})]})}),ye&&e.jsx("div",{style:$,onClick:()=>B(!1),children:e.jsxs("div",{style:{...C,maxWidth:"800px"},onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #334155",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05))"},children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-info-circle",style:{color:"#10b981"}}),"Cmo funciona la Omnicanalidad con Automatizaciones?"]}),e.jsx("button",{onClick:()=>B(!1),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1.25rem"},children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{style:{padding:"1.5rem",maxHeight:"70vh",overflowY:"auto"},children:[e.jsx("p",{style:{color:"#cbd5e1",lineHeight:1.7,marginBottom:"1.5rem"},children:"La automatizacin en una estrategia omnicanal permite gestionar eficientemente las interacciones y los datos del cliente, sin importar el canal que utilicen (chat, correo, redes sociales, voz, etc.)."}),e.jsx("div",{style:{display:"grid",gap:"1.25rem"},children:[{icon:"fa-inbox",color:"#3b82f6",title:"Gestin Unificada de la Comunicacin",desc:"La automatizacin centraliza todos los mensajes en una sola bandeja de entrada. Los equipos responden desde un nico panel y ven el historial completo del cliente, evitando que repita informacin al cambiar de canal."},{icon:"fa-robot",color:"#8b5cf6",title:"Chatbots con IA",desc:"Implementa chatbots con inteligencia artificial para manejar consultas frecuentes, calificar clientes potenciales y dirigir casos complejos a agentes humanos, garantizando atencin 24/7."},{icon:"fa-project-diagram",color:"#f59e0b",title:"Flujos de Trabajo Automatizados",desc:"Automatiza la creacin y asignacin de tickets, envo de notificaciones y recordatorios (WhatsApp, email), y registro de interacciones en un CRM."},{icon:"fa-magic",color:"#ec4899",title:"Personalizacin y Recomendaciones",desc:"Con acceso a datos completos del cliente, la automatizacin ofrece recomendaciones personalizadas y experiencias adaptadas a cada usuario."},{icon:"fa-sync",color:"#22c55e",title:"Sincronizacin de Datos",desc:"La informacin del cliente est disponible en tiempo real en todos los canales y departamentos (ventas, marketing, soporte, logstica)."}].map((I,re)=>e.jsxs("div",{style:{background:"#0f172a",borderRadius:"10px",padding:"1.25rem",border:"1px solid #334155"},children:[e.jsxs("h4",{style:{margin:"0 0 0.75rem 0",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:`fas ${I.icon}`,style:{color:I.color}}),I.title]}),e.jsx("p",{style:{margin:0,color:"#94a3b8",fontSize:"0.9rem",lineHeight:1.6},children:I.desc})]},re))}),e.jsxs("h4",{style:{marginTop:"2rem",marginBottom:"1rem"},children:[e.jsx("i",{className:"fas fa-plug",style:{color:"#3b82f6",marginRight:"0.5rem"}}),"Herramientas con API que pueden consumirse"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[{name:"WhatsApp Business API",category:"Mensajera"},{name:"Twilio",category:"Comunicacin"},{name:"Telegram Bot API",category:"Mensajera"},{name:"HubSpot",category:"CRM"},{name:"Salesforce",category:"CRM"},{name:"Zendesk",category:"Soporte"},{name:"SendGrid",category:"Email"},{name:"Zapier",category:"Integracin"},{name:"Make (Integromat)",category:"Integracin"},{name:"Route Mobile",category:"Omnicanal"},{name:"Vonage (Nexmo)",category:"Comunicacin"},{name:"MessageBird",category:"Mensajera"}].map((I,re)=>e.jsxs("div",{style:{background:"#1e293b",padding:"0.875rem",borderRadius:"8px",border:"1px solid #334155"},children:[e.jsx("strong",{style:{display:"block",marginBottom:"0.25rem"},children:I.name}),e.jsx("small",{style:{color:"#64748b"},children:I.category})]},re))})]})]})}),e.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }

        .channel-card {
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .channel-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
      `})]})}function yx(){var Pa,Ra;const{t:a}=Ta(),[t,r]=f.useState(!1),[i,n]=f.useState(!1),[l,s]=f.useState(!1),[c,p]=f.useState(!1),[h,w]=f.useState(!1),[m,b]=f.useState("participants"),[j,N]=f.useState(!0),[_,D]=f.useState(0),[y,g]=f.useState(0),[d,T]=f.useState([{id:1,name:"T",isHost:!0,isMuted:!1,isVideoOff:!1}]),[z,q]=f.useState([]),[P,L]=f.useState([]),[te,X]=f.useState([]),[O,be]=f.useState(""),[me,H]=f.useState(""),[Z,ne]=f.useState(!1),[ye,B]=f.useState(null),[G,K]=f.useState(null),[S,J]=f.useState({webm:!0,mp4:!1,mp3:!1}),[x,W]=f.useState({videoAnalysis:!0,transcript:!0,minutes:!0,asIs:!0,toBe:!0,sendEmail:!1}),[Y,fe]=f.useState(""),[M,Q]=f.useState(""),[se,ue]=f.useState(!1),[de,Le]=f.useState(""),Fe=f.useRef(null),fa=f.useRef(null),ga=f.useRef(null),Qe=f.useRef(null),pe=f.useRef([]),ia=f.useRef(null),da=f.useRef(null);f.useEffect(()=>(t&&(fa.current=setInterval(()=>{D(R=>R+1)},1e3)),()=>{fa.current&&clearInterval(fa.current)}),[t]),f.useEffect(()=>(i?ga.current=setInterval(()=>{g(R=>R+1)},1e3):ga.current&&clearInterval(ga.current),()=>{ga.current&&clearInterval(ga.current)}),[i]);const wa=f.useCallback(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const R=window.SpeechRecognition||window.webkitSpeechRecognition,ve=new R;ve.continuous=!0,ve.interimResults=!0,ve.lang="es-ES",ve.onresult=_e=>{const Be=_e.results;for(let Ia=_e.resultIndex;Ia<Be.length;Ia++)if(Be[Ia].isFinal){const $a=Be[Ia][0].transcript;X(De=>[...De,{speaker:"Participante",text:$a.trim(),timestamp:new Date().toISOString()}])}},ve.onerror=_e=>{if(console.error("Speech recognition error:",_e.error),_e.error==="no-speech")try{ve.start()}catch{}},ve.onend=()=>{if(i)try{ve.start()}catch{}},da.current=ve}},[i]),We=R=>{const ve=Math.floor(R/3600),_e=Math.floor(R%3600/60),Be=R%60;return`${ve.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}:${Be.toString().padStart(2,"0")}`},xe=async()=>{try{const R=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});Fe.current&&(Fe.current.srcObject=R),ia.current=R,r(!0),D(0)}catch(R){console.error("Error accessing media devices:",R),alert("No se pudo acceder a la cmara/micrfono")}},Me=()=>{var R;(R=Fe.current)!=null&&R.srcObject&&Fe.current.srcObject.getTracks().forEach(_e=>_e.stop()),r(!1),n(!1),fa.current&&clearInterval(fa.current)},na=()=>s(!l),ce=()=>p(!c),Ae=()=>{if(!ia.current)return;pe.current=[],g(0);const R={mimeType:"video/webm;codecs=vp9,opus"};MediaRecorder.isTypeSupported(R.mimeType)||(R.mimeType="video/webm;codecs=vp8,opus"),MediaRecorder.isTypeSupported(R.mimeType)||(R.mimeType="video/webm");try{const ve=new MediaRecorder(ia.current,R);if(ve.ondataavailable=_e=>{_e.data.size>0&&pe.current.push(_e.data)},ve.onstop=()=>{const _e=new Blob(pe.current,{type:"video/webm"});B(_e),K({transcript:[...te],notes:[...P],chatMessages:[...z],participants:[...d],duration:y,sessionTime:_,date:new Date().toISOString()}),Q(`Conferencia_${new Date().toISOString().split("T")[0]}`),ne(!0)},ve.start(1e3),Qe.current=ve,n(!0),wa(),da.current)try{da.current.start()}catch{}}catch(ve){console.error("Error starting recording:",ve),alert("Error al iniciar la grabacin")}},va=()=>{if(Qe.current&&i&&(Qe.current.stop(),n(!1),da.current))try{da.current.stop()}catch{}},ge=()=>{i?va():Ae()},he=async()=>{if(h){if(ia.current){const R=ia.current.getVideoTracks()[0];R&&R.stop();try{const ve=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});ia.current=ve,Fe.current&&(Fe.current.srcObject=ve)}catch(ve){console.error("Error restarting camera:",ve)}}w(!1)}else try{const R=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});Fe.current&&(Fe.current.srcObject=R),ia.current=R,w(!0),R.getVideoTracks()[0].onended=()=>{w(!1),xe()}}catch(R){console.error("Error sharing screen:",R)}},$=R=>{const ve=new Date().toLocaleDateString("es-ES");return R==="asIs"?`graph TD
    subgraph "Estado Actual - As-Is (${ve})"
        A[Proceso Actual] --> B[Paso 1]
        B --> C[Paso 2]
        C --> D[Paso 3]
        D --> E[Resultado Actual]
    end

    style A fill:#ff6b6b,stroke:#333
    style E fill:#feca57,stroke:#333

    note1[Puntos identificados en la conferencia]
    ${te.slice(0,3).map((_e,Be)=>`note${Be+2}["${_e.text.substring(0,30)}..."]`).join(`
    `)}`:`graph TD
    subgraph "Estado Futuro - To-Be (${ve})"
        A[Proceso Mejorado] --> B[Nuevo Paso 1]
        B --> C[Nuevo Paso 2]
        C --> D[Automatizacin]
        D --> E[Resultado Optimizado]
    end

    style A fill:#26de81,stroke:#333
    style E fill:#45aaf2,stroke:#333

    note1[Mejoras propuestas en la conferencia]`},C=()=>{const R=new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),ve=We((G==null?void 0:G.duration)||y);return`# MINUTA DE CONFERENCIA

## Informacin General
- **Fecha:** ${R}
- **Duracin:** ${ve}
- **Participantes:** ${d.map(_e=>_e.name).join(", ")}

## Agenda
1. Revisin de puntos anteriores
2. Discusin de temas principales
3. Acuerdos y compromisos

## Transcripcin Resumida
${te.slice(0,10).map(_e=>`- **${_e.speaker}:** ${_e.text}`).join(`
`)}

## Notas de la Sesin
${P.map(_e=>`- ${_e.content} (${_e.author})`).join(`
`)||"- Sin notas registradas"}

## Acuerdos y Compromisos
| # | Compromiso | Responsable | Fecha Lmite |
|---|------------|-------------|--------------|
| 1 | Pendiente de definir | - | - |

## Prximos Pasos
1. Revisar acuerdos
2. Dar seguimiento a compromisos
3. Agendar prxima sesin

---
*Minuta generada automticamente por Alqvimia 2.0*
`},I=()=>`# ANLISIS DE VIDEO - CONFERENCIA

## Informacin del Video
- **Ttulo:** ${M}
- **Fecha:** ${new Date().toLocaleDateString("es-ES")}
- **Duracin:** ${We((G==null?void 0:G.duration)||y)}
- **Participantes:** ${d.length}

## Resumen Ejecutivo
Esta conferencia abord los siguientes temas principales basados en la transcripcin:

${te.slice(0,5).map((R,ve)=>`${ve+1}. ${R.text.substring(0,100)}...`).join(`
`)}

## Puntos Clave Identificados
${te.length>0?te.slice(0,10).map(R=>`- ${R.text}`).join(`
`):"- Puntos por identificar mediante anlisis de IA"}

## Sentimiento General
- Tono: Profesional/Colaborativo
- Participacin: ${d.length>3?"Alta":"Moderada"}

## Acciones Detectadas
- Se requiere anlisis detallado con IA para extraer acciones especficas

## Temas para Seguimiento
1. Revisar puntos discutidos
2. Validar compromisos adquiridos
3. Documentar decisiones tomadas

---
*Anlisis generado automticamente por Alqvimia 2.0*
`,re=async()=>{if(ye){ue(!0);try{const R=M.replace(/\s+/g,"_"),ve=Date.now();if(S.webm){Le("Guardando video WebM...");const De=URL.createObjectURL(ye),Pe=document.createElement("a");Pe.href=De,Pe.download=`${R}_video.webm`,Pe.click(),URL.revokeObjectURL(De),await new Promise(ze=>setTimeout(ze,500))}if(S.mp4){Le("Preparando video MP4...");const De=URL.createObjectURL(ye),Pe=document.createElement("a");Pe.href=De,Pe.download=`${R}_video.mp4`,Pe.click(),URL.revokeObjectURL(De),await new Promise(ze=>setTimeout(ze,500))}if(S.mp3){Le("Extrayendo audio MP3...");const De=URL.createObjectURL(ye),Pe=document.createElement("a");Pe.href=De,Pe.download=`${R}_audio.mp3`,Pe.click(),URL.revokeObjectURL(De),await new Promise(ze=>setTimeout(ze,500))}if(x.transcript){Le("Generando transcripcin...");const De=`# TRANSCRIPCIN DE CONFERENCIA

**Fecha:** ${new Date().toLocaleDateString()}
**Duracin:** ${We((G==null?void 0:G.duration)||0)}

---

${te.map(ua=>`[${new Date(ua.timestamp).toLocaleTimeString()}] **${ua.speaker}:** ${ua.text}`).join(`

`)}`,Pe=new Blob([De],{type:"text/markdown"}),ze=URL.createObjectURL(Pe),qe=document.createElement("a");qe.href=ze,qe.download=`${R}_transcript.md`,qe.click(),URL.revokeObjectURL(ze),await new Promise(ua=>setTimeout(ua,300))}if(x.videoAnalysis){Le("Generando anlisis de video...");const De=I(),Pe=new Blob([De],{type:"text/markdown"}),ze=URL.createObjectURL(Pe),qe=document.createElement("a");qe.href=ze,qe.download=`${R}_analisis.md`,qe.click(),URL.revokeObjectURL(ze),await new Promise(ua=>setTimeout(ua,300))}if(x.minutes){Le("Generando minuta...");const De=C(),Pe=new Blob([De],{type:"text/markdown"}),ze=URL.createObjectURL(Pe),qe=document.createElement("a");qe.href=ze,qe.download=`${R}_minuta.md`,qe.click(),URL.revokeObjectURL(ze),await new Promise(ua=>setTimeout(ua,300))}if(x.asIs){Le("Generando diagrama As-Is...");const De=$("asIs"),Pe=new Blob([De],{type:"text/plain"}),ze=URL.createObjectURL(Pe),qe=document.createElement("a");qe.href=ze,qe.download=`${R}_as-is.mmd`,qe.click(),URL.revokeObjectURL(ze),await new Promise(ua=>setTimeout(ua,300))}if(x.toBe){Le("Generando diagrama To-Be...");const De=$("toBe"),Pe=new Blob([De],{type:"text/plain"}),ze=URL.createObjectURL(Pe),qe=document.createElement("a");qe.href=ze,qe.download=`${R}_to-be.mmd`,qe.click(),URL.revokeObjectURL(ze),await new Promise(ua=>setTimeout(ua,300))}Le("Guardando datos de sesin...");const _e={title:M,date:new Date().toISOString(),duration:(G==null?void 0:G.duration)||y,participants:d,transcript:te,notes:P,chatMessages:z},Be=new Blob([JSON.stringify(_e,null,2)],{type:"application/json"}),Ia=URL.createObjectURL(Be),$a=document.createElement("a");$a.href=Ia,$a.download=`${R}_session.json`,$a.click(),URL.revokeObjectURL(Ia),Le("Completado!"),await new Promise(De=>setTimeout(De,1e3)),ne(!1),B(null),K(null),ue(!1),Le(""),alert("Todos los archivos han sido descargados exitosamente")}catch(R){console.error("Error saving recording:",R),alert("Error al guardar los archivos"),ue(!1),Le("")}}},la=()=>{O.trim()&&(q([...z,{id:Date.now(),user:"T",message:O,timestamp:new Date().toISOString()}]),be(""))},Oe=()=>{me.trim()&&(L([...P,{id:Date.now(),content:me,author:"T",timestamp:new Date().toISOString()}]),H(""))},Aa=[{id:"participants",icon:"fa-users",label:"Participantes"},{id:"chat",icon:"fa-comment",label:"Chat"},{id:"notes",icon:"fa-sticky-note",label:"Notas"},{id:"transcript",icon:"fa-closed-captioning",label:"Transcripcin"},{id:"ai",icon:"fa-robot",label:"IA"}];return t?e.jsxs("div",{className:"view active-session",id:"video-conference-view",children:[e.jsxs("div",{className:"vc-header",children:[e.jsx("div",{className:"vc-header-left",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-video"})," Sesin de Videoconferencia"]})}),e.jsx("div",{className:"vc-header-center",children:e.jsxs("div",{className:"vc-timer",children:[i&&e.jsx("span",{className:"recording-indicator"}),e.jsx("i",{className:"fas fa-clock"}),e.jsx("span",{children:We(_)})]})}),e.jsx("div",{className:"vc-header-right",children:e.jsx("button",{className:"btn btn-sm",onClick:()=>N(!j),title:j?"Ocultar panel":"Mostrar panel",children:e.jsx("i",{className:`fas fa-${j?"chevron-right":"chevron-left"}`})})})]}),e.jsxs("div",{className:"vc-main",children:[e.jsx("div",{className:`vc-video-area ${j?"":"full-width"}`,children:e.jsx("div",{className:"vc-video-grid",children:e.jsxs("div",{className:"vc-video-item main-video",children:[e.jsx("video",{ref:Fe,autoPlay:!0,muted:!0,playsInline:!0,className:c?"video-off":""}),c&&e.jsxs("div",{className:"video-off-overlay",children:[e.jsx("i",{className:"fas fa-user-circle"}),e.jsx("span",{children:"Cmara desactivada"})]}),e.jsxs("div",{className:"video-label",children:[e.jsxs("span",{children:["T ",((Pa=d[0])==null?void 0:Pa.isHost)&&"(Host)"]}),l&&e.jsx("i",{className:"fas fa-microphone-slash"})]})]})})}),j&&e.jsxs("div",{className:"vc-sidebar",children:[e.jsx("div",{className:"vc-sidebar-tabs",children:Aa.map(R=>e.jsx("button",{className:`sidebar-tab ${m===R.id?"active":""}`,onClick:()=>b(R.id),title:R.label,children:e.jsx("i",{className:`fas ${R.icon}`})},R.id))}),e.jsxs("div",{className:"vc-sidebar-content",children:[e.jsx("div",{className:"panel-header",children:e.jsx("h4",{children:(Ra=Aa.find(R=>R.id===m))==null?void 0:Ra.label})}),m==="participants"&&e.jsx("div",{className:"vc-panel participants-panel",children:e.jsx("div",{className:"panel-list",children:d.map(R=>e.jsxs("div",{className:"participant-item",children:[e.jsx("div",{className:"participant-avatar",children:e.jsx("i",{className:"fas fa-user-circle"})}),e.jsx("div",{className:"participant-info",children:e.jsxs("span",{className:"participant-name",children:[R.name," ",R.isHost&&e.jsx("span",{className:"host-badge",children:"Host"})]})}),e.jsxs("div",{className:"participant-status",children:[R.isMuted&&e.jsx("i",{className:"fas fa-microphone-slash"}),R.isVideoOff&&e.jsx("i",{className:"fas fa-video-slash"})]})]},R.id))})}),m==="chat"&&e.jsxs("div",{className:"vc-panel chat-panel",children:[e.jsx("div",{className:"chat-messages",children:z.length>0?z.map(R=>e.jsxs("div",{className:"chat-message",children:[e.jsxs("div",{className:"message-header",children:[e.jsx("span",{className:"message-user",children:R.user}),e.jsx("span",{className:"message-time",children:new Date(R.timestamp).toLocaleTimeString()})]}),e.jsx("div",{className:"message-content",children:R.message})]},R.id)):e.jsxs("div",{className:"empty-chat",children:[e.jsx("i",{className:"fas fa-comments"}),e.jsx("p",{children:"No hay mensajes"})]})}),e.jsxs("div",{className:"chat-input",children:[e.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",value:O,onChange:R=>be(R.target.value),onKeyPress:R=>R.key==="Enter"&&la()}),e.jsx("button",{onClick:la,children:e.jsx("i",{className:"fas fa-paper-plane"})})]})]}),m==="notes"&&e.jsxs("div",{className:"vc-panel notes-panel",children:[e.jsx("div",{className:"notes-list",children:P.length>0?P.map(R=>e.jsxs("div",{className:"note-item",children:[e.jsx("div",{className:"note-content",children:R.content}),e.jsxs("div",{className:"note-meta",children:[e.jsx("span",{children:R.author}),e.jsx("span",{children:new Date(R.timestamp).toLocaleTimeString()})]})]},R.id)):e.jsxs("div",{className:"empty-notes",children:[e.jsx("i",{className:"fas fa-sticky-note"}),e.jsx("p",{children:"No hay notas"})]})}),e.jsxs("div",{className:"notes-input",children:[e.jsx("textarea",{placeholder:"Agregar nota...",value:me,onChange:R=>H(R.target.value),rows:2}),e.jsxs("button",{onClick:Oe,children:[e.jsx("i",{className:"fas fa-plus"})," Agregar"]})]})]}),m==="transcript"&&e.jsx("div",{className:"vc-panel transcript-panel",children:te.length>0?e.jsx("div",{className:"transcript-list",children:te.map((R,ve)=>e.jsxs("div",{className:"transcript-item",children:[e.jsxs("span",{className:"transcript-speaker",children:[R.speaker,":"]}),e.jsx("span",{className:"transcript-text",children:R.text})]},ve))}):e.jsxs("div",{className:"empty-transcript",children:[e.jsx("i",{className:"fas fa-closed-captioning"}),e.jsx("p",{children:"La transcripcin aparecer aqu"}),e.jsx("span",{children:"Inicia la grabacin para activar"})]})}),m==="ai"&&e.jsxs("div",{className:"vc-panel ai-panel",children:[e.jsxs("div",{className:"ai-plugins",children:[e.jsxs("div",{className:"ai-plugin",children:[e.jsx("i",{className:"fas fa-robot"}),e.jsx("span",{children:"GPT-4"}),e.jsxs("label",{className:"toggle",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"ai-plugin",children:[e.jsx("i",{className:"fas fa-brain"}),e.jsx("span",{children:"Claude"}),e.jsxs("label",{className:"toggle",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"ai-plugin",children:[e.jsx("i",{className:"fas fa-gem"}),e.jsx("span",{children:"Gemini"}),e.jsxs("label",{className:"toggle",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{className:"slider"})]})]})]}),e.jsxs("div",{className:"ai-actions",children:[e.jsxs("button",{className:"btn btn-sm btn-secondary",children:[e.jsx("i",{className:"fas fa-file-alt"})," Generar Minutas"]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",children:[e.jsx("i",{className:"fas fa-tasks"})," Extraer Tareas"]})]})]})]})]})]}),e.jsxs("div",{className:"vc-controls",children:[e.jsxs("div",{className:"controls-group",children:[e.jsx("button",{className:`control-btn ${l?"active":""}`,onClick:na,title:l?"Activar micrfono":"Silenciar",children:e.jsx("i",{className:`fas fa-microphone${l?"-slash":""}`})}),e.jsx("button",{className:`control-btn ${c?"active":""}`,onClick:ce,title:c?"Activar cmara":"Desactivar cmara",children:e.jsx("i",{className:`fas fa-video${c?"-slash":""}`})}),e.jsx("button",{className:`control-btn ${h?"active":""}`,onClick:he,title:h?"Dejar de compartir":"Compartir pantalla",children:e.jsx("i",{className:"fas fa-desktop"})}),e.jsx("button",{className:`control-btn recording ${i?"active":""}`,onClick:ge,title:i?"Detener grabacin":"Iniciar grabacin",children:e.jsx("i",{className:"fas fa-record-vinyl"})})]}),e.jsx("div",{className:"controls-group center",children:e.jsx("button",{className:"control-btn end-call",onClick:Me,title:"Finalizar sesin",children:e.jsx("i",{className:"fas fa-phone-slash"})})}),e.jsxs("div",{className:"controls-group",children:[e.jsxs("button",{className:"control-btn",onClick:()=>{N(!0),b("chat")},title:"Chat",children:[e.jsx("i",{className:"fas fa-comment"}),z.length>0&&e.jsx("span",{className:"badge",children:z.length})]}),e.jsxs("button",{className:"control-btn",onClick:()=>{N(!0),b("participants")},title:"Participantes",children:[e.jsx("i",{className:"fas fa-users"}),e.jsx("span",{className:"badge",children:d.length})]}),e.jsx("button",{className:"control-btn",title:"Ms opciones",children:e.jsx("i",{className:"fas fa-ellipsis-h"})})]})]}),i&&e.jsxs("div",{className:"recording-time-indicator",children:[e.jsx("span",{className:"rec-dot"}),e.jsxs("span",{children:["REC ",We(y)]})]}),Z&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal save-recording-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-save"})," Guardar Grabacin"]}),e.jsx("button",{className:"modal-close",onClick:()=>ne(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"modal-body",children:se?e.jsxs("div",{className:"processing-indicator",children:[e.jsx("div",{className:"processing-spinner"}),e.jsx("p",{children:de})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-tag"})," Nombre de la sesin"]}),e.jsx("input",{type:"text",value:M,onChange:R=>Q(R.target.value),placeholder:"Nombre de la conferencia"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-video"})," Formatos de video"]}),e.jsxs("div",{className:"format-options",children:[e.jsxs("label",{className:"format-option",children:[e.jsx("input",{type:"checkbox",checked:S.webm,onChange:R=>J({...S,webm:R.target.checked})}),e.jsx("span",{className:"format-icon",children:e.jsx("i",{className:"fas fa-file-video"})}),e.jsx("span",{children:"WebM (Original)"})]}),e.jsxs("label",{className:"format-option",children:[e.jsx("input",{type:"checkbox",checked:S.mp4,onChange:R=>J({...S,mp4:R.target.checked})}),e.jsx("span",{className:"format-icon",children:e.jsx("i",{className:"fas fa-file-video"})}),e.jsx("span",{children:"MP4"})]}),e.jsxs("label",{className:"format-option",children:[e.jsx("input",{type:"checkbox",checked:S.mp3,onChange:R=>J({...S,mp3:R.target.checked})}),e.jsx("span",{className:"format-icon",children:e.jsx("i",{className:"fas fa-file-audio"})}),e.jsx("span",{children:"MP3 (Solo audio)"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-file-alt"})," Entregables a generar"]}),e.jsxs("div",{className:"deliverable-options",children:[e.jsxs("label",{className:"deliverable-option",children:[e.jsx("input",{type:"checkbox",checked:x.videoAnalysis,onChange:R=>W({...x,videoAnalysis:R.target.checked})}),e.jsxs("div",{className:"deliverable-info",children:[e.jsx("i",{className:"fas fa-chart-line"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Anlisis de Video"}),e.jsx("small",{children:"Narrativas y resumen ejecutivo"})]})]})]}),e.jsxs("label",{className:"deliverable-option",children:[e.jsx("input",{type:"checkbox",checked:x.transcript,onChange:R=>W({...x,transcript:R.target.checked})}),e.jsxs("div",{className:"deliverable-info",children:[e.jsx("i",{className:"fas fa-closed-captioning"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Transcripcin"}),e.jsx("small",{children:"Texto completo con timestamps"})]})]})]}),e.jsxs("label",{className:"deliverable-option",children:[e.jsx("input",{type:"checkbox",checked:x.minutes,onChange:R=>W({...x,minutes:R.target.checked})}),e.jsxs("div",{className:"deliverable-info",children:[e.jsx("i",{className:"fas fa-file-contract"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Minuta"}),e.jsx("small",{children:"Acuerdos y compromisos"})]})]})]}),e.jsxs("label",{className:"deliverable-option",children:[e.jsx("input",{type:"checkbox",checked:x.asIs,onChange:R=>W({...x,asIs:R.target.checked})}),e.jsxs("div",{className:"deliverable-info",children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Diagrama As-Is"}),e.jsx("small",{children:"Estado actual en Mermaid"})]})]})]}),e.jsxs("label",{className:"deliverable-option",children:[e.jsx("input",{type:"checkbox",checked:x.toBe,onChange:R=>W({...x,toBe:R.target.checked})}),e.jsxs("div",{className:"deliverable-info",children:[e.jsx("i",{className:"fas fa-rocket"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Diagrama To-Be"}),e.jsx("small",{children:"Estado futuro en Mermaid"})]})]})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"email-toggle",children:[e.jsx("input",{type:"checkbox",checked:x.sendEmail,onChange:R=>W({...x,sendEmail:R.target.checked})}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-envelope"})," Enviar entregables por correo"]})]}),x.sendEmail&&e.jsx("input",{type:"email",value:Y,onChange:R=>fe(R.target.value),placeholder:"correo@ejemplo.com",className:"email-input"})]}),e.jsxs("div",{className:"session-info-summary",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsxs("span",{children:["Duracin: ",We((G==null?void 0:G.duration)||0)]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("i",{className:"fas fa-users"}),e.jsxs("span",{children:["Participantes: ",d.length]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("i",{className:"fas fa-comments"}),e.jsxs("span",{children:["Mensajes: ",z.length]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("i",{className:"fas fa-sticky-note"}),e.jsxs("span",{children:["Notas: ",P.length]})]})]})]})}),!se&&e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>ne(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",onClick:re,children:[e.jsx("i",{className:"fas fa-download"})," Guardar Todo"]})]})]})})]}):e.jsx("div",{className:"view",id:"video-conference-view",children:e.jsx("div",{className:"vc-landing",children:e.jsxs("div",{className:"vc-landing-content",children:[e.jsx("div",{className:"vc-landing-icon",children:e.jsx("i",{className:"fas fa-video"})}),e.jsx("h2",{children:"Videoconferencia"}),e.jsx("p",{children:"Inicia una sesin de videoconferencia con grabacin, transcripcin y notas colaborativas"}),e.jsxs("div",{className:"vc-features-grid",children:[e.jsxs("div",{className:"vc-feature",children:[e.jsx("i",{className:"fas fa-record-vinyl"}),e.jsx("span",{children:"Grabacin"})]}),e.jsxs("div",{className:"vc-feature",children:[e.jsx("i",{className:"fas fa-closed-captioning"}),e.jsx("span",{children:"Transcripcin"})]}),e.jsxs("div",{className:"vc-feature",children:[e.jsx("i",{className:"fas fa-sticky-note"}),e.jsx("span",{children:"Notas"})]}),e.jsxs("div",{className:"vc-feature",children:[e.jsx("i",{className:"fas fa-robot"}),e.jsx("span",{children:"IA Integrada"})]})]}),e.jsxs("button",{className:"btn btn-success start-session-btn",onClick:xe,children:[e.jsx("i",{className:"fas fa-video"})," Iniciar Sesin"]})]})})})}function xx(){const{t:a}=Ta(),{socket:t,isConnected:r}=Er(),[i,n]=f.useState(""),[l,s]=f.useState("all"),[c,p]=f.useState("all"),[h,w]=f.useState(!1),[m,b]=f.useState(!1),[j,N]=f.useState(!1),[_,D]=f.useState(null),[y,g]=f.useState(!1),[d,T]=f.useState({name:"",icon:"",outputPath:"C:\\Alqvimia\\Agents",includeRuntime:!0,autoStart:!1,minimized:!0,logFile:!0}),[z,q]=f.useState({name:"",category:"support",description:"",model:"gpt-4",type:"customer-service"}),[P,L]=f.useState([{id:1,name:"Agente de Cobranza",type:"collection",category:"finance",status:"active",conversations:156,description:"Gestin automatizada de cobranzas",exePath:null},{id:2,name:"Atencin al Cliente",type:"customer-service",category:"support",status:"active",conversations:432,description:"Soporte general y resolucin de dudas",exePath:null},{id:3,name:"Chatbot FAQ",type:"customer-service",category:"support",status:"active",conversations:1245,description:"Respuestas automticas a preguntas frecuentes",exePath:null},{id:4,name:"Mesa de Ayuda TI",type:"it-support",category:"tech",status:"active",conversations:89,description:"Soporte tcnico nivel 1 y 2",exePath:null},{id:5,name:"Asistente DevOps",type:"it-support",category:"tech",status:"inactive",conversations:234,description:"Automatizacin y monitoreo",exePath:null},{id:6,name:"Asistente de Ventas",type:"sales",category:"sales",status:"active",conversations:267,description:"Calificacin de leads y seguimiento",exePath:null},{id:7,name:"Generador de Leads",type:"sales",category:"sales",status:"active",conversations:789,description:"Prospeccin y captura de clientes",exePath:null},{id:8,name:"CFO Assistant",type:"finance",category:"finance",status:"active",conversations:45,description:"Anlisis financiero y reportes",exePath:null},{id:9,name:"Recruiter Bot",type:"hr",category:"hr",status:"active",conversations:345,description:"Reclutamiento y screening",exePath:null},{id:10,name:"Content Creator",type:"marketing",category:"marketing",status:"active",conversations:234,description:"Generacin de contenido",exePath:null},{id:11,name:"WhatsApp Bot",type:"multichannel",category:"channels",status:"active",conversations:2345,description:"Atencin por WhatsApp",exePath:null},{id:12,name:"Voice IVR Agent",type:"multichannel",category:"channels",status:"active",conversations:890,description:"Respuesta de voz interactiva",exePath:null}]),te=[{id:"all",name:"Todos",icon:"fa-globe"},{id:"finance",name:"Finanzas",icon:"fa-coins"},{id:"support",name:"Soporte",icon:"fa-headset"},{id:"tech",name:"Tecnologa",icon:"fa-laptop-code"},{id:"sales",name:"Ventas",icon:"fa-chart-line"},{id:"hr",name:"RRHH",icon:"fa-users-cog"},{id:"marketing",name:"Marketing",icon:"fa-bullhorn"},{id:"channels",name:"Multicanal",icon:"fa-comments"}],X=[{id:"gpt-4",name:"GPT-4",provider:"OpenAI"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",provider:"OpenAI"},{id:"claude-3-opus",name:"Claude 3 Opus",provider:"Anthropic"},{id:"claude-3-sonnet",name:"Claude 3.5 Sonnet",provider:"Anthropic"},{id:"gemini-pro",name:"Gemini Pro",provider:"Google"},{id:"llama-3",name:"Llama 3",provider:"Meta"}],O=S=>({collection:"fa-comments-dollar","customer-service":"fa-headset","it-support":"fa-laptop-medical",sales:"fa-user-tie",finance:"fa-chart-pie",hr:"fa-users-cog",marketing:"fa-bullhorn",multichannel:"fa-comments"})[S]||"fa-robot",be=S=>({collection:"linear-gradient(135deg, #f59e0b, #d97706)","customer-service":"linear-gradient(135deg, #3b82f6, #2563eb)","it-support":"linear-gradient(135deg, #10b981, #059669)",sales:"linear-gradient(135deg, #8b5cf6, #7c3aed)",finance:"linear-gradient(135deg, #14b8a6, #0d9488)",hr:"linear-gradient(135deg, #ec4899, #db2777)",marketing:"linear-gradient(135deg, #f97316, #ea580c)",multichannel:"linear-gradient(135deg, #84cc16, #65a30d)"})[S]||"linear-gradient(135deg, #6366f1, #8b5cf6)",me=f.useMemo(()=>P.filter(S=>{const J=S.name.toLowerCase().includes(i.toLowerCase())||S.description.toLowerCase().includes(i.toLowerCase()),x=l==="all"||S.category===l,W=c==="all"||S.status===c;return J&&x&&W}),[P,i,l,c]),H=S=>{L(P.map(J=>J.id===S?{...J,status:J.status==="active"?"inactive":"active"}:J))},Z=f.useMemo(()=>({total:P.length,active:P.filter(S=>S.status==="active").length,inactive:P.filter(S=>S.status==="inactive").length,withExe:P.filter(S=>S.exePath).length}),[P]),ne=()=>{if(!z.name.trim()){alert("Ingresa un nombre");return}const S={id:Date.now(),name:z.name,type:z.type,category:z.category,description:z.description,model:z.model,status:"inactive",conversations:0,exePath:null,createdAt:new Date().toISOString()};L([...P,S]),w(!1),q({name:"",category:"support",description:"",model:"gpt-4",type:"customer-service"})},ye=S=>{D(S),T({...d,name:S.name.replace(/[^a-zA-Z0-9]/g,"_")}),N(!0)},B=async()=>{if(!_)return;if(!t||!r){alert("No hay conexin con el servidor. Por favor, inicia el servidor primero.");return}g(!0);const S=x=>{g(!1),x.success?(L(P.map(W=>W.id===_.id?{...W,exePath:x.exePath}:W)),alert(` ${x.message}

Ruta: ${x.exePath}`),N(!1)):alert(` Error: ${x.error||"Error desconocido"}`),t.off("agent:exe-generated",S),t.off("agent:exe-error",J)},J=x=>{g(!1),alert(` Error generando EXE: ${x.error||"Error desconocido"}`),t.off("agent:exe-generated",S),t.off("agent:exe-error",J)};t.on("agent:exe-generated",S),t.on("agent:exe-error",J),t.emit("agent:generate-exe",{agentId:_.id,config:d}),setTimeout(()=>{y&&(g(!1),alert(" Timeout: La generacin est tardando demasiado."),t.off("agent:exe-generated",S),t.off("agent:exe-error",J))},3e4)},G=S=>{confirm("Eliminar este agente?")&&L(P.filter(J=>J.id!==S))},K=S=>{if(!S.exePath){alert("Este agente no tiene un ejecutable generado.");return}if(!t||!r){alert("No hay conexin con el servidor.");return}const J=W=>{W.success&&alert(` Agente iniciado: ${S.name}`),t.off("agent:exe-started",J),t.off("agent:exe-error",x)},x=W=>{alert(` Error: ${W.error}`),t.off("agent:exe-started",J),t.off("agent:exe-error",x)};t.on("agent:exe-started",J),t.on("agent:exe-error",x),t.emit("agent:run-exe",{path:S.exePath})};return e.jsxs("div",{className:"view",id:"agents-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-robot"})," Agentes IA"]}),e.jsx("p",{children:"Gestiona tus agentes de inteligencia artificial"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",padding:"1.25rem",borderRadius:"12px",color:"white"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-robot",style:{fontSize:"1.5rem"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700"},children:Z.total}),e.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Agentes"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #10b981, #059669)",padding:"1.25rem",borderRadius:"12px",color:"white"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-check-circle",style:{fontSize:"1.5rem"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700"},children:Z.active}),e.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Activos"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #f59e0b, #d97706)",padding:"1.25rem",borderRadius:"12px",color:"white"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-pause-circle",style:{fontSize:"1.5rem"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700"},children:Z.inactive}),e.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Inactivos"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",padding:"1.25rem",borderRadius:"12px",color:"white"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-cube",style:{fontSize:"1.5rem"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700"},children:Z.withExe}),e.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Con EXE"})]})]})})]}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:te.map(S=>e.jsxs("button",{onClick:()=>s(S.id),style:{padding:"0.5rem 1rem",background:l===S.id?"var(--primary-color)":"var(--bg-secondary)",border:`1px solid ${l===S.id?"var(--primary-color)":"var(--border-color)"}`,borderRadius:"20px",color:l===S.id?"white":"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:[e.jsx("i",{className:`fas ${S.icon}`}),S.name]},S.id))}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("i",{className:"fas fa-search",style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),e.jsx("input",{type:"text",placeholder:"Buscar agentes...",value:i,onChange:S=>n(S.target.value),style:{padding:"0.75rem 1rem 0.75rem 2.5rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)",width:"300px"}})]}),e.jsxs("select",{value:c,onChange:S=>p(S.target.value),style:{padding:"0.75rem 1rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"all",children:"Todos los estados"}),e.jsx("option",{value:"active",children:"Activos"}),e.jsx("option",{value:"inactive",children:"Inactivos"})]})]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>w(!0),children:[e.jsx("i",{className:"fas fa-plus"})," Crear Agente"]})]}),e.jsxs("div",{style:{marginBottom:"1rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Mostrando ",me.length," de ",P.length," agentes"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1.25rem"},children:me.map(S=>e.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"12px",border:"1px solid var(--border-color)",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"1.25rem",background:be(S.type),display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"48px",height:"48px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:`fas ${O(S.type)}`,style:{fontSize:"1.25rem",color:"white"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{style:{margin:"0 0 0.25rem",color:"white",fontSize:"1rem"},children:S.name}),e.jsx("span",{className:`badge ${S.status==="active"?"badge-success":"badge-secondary"}`,children:S.status==="active"?"Activo":"Inactivo"}),S.exePath&&e.jsxs("span",{className:"badge",style:{marginLeft:"0.5rem",background:"#3b82f6"},children:[e.jsx("i",{className:"fas fa-cube"})," EXE"]})]}),e.jsx("button",{onClick:()=>H(S.id),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"8px",padding:"0.5rem",cursor:"pointer",color:"white"},children:e.jsx("i",{className:`fas fa-${S.status==="active"?"pause":"play"}`})})]}),e.jsxs("div",{style:{padding:"1.25rem"},children:[e.jsx("p",{style:{margin:"0 0 1rem",color:"var(--text-secondary)",fontSize:"0.875rem",lineHeight:"1.5"},children:S.description}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:e.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:[e.jsx("i",{className:"fas fa-comments"})," ",S.conversations.toLocaleString()," conversaciones"]})}),S.exePath&&e.jsxs("div",{style:{padding:"0.5rem",background:"var(--bg-tertiary)",borderRadius:"6px",fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"1rem",fontFamily:"monospace"},children:[e.jsx("i",{className:"fas fa-file-alt"})," ",S.exePath]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"btn btn-sm btn-primary",style:{flex:1},onClick:()=>{D(S),b(!0)},children:[e.jsx("i",{className:"fas fa-cog"})," Config"]}),S.exePath?e.jsx("button",{className:"btn btn-sm btn-success",title:"Ejecutar EXE",onClick:()=>K(S),children:e.jsx("i",{className:"fas fa-play"})}):e.jsx("button",{className:"btn btn-sm btn-info",title:"Generar EXE",onClick:()=>ye(S),children:e.jsx("i",{className:"fas fa-cube"})}),e.jsx("button",{className:"btn btn-sm btn-danger",title:"Eliminar",onClick:()=>G(S.id),children:e.jsx("i",{className:"fas fa-trash"})})]})]})]},S.id))}),me.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"var(--text-secondary)"},children:[e.jsx("i",{className:"fas fa-robot",style:{fontSize:"3rem",marginBottom:"1rem",opacity:.5}}),e.jsx("h3",{children:"No se encontraron agentes"}),e.jsx("p",{children:"Intenta ajustar los filtros de bsqueda"})]}),h&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),style:{maxWidth:"500px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-plus"})," Crear Nuevo Agente"]}),e.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-robot"})," Nombre del Agente *"]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: Asistente de Ventas",value:z.name,onChange:S=>q({...z,name:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-layer-group"})," Categora"]}),e.jsx("select",{className:"form-control",value:z.category,onChange:S=>q({...z,category:S.target.value}),children:te.filter(S=>S.id!=="all").map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-align-left"})," Descripcin"]}),e.jsx("textarea",{className:"form-control",rows:3,placeholder:"Describe las funciones del agente...",value:z.description,onChange:S=>q({...z,description:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-brain"})," Modelo de IA"]}),e.jsx("select",{className:"form-control",value:z.model,onChange:S=>q({...z,model:S.target.value}),children:X.map(S=>e.jsxs("option",{value:S.id,children:[S.name," (",S.provider,")"]},S.id))})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",onClick:ne,children:[e.jsx("i",{className:"fas fa-check"})," Crear Agente"]})]})]})}),j&&_&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),style:{maxWidth:"550px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-cube"})," Generar Ejecutable (.EXE)"]}),e.jsx("button",{className:"modal-close",onClick:()=>N(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{padding:"1rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1))",borderRadius:"10px",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:be(_.type),borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:`fas ${O(_.type)}`,style:{color:"white",fontSize:"1.25rem"}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0},children:_.name}),e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-muted)"},children:_.description})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-file"})," Nombre del archivo *"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"text",className:"form-control",value:d.name,onChange:S=>T({...d,name:S.target.value})}),e.jsx("span",{style:{color:"var(--text-muted)"},children:".exe"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-folder"})," Ruta de salida"]}),e.jsx("input",{type:"text",className:"form-control",value:d.outputPath,onChange:S=>T({...d,outputPath:S.target.value})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginTop:"1rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",background:"var(--bg-tertiary)",borderRadius:"8px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:d.includeRuntime,onChange:S=>T({...d,includeRuntime:S.target.checked})}),e.jsx("span",{children:"Incluir runtime"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",background:"var(--bg-tertiary)",borderRadius:"8px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:d.autoStart,onChange:S=>T({...d,autoStart:S.target.checked})}),e.jsx("span",{children:"Auto-iniciar"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",background:"var(--bg-tertiary)",borderRadius:"8px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:d.minimized,onChange:S=>T({...d,minimized:S.target.checked})}),e.jsx("span",{children:"Iniciar minimizado"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",background:"var(--bg-tertiary)",borderRadius:"8px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:d.logFile,onChange:S=>T({...d,logFile:S.target.checked})}),e.jsx("span",{children:"Generar logs"})]})]}),e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"8px",fontSize:"0.85rem"},children:[e.jsxs("strong",{children:[e.jsx("i",{className:"fas fa-info-circle"})," El ejecutable incluir:"]}),e.jsxs("ul",{style:{margin:"0.5rem 0 0",paddingLeft:"1.5rem"},children:[e.jsx("li",{children:"Configuracin del agente"}),e.jsx("li",{children:"Modelo de IA seleccionado"}),e.jsx("li",{children:"Conexin al servidor Alqvimia"}),e.jsx("li",{children:"Interfaz de sistema en bandeja"})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>N(!1),children:"Cancelar"}),e.jsx("button",{className:"btn btn-primary",onClick:B,disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-download"})," Generar EXE"]})})]})]})}),m&&_&&e.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:e.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-cog"})," Configurar Agente"]}),e.jsx("button",{className:"modal-close",onClick:()=>b(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{padding:"1rem",background:be(_.type),borderRadius:"10px",marginBottom:"1.5rem",color:"white"},children:[e.jsx("h4",{style:{margin:0},children:_.name}),e.jsx("p",{style:{margin:"0.5rem 0 0",opacity:.9},children:_.description})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",className:"form-control",defaultValue:_.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Descripcin"}),e.jsx("textarea",{className:"form-control",rows:2,defaultValue:_.description})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Modelo de IA"}),e.jsx("select",{className:"form-control",defaultValue:_.model||"gpt-4",children:X.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prompt del sistema"}),e.jsx("textarea",{className:"form-control",rows:4,placeholder:"Instrucciones para el agente...",style:{fontFamily:"monospace",fontSize:"0.85rem"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>b(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>{b(!1),alert("Configuracin guardada")},children:[e.jsx("i",{className:"fas fa-save"})," Guardar"]})]})]})})]})}function vx(){const{t:a}=Ta(),[t,r]=f.useState(""),[i,n]=f.useState(!1),[l,s]=f.useState([{id:1,name:"PostgreSQL",type:"database",icon:"fa-database",status:"connected",color:"#336791",description:"Base de datos relacional avanzada"},{id:2,name:"MySQL",type:"database",icon:"fa-database",status:"disconnected",color:"#4479A1",description:"Base de datos relacional popular"},{id:3,name:"MongoDB",type:"database",icon:"fa-leaf",status:"connected",color:"#47A248",description:"Base de datos NoSQL documental"},{id:4,name:"Redis",type:"database",icon:"fa-bolt",status:"connected",color:"#DC382D",description:"Cache y store en memoria"},{id:5,name:"SQLite",type:"database",icon:"fa-database",status:"disconnected",color:"#003B57",description:"Base de datos embebida"},{id:6,name:"MariaDB",type:"database",icon:"fa-database",status:"disconnected",color:"#003545",description:"Fork de MySQL open source"},{id:7,name:"Oracle",type:"database",icon:"fa-database",status:"connected",color:"#F80000",description:"Base de datos empresarial"},{id:8,name:"SQL Server",type:"database",icon:"fa-microsoft",brand:!0,status:"connected",color:"#CC2927",description:"Base de datos Microsoft"},{id:9,name:"Cassandra",type:"database",icon:"fa-eye",status:"disconnected",color:"#1287B1",description:"Base de datos distribuida"},{id:10,name:"DynamoDB",type:"database",icon:"fa-aws",brand:!0,status:"connected",color:"#4053D6",description:"NoSQL de AWS"},{id:11,name:"REST API",type:"api",icon:"fa-cloud",status:"connected",color:"#FF6B6B",description:"Conexin RESTful genrica"},{id:12,name:"GraphQL",type:"api",icon:"fa-project-diagram",status:"connected",color:"#E535AB",description:"API con queries flexibles"},{id:13,name:"OpenAPI/Swagger",type:"api",icon:"fa-book",status:"disconnected",color:"#85EA2D",description:"Documentacin y testing"},{id:14,name:"gRPC",type:"api",icon:"fa-network-wired",status:"disconnected",color:"#244C5A",description:"RPC de alto rendimiento"},{id:15,name:"SOAP",type:"api",icon:"fa-soap",status:"disconnected",color:"#0078D4",description:"Web services XML"},{id:16,name:"WebSocket",type:"api",icon:"fa-bolt",status:"connected",color:"#010101",description:"Comunicacin bidireccional"},{id:17,name:"Amazon S3",type:"storage",icon:"fa-aws",brand:!0,status:"connected",color:"#FF9900",description:"Almacenamiento en la nube AWS"},{id:18,name:"Google Cloud Storage",type:"storage",icon:"fa-google",brand:!0,status:"connected",color:"#4285F4",description:"Almacenamiento GCP"},{id:19,name:"Azure Blob",type:"storage",icon:"fa-microsoft",brand:!0,status:"disconnected",color:"#0089D6",description:"Almacenamiento Azure"},{id:20,name:"Dropbox",type:"storage",icon:"fa-dropbox",brand:!0,status:"connected",color:"#0061FF",description:"Sincronizacin de archivos"},{id:21,name:"OneDrive",type:"storage",icon:"fa-microsoft",brand:!0,status:"connected",color:"#0078D4",description:"Almacenamiento Microsoft"},{id:22,name:"Box",type:"storage",icon:"fa-box",status:"disconnected",color:"#0061D5",description:"Gestin empresarial de archivos"},{id:23,name:"Google Drive",type:"storage",icon:"fa-google-drive",brand:!0,status:"connected",color:"#34A853",description:"Almacenamiento Google"},{id:24,name:"MinIO",type:"storage",icon:"fa-server",status:"disconnected",color:"#C72C48",description:"S3 compatible self-hosted"},{id:25,name:"WhatsApp Business",type:"messaging",icon:"fa-whatsapp",brand:!0,status:"connected",color:"#25D366",description:"Mensajera empresarial"},{id:26,name:"Slack",type:"messaging",icon:"fa-slack",brand:!0,status:"disconnected",color:"#4A154B",description:"Colaboracin empresarial"},{id:27,name:"Microsoft Teams",type:"messaging",icon:"fa-microsoft",brand:!0,status:"connected",color:"#6264A7",description:"Comunicacin Microsoft"},{id:28,name:"Telegram",type:"messaging",icon:"fa-telegram",brand:!0,status:"connected",color:"#0088CC",description:"Mensajera segura"},{id:29,name:"Discord",type:"messaging",icon:"fa-discord",brand:!0,status:"disconnected",color:"#5865F2",description:"Comunicacin por voz y texto"},{id:30,name:"Twilio SMS",type:"messaging",icon:"fa-sms",status:"connected",color:"#F22F46",description:"Mensajes de texto programables"},{id:31,name:"SendGrid",type:"messaging",icon:"fa-envelope",status:"connected",color:"#1A82E2",description:"Email transaccional"},{id:32,name:"Mailchimp",type:"messaging",icon:"fa-mailchimp",brand:!0,status:"disconnected",color:"#FFE01B",description:"Email marketing"},{id:33,name:"OpenAI GPT",type:"ai",icon:"fa-robot",status:"connected",color:"#412991",description:"Modelos de lenguaje GPT"},{id:34,name:"Claude AI",type:"ai",icon:"fa-brain",status:"connected",color:"#D77544",description:"Asistente IA de Anthropic"},{id:35,name:"Google Gemini",type:"ai",icon:"fa-google",brand:!0,status:"connected",color:"#4285F4",description:"IA multimodal de Google"},{id:36,name:"Azure OpenAI",type:"ai",icon:"fa-microsoft",brand:!0,status:"disconnected",color:"#0078D4",description:"OpenAI en Azure"},{id:37,name:"Hugging Face",type:"ai",icon:"fa-smile",status:"connected",color:"#FFD21E",description:"Modelos open source"},{id:38,name:"AWS Bedrock",type:"ai",icon:"fa-aws",brand:!0,status:"disconnected",color:"#FF9900",description:"IA fundacional AWS"},{id:39,name:"Ollama",type:"ai",icon:"fa-server",status:"connected",color:"#000000",description:"LLMs locales"},{id:40,name:"LangChain",type:"ai",icon:"fa-link",status:"connected",color:"#1C3C3C",description:"Framework para LLMs"},{id:41,name:"Salesforce",type:"crm",icon:"fa-salesforce",brand:!0,status:"connected",color:"#00A1E0",description:"CRM lder del mercado"},{id:42,name:"HubSpot",type:"crm",icon:"fa-hubspot",brand:!0,status:"connected",color:"#FF7A59",description:"CRM y marketing"},{id:43,name:"Zoho CRM",type:"crm",icon:"fa-address-book",status:"disconnected",color:"#C8202B",description:"CRM econmico"},{id:44,name:"SAP",type:"crm",icon:"fa-industry",status:"connected",color:"#0FAAFF",description:"ERP empresarial"},{id:45,name:"Microsoft Dynamics",type:"crm",icon:"fa-microsoft",brand:!0,status:"disconnected",color:"#002050",description:"ERP y CRM Microsoft"},{id:46,name:"Oracle ERP",type:"crm",icon:"fa-building",status:"disconnected",color:"#F80000",description:"Suite empresarial Oracle"},{id:47,name:"NetSuite",type:"crm",icon:"fa-chart-line",status:"disconnected",color:"#0267C1",description:"ERP en la nube"},{id:48,name:"Stripe",type:"payments",icon:"fa-stripe",brand:!0,status:"connected",color:"#635BFF",description:"Pagos online"},{id:49,name:"PayPal",type:"payments",icon:"fa-paypal",brand:!0,status:"connected",color:"#003087",description:"Pagos digitales"},{id:50,name:"MercadoPago",type:"payments",icon:"fa-credit-card",status:"connected",color:"#009EE3",description:"Pagos en LATAM"},{id:51,name:"Square",type:"payments",icon:"fa-square",status:"disconnected",color:"#006AFF",description:"Pagos y POS"},{id:52,name:"Conekta",type:"payments",icon:"fa-money-bill-wave",status:"disconnected",color:"#0D2E5C",description:"Pagos en Mxico"},{id:53,name:"Zapier",type:"automation",icon:"fa-bolt",status:"connected",color:"#FF4A00",description:"Automatizacin sin cdigo"},{id:54,name:"Make (Integromat)",type:"automation",icon:"fa-cogs",status:"connected",color:"#6D00CC",description:"Automatizacin visual"},{id:55,name:"Power Automate",type:"automation",icon:"fa-microsoft",brand:!0,status:"connected",color:"#0066FF",description:"Automatizacin Microsoft"},{id:56,name:"n8n",type:"automation",icon:"fa-sitemap",status:"disconnected",color:"#EA4B71",description:"Workflow open source"},{id:57,name:"UiPath",type:"automation",icon:"fa-robot",status:"connected",color:"#FA4616",description:"RPA empresarial"},{id:58,name:"Automation Anywhere",type:"automation",icon:"fa-robot",status:"disconnected",color:"#FF6900",description:"RPA cognitiva"},{id:59,name:"Prometheus",type:"monitoring",icon:"fa-fire",status:"connected",color:"#E6522C",description:"Monitoreo de mtricas"},{id:60,name:"Grafana",type:"monitoring",icon:"fa-chart-area",status:"connected",color:"#F46800",description:"Visualizacin de datos"},{id:61,name:"Datadog",type:"monitoring",icon:"fa-dog",status:"disconnected",color:"#632CA6",description:"Observabilidad completa"},{id:62,name:"New Relic",type:"monitoring",icon:"fa-chart-bar",status:"disconnected",color:"#008C99",description:"APM y monitoreo"},{id:63,name:"Splunk",type:"monitoring",icon:"fa-search",status:"connected",color:"#65A637",description:"Anlisis de logs"},{id:64,name:"Elasticsearch",type:"monitoring",icon:"fa-search-plus",status:"connected",color:"#005571",description:"Bsqueda y anlisis"}]),[c,p]=f.useState("all"),h=[{id:"all",label:"Todos",icon:"fa-th-large"},{id:"database",label:"Bases de Datos",icon:"fa-database"},{id:"api",label:"APIs",icon:"fa-cloud"},{id:"storage",label:"Almacenamiento",icon:"fa-hdd"},{id:"messaging",label:"Mensajera",icon:"fa-comments"},{id:"ai",label:"IA/ML",icon:"fa-brain"},{id:"crm",label:"CRM/ERP",icon:"fa-building"},{id:"payments",label:"Pagos",icon:"fa-credit-card"},{id:"automation",label:"Automatizacin",icon:"fa-cogs"},{id:"monitoring",label:"Monitoreo",icon:"fa-chart-line"}],w=f.useMemo(()=>{let j=l;return c!=="all"&&(j=j.filter(N=>N.type===c)),t&&(j=j.filter(N=>N.name.toLowerCase().includes(t.toLowerCase())||N.description.toLowerCase().includes(t.toLowerCase()))),j},[l,c,t]),m=f.useMemo(()=>({total:l.length,connected:l.filter(j=>j.status==="connected").length,disconnected:l.filter(j=>j.status==="disconnected").length}),[l]),b=j=>{s(l.map(N=>N.id===j?{...N,status:N.status==="connected"?"disconnected":"connected"}:N))};return e.jsxs("div",{className:"view",id:"mcp-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-plug"})," MCP Conectores"]}),e.jsx("p",{children:"Configura y gestiona tus conexiones con servicios externos"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"2rem"},children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",padding:"1.25rem",borderRadius:"12px",color:"white"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-plug",style:{fontSize:"1.5rem",opacity:.9}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700"},children:m.total}),e.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Conectores"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #10b981, #059669)",padding:"1.25rem",borderRadius:"12px",color:"white"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-check-circle",style:{fontSize:"1.5rem",opacity:.9}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700"},children:m.connected}),e.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Conectados"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #f59e0b, #d97706)",padding:"1.25rem",borderRadius:"12px",color:"white"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-unlink",style:{fontSize:"1.5rem",opacity:.9}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700"},children:m.disconnected}),e.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Desconectados"})]})]})})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("div",{style:{position:"relative",flex:"1",minWidth:"250px",maxWidth:"400px"},children:[e.jsx("i",{className:"fas fa-search",style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),e.jsx("input",{type:"text",placeholder:"Buscar conectores...",value:t,onChange:j=>r(j.target.value),style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"}})]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>n(!0),children:[e.jsx("i",{className:"fas fa-plus"})," Agregar Conector"]})]}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:h.map(j=>e.jsxs("button",{onClick:()=>p(j.id),style:{padding:"0.5rem 1rem",background:c===j.id?"var(--primary-color)":"var(--bg-secondary)",border:`1px solid ${c===j.id?"var(--primary-color)":"var(--border-color)"}`,borderRadius:"20px",color:c===j.id?"white":"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",transition:"all 0.2s"},children:[e.jsx("i",{className:`fas ${j.icon}`}),j.label,e.jsx("span",{style:{background:c===j.id?"rgba(255,255,255,0.2)":"var(--bg-tertiary)",padding:"0.125rem 0.5rem",borderRadius:"10px",fontSize:"0.75rem"},children:j.id==="all"?l.length:l.filter(N=>N.type===j.id).length})]},j.id))}),e.jsxs("div",{style:{marginBottom:"1rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Mostrando ",w.length," de ",l.length," conectores"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.25rem"},children:w.map(j=>e.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"12px",border:"1px solid var(--border-color)",padding:"1.25rem",transition:"all 0.3s",cursor:"pointer"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:j.color,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:`${j.brand?"fab":"fas"} ${j.icon}`,style:{fontSize:"1.5rem",color:"white"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{style:{margin:0,fontSize:"1rem",color:"var(--text-primary)"},children:j.name}),e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:j.status==="connected"?"var(--success-color)":"var(--text-secondary)"},children:[e.jsx("i",{className:"fas fa-circle",style:{fontSize:"0.4rem"}}),j.status==="connected"?"Conectado":"Desconectado"]})]})]}),e.jsx("p",{style:{margin:"0 0 1rem",fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:j.description}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn btn-sm btn-primary",style:{flex:1},onClick:()=>b(j.id),children:j.status==="connected"?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-cog"})," Configurar"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-plug"})," Conectar"]})}),j.status==="connected"&&e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>b(j.id),title:"Desconectar",children:e.jsx("i",{className:"fas fa-unlink"})}),e.jsx("button",{className:"btn btn-sm btn-secondary",title:"Documentacin",children:e.jsx("i",{className:"fas fa-book"})})]})]},j.id))}),w.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"var(--text-secondary)"},children:[e.jsx("i",{className:"fas fa-plug",style:{fontSize:"3rem",marginBottom:"1rem",opacity:.5}}),e.jsx("h3",{children:"No se encontraron conectores"}),e.jsx("p",{children:"Intenta ajustar los filtros de bsqueda"})]}),i&&e.jsx("div",{className:"modal-overlay",onClick:()=>n(!1),children:e.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),style:{width:"500px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-plus"})," Agregar Nuevo Conector"]}),e.jsx("button",{className:"close-modal",onClick:()=>n(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-plug"})," Nombre del Conector"]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: Mi Base de Datos"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-layer-group"})," Tipo"]}),e.jsx("select",{className:"form-control",children:h.filter(j=>j.id!=="all").map(j=>e.jsx("option",{value:j.id,children:j.label},j.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-link"})," URL de Conexin"]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"https://..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-key"})," API Key (opcional)"]}),e.jsx("input",{type:"password",className:"form-control",placeholder:""})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-align-left"})," Descripcin"]}),e.jsx("textarea",{className:"form-control",rows:2,placeholder:"Describe el conector..."})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>n(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-success",children:[e.jsx("i",{className:"fas fa-plug"})," Conectar"]})]})]})})]})}function jx(){var ur,Tr,Ar;const{t:a}=Ta(),[t,r]=f.useState(()=>{const A=localStorage.getItem("alqvimia_code_files");return A?JSON.parse(A):[{id:1,name:"main.js",language:"javascript",content:`// Bienvenido al Editor de Cdigo
// Usa comandos de IA con Ctrl+I o el panel lateral

console.log("Hello, Alqvimia!");`,saved:!0},{id:2,name:"styles.css",language:"css",content:`/* Estilos del proyecto */

.container {
  display: flex;
  justify-content: center;
}`,saved:!0},{id:3,name:"index.html",language:"html",content:`<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mi Proyecto</title>
</head>
<body>
  <h1>Hola Mundo</h1>
</body>
</html>`,saved:!0}]}),[i,n]=f.useState(((ur=t[0])==null?void 0:ur.id)||null),[l,s]=f.useState(!1),[c,p]=f.useState(!0),[h,w]=f.useState(!1),[m,b]=f.useState(""),[j,N]=f.useState(""),[_,D]=f.useState(!1),[y,g]=f.useState([]),[d,T]=f.useState(""),[z,q]=f.useState(!1),[P,L]=f.useState(14),[te,X]=f.useState("dark"),[O,be]=f.useState(!0),[me,H]=f.useState(!0),[Z,ne]=f.useState(!0),[ye,B]=f.useState({line:1,column:1}),[G,K]=f.useState(!1),[S,J]=f.useState(""),[x,W]=f.useState("javascript"),[Y,fe]=f.useState([]),[M,Q]=f.useState(!1),[se,ue]=f.useState(""),[de,Le]=f.useState(!1),[Fe,fa]=f.useState(""),[ga,Qe]=f.useState(!0),[pe,ia]=f.useState("command"),[da,wa]=f.useState(""),We=f.useRef(null),xe=f.useRef(null),Me=f.useRef(null),na=f.useRef(null),[ce,Ae]=f.useState("editor"),va=f.useRef("editor"),ge=[{id:"javascript",name:"JavaScript",icon:"fa-js",ext:".js",color:"#f7df1e"},{id:"typescript",name:"TypeScript",icon:"fa-code",ext:".ts",color:"#3178c6"},{id:"python",name:"Python",icon:"fa-python",ext:".py",color:"#3776ab"},{id:"java",name:"Java",icon:"fa-java",ext:".java",color:"#007396"},{id:"csharp",name:"C#",icon:"fa-code",ext:".cs",color:"#68217a"},{id:"cpp",name:"C++",icon:"fa-code",ext:".cpp",color:"#00599c"},{id:"go",name:"Go",icon:"fa-code",ext:".go",color:"#00add8"},{id:"rust",name:"Rust",icon:"fa-code",ext:".rs",color:"#dea584"},{id:"php",name:"PHP",icon:"fa-php",ext:".php",color:"#777bb4"},{id:"ruby",name:"Ruby",icon:"fa-gem",ext:".rb",color:"#cc342d"},{id:"swift",name:"Swift",icon:"fa-apple",ext:".swift",color:"#fa7343"},{id:"kotlin",name:"Kotlin",icon:"fa-code",ext:".kt",color:"#7f52ff"},{id:"html",name:"HTML",icon:"fa-html5",ext:".html",color:"#e34f26"},{id:"css",name:"CSS",icon:"fa-css3-alt",ext:".css",color:"#1572b6"},{id:"scss",name:"SCSS",icon:"fa-sass",ext:".scss",color:"#cd6799"},{id:"json",name:"JSON",icon:"fa-brackets-curly",ext:".json",color:"#292929"},{id:"xml",name:"XML",icon:"fa-code",ext:".xml",color:"#0060ac"},{id:"yaml",name:"YAML",icon:"fa-code",ext:".yaml",color:"#cb171e"},{id:"markdown",name:"Markdown",icon:"fa-markdown",ext:".md",color:"#083fa1"},{id:"sql",name:"SQL",icon:"fa-database",ext:".sql",color:"#336791"},{id:"shell",name:"Shell/Bash",icon:"fa-terminal",ext:".sh",color:"#4eaa25"},{id:"powershell",name:"PowerShell",icon:"fa-terminal",ext:".ps1",color:"#012456"},{id:"dockerfile",name:"Dockerfile",icon:"fa-docker",ext:"Dockerfile",color:"#2496ed"},{id:"graphql",name:"GraphQL",icon:"fa-code",ext:".graphql",color:"#e535ab"}],he=[{id:"explain",label:"Explicar cdigo",icon:"fa-lightbulb",prompt:"Explica detalladamente qu hace este cdigo:"},{id:"optimize",label:"Optimizar",icon:"fa-rocket",prompt:"Optimiza este cdigo para mejor rendimiento:"},{id:"refactor",label:"Refactorizar",icon:"fa-code-branch",prompt:"Refactoriza este cdigo siguiendo mejores prcticas:"},{id:"debug",label:"Encontrar bugs",icon:"fa-bug",prompt:"Analiza este cdigo y encuentra posibles bugs o errores:"},{id:"document",label:"Documentar",icon:"fa-file-alt",prompt:"Agrega documentacin y comentarios a este cdigo:"},{id:"test",label:"Generar tests",icon:"fa-vial",prompt:"Genera tests unitarios para este cdigo:"},{id:"convert",label:"Convertir lenguaje",icon:"fa-exchange-alt",prompt:"Convierte este cdigo a otro lenguaje:"},{id:"security",label:"Anlisis seguridad",icon:"fa-shield-alt",prompt:"Analiza vulnerabilidades de seguridad en este cdigo:"},{id:"complete",label:"Autocompletar",icon:"fa-magic",prompt:"Completa el siguiente cdigo:"},{id:"fix",label:"Corregir error",icon:"fa-wrench",prompt:"Corrige el siguiente error en el cdigo:"}],$=f.useMemo(()=>t.find(A=>A.id===i)||null,[t,i]);f.useEffect(()=>{localStorage.setItem("alqvimia_code_files",JSON.stringify(t))},[t]),f.useEffect(()=>{va.current=ce},[ce]),f.useEffect(()=>{const A=window.SpeechRecognition||window.webkitSpeechRecognition;return A?(Me.current=new A,Me.current.continuous=!0,Me.current.interimResults=!0,Me.current.lang="es-ES",Me.current.onresult=F=>{let ie="",Re="";for(let we=F.resultIndex;we<F.results.length;we++){const je=F.results[we][0].transcript;F.results[we].isFinal?Re+=je:ie+=je}fa(ie||Re),pe==="dictation"?(wa(ie),Re&&(C(Re),wa(""))):Re&&I(Re.toLowerCase().trim())},Me.current.onerror=F=>{console.error("Speech recognition error:",F.error),Le(!1)},Me.current.onend=()=>{de&&Me.current.start()}):Qe(!1),()=>{Me.current&&Me.current.stop()}},[de,pe]);const C=f.useCallback(A=>{if(va.current==="aiPrompt"){b(je=>je+A),setTimeout(()=>{if(na.current){na.current.focus();const je=na.current.value.length;na.current.selectionStart=je,na.current.selectionEnd=je}},0);return}if(!xe.current)return;const ie=xe.current,Re=ie.selectionStart,we=ie.selectionEnd;r(je=>{const Za=je.find(ct=>ct.id===i);if(!Za)return je;const Ct=Za.content,ot=Ct.substring(0,Re)+A+Ct.substring(we);return je.map(ct=>ct.id===i?{...ct,content:ot,saved:!1}:ct)}),setTimeout(()=>{if(xe.current){const je=Re+A.length;xe.current.selectionStart=je,xe.current.selectionEnd=je,xe.current.focus()}},0)},[i]),I=f.useCallback(A=>{if(fe(F=>[...F,{type:"info",message:`Comando de voz: "${A}"`,timestamp:new Date().toLocaleTimeString()}]),A.includes("guardar")||A.includes("save"))Ra(),re("Archivo guardado");else if(A.includes("nuevo archivo")||A.includes("crear archivo"))s(!0),re("Creando nuevo archivo");else if(A.includes("ejecutar")||A.includes("run"))De(),re("Ejecutando cdigo");else if(A.includes("exportar")||A.includes("workflow"))K(!0),re("Exportando a workflow");else if(A.includes("explicar cdigo")||A.includes("explain"))Be(he.find(F=>F.id==="explain")),re("Explicando cdigo");else if(A.includes("optimizar")||A.includes("optimize"))Be(he.find(F=>F.id==="optimize")),re("Optimizando cdigo");else if(A.includes("documentar")||A.includes("document"))Be(he.find(F=>F.id==="document")),re("Documentando cdigo");else if(A.includes("buscar bugs")||A.includes("debug"))Be(he.find(F=>F.id==="debug")),re("Buscando bugs");else if(A.includes("generar tests")||A.includes("tests"))Be(he.find(F=>F.id==="test")),re("Generando tests");else if(A.includes("refactorizar")||A.includes("refactor"))Be(he.find(F=>F.id==="refactor")),re("Refactorizando cdigo");else if(A.includes("mostrar consola")||A.includes("show console"))Q(!0),re("Mostrando consola");else if(A.includes("ocultar consola")||A.includes("hide console"))Q(!1),re("Ocultando consola");else if(A.includes("panel ia")||A.includes("ai panel"))p(!c),re(c?"Ocultando panel IA":"Mostrando panel IA");else if(A.includes("aumentar fuente")||A.includes("bigger"))L(F=>Math.min(F+2,32)),re("Fuente aumentada");else if(A.includes("reducir fuente")||A.includes("smaller"))L(F=>Math.max(F-2,10)),re("Fuente reducida");else if(A.startsWith("escribir ")||A.startsWith("dictar ")){const F=A.replace(/^(escribir |dictar )/,"");if(xe.current&&$){const ie=xe.current.selectionStart,Re=$.content.substring(0,ie)+F+$.content.substring(ie);r(we=>we.map(je=>je.id===i?{...je,content:Re,saved:!1}:je)),re("Texto insertado")}}else(A.includes("ayuda")||A.includes("help"))&&re("Comandos disponibles: guardar, nuevo archivo, ejecutar, exportar, explicar cdigo, optimizar, documentar, buscar bugs, generar tests, refactorizar, mostrar consola, panel IA, aumentar fuente, reducir fuente, escribir, y ayuda.")},[$,i,c]),re=A=>{if("speechSynthesis"in window){const F=new SpeechSynthesisUtterance(A);F.lang="es-ES",F.rate=1.1,speechSynthesis.speak(F)}},la=(A=pe)=>{var F,ie;de?((F=Me.current)==null||F.stop(),Le(!1),fa(""),wa("")):(ia(A),(ie=Me.current)==null||ie.start(),Le(!0),re(A==="dictation"?"Modo dictado activado. Empieza a dictar.":"Escuchando comandos de voz"))},Oe=A=>{ia(A),de&&re(A==="dictation"?"Cambiado a modo dictado":"Cambiado a modo comandos")};f.useEffect(()=>{const A=F=>{F.ctrlKey&&F.key==="s"&&(F.preventDefault(),Ra()),F.ctrlKey&&F.key==="i"&&(F.preventDefault(),w(!0)),F.ctrlKey&&F.key==="n"&&(F.preventDefault(),s(!0)),F.ctrlKey&&F.key==="f"&&(F.preventDefault(),q(!0)),F.key==="Escape"&&(q(!1),w(!1),s(!1)),F.ctrlKey&&F.key==="+"&&(F.preventDefault(),L(ie=>Math.min(ie+2,32))),F.ctrlKey&&F.key==="-"&&(F.preventDefault(),L(ie=>Math.max(ie-2,10)))};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[$]);const Aa=f.useCallback(()=>{if(xe.current){const A=xe.current,ie=A.value.substring(0,A.selectionStart).split(`
`),Re=ie.length,we=ie[ie.length-1].length+1;B({line:Re,column:we});const je=A.selectionStart,Za=A.selectionEnd;ue(je!==Za?A.value.substring(je,Za):"")}},[]),Pa=f.useCallback(A=>{const F=A.target.value;r(ie=>ie.map(Re=>Re.id===i?{...Re,content:F,saved:!1}:Re))},[i]),Ra=f.useCallback(()=>{$&&(r(A=>A.map(F=>F.id===i?{...F,saved:!0}:F)),fe(A=>[...A,{type:"success",message:`Archivo ${$.name} guardado correctamente`,timestamp:new Date().toLocaleTimeString()}]))},[$,i]),R=f.useCallback(()=>{if(!S.trim())return;const A=ge.find(Re=>Re.id===x),F=S.includes(".")?S:S+((A==null?void 0:A.ext)||".txt"),ie={id:Date.now(),name:F,language:x,content:ve(x),saved:!1};r(Re=>[...Re,ie]),n(ie.id),s(!1),J(""),W("javascript")},[S,x]),ve=A=>{const F={javascript:`// Nuevo archivo JavaScript

function main() {
  console.log("Hello World!");
}

main();`,typescript:`// Nuevo archivo TypeScript

interface User {
  name: string;
  age: number;
}

const user: User = {
  name: "John",
  age: 30
};`,python:`# Nuevo archivo Python

def main():
    print("Hello World!")

if __name__ == "__main__":
    main()`,java:`// Nuevo archivo Java

public class Main {
    public static void main(String[] args) {
        System.out.println("Hello World!");
    }
}`,csharp:`// Nuevo archivo C#

using System;

class Program {
    static void Main() {
        Console.WriteLine("Hello World!");
    }
}`,html:`<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevo Documento</title>
</head>
<body>
    
</body>
</html>`,css:`/* Nuevo archivo CSS */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: sans-serif;
}`,sql:`-- Nuevo archivo SQL

SELECT * FROM users
WHERE active = 1
ORDER BY created_at DESC;`,shell:`#!/bin/bash

# Nuevo script Shell

echo "Hello World!"`,json:`{
    "name": "proyecto",
    "version": "1.0.0",
    "description": ""
}`,markdown:`# Ttulo

## Subttulo

Contenido del documento.`,default:`// Nuevo archivo
`};return F[A]||F.default},_e=f.useCallback((A,F)=>{var Re;F.stopPropagation();const ie=t.find(we=>we.id===A);if(!(ie&&!ie.saved&&!confirm(`Cerrar ${ie.name} sin guardar los cambios?`))&&(r(we=>we.filter(je=>je.id!==A)),i===A)){const we=t.filter(je=>je.id!==A);n(((Re=we[0])==null?void 0:Re.id)||null)}},[t,i]),Be=f.useCallback(async(A,F="")=>{const ie=se||($==null?void 0:$.content)||"",Re=F||A.prompt;D(!0),N("");try{await new Promise(je=>setTimeout(je,1500));let we="";switch(A.id){case"explain":we=`## Explicacin del cdigo

Este cdigo realiza las siguientes operaciones:

1. **Inicializacin**: Define las variables y estructuras necesarias.
2. **Procesamiento**: Ejecuta la lgica principal.
3. **Retorno**: Devuelve el resultado procesado.

### Complejidad
- Tiempo: O(n)
- Espacio: O(1)`;break;case"optimize":we=`## Cdigo optimizado

\`\`\`${($==null?void 0:$.language)||"javascript"}
// Versin optimizada
${ie}
\`\`\`

### Mejoras aplicadas:
- Reduccin de iteraciones innecesarias
- Uso de estructuras de datos ms eficientes
- Eliminacin de cdigo redundante`;break;case"refactor":we=`## Cdigo refactorizado

\`\`\`${($==null?void 0:$.language)||"javascript"}
// Cdigo refactorizado siguiendo SOLID
${ie}
\`\`\`

### Principios aplicados:
- Single Responsibility
- Open/Closed
- Dependency Inversion`;break;case"debug":we=`## Anlisis de bugs

### Posibles problemas encontrados:

1. **Lnea 5**: Posible null pointer exception
2. **Lnea 12**: Variable no inicializada antes de uso
3. **Lnea 18**: Falta manejo de errores

### Recomendaciones:
- Agregar validaciones null
- Inicializar variables
- Implementar try-catch`;break;case"document":we=`## Cdigo documentado

\`\`\`${($==null?void 0:$.language)||"javascript"}
/**
 * Descripcin de la funcin
 * @param {type} param - Descripcin del parmetro
 * @returns {type} Descripcin del retorno
 */
${ie}
\`\`\``;break;case"test":we=`## Tests generados

\`\`\`${($==null?void 0:$.language)||"javascript"}
describe('TestSuite', () => {
  it('should handle basic case', () => {
    expect(result).toBeDefined();
  });

  it('should handle edge cases', () => {
    expect(result).not.toBeNull();
  });
});
\`\`\``;break;case"security":we=`## Anlisis de seguridad

### Vulnerabilidades detectadas:

 **SQL Injection**: Lnea 15
 **XSS**: Lnea 23
 **CSRF**: No detectado

### Recomendaciones:
- Usar consultas parametrizadas
- Sanitizar entradas de usuario
- Implementar validacin de datos`;break;default:we=`## Respuesta de IA

Anlisis completado para el cdigo proporcionado.

${F?`Prompt: ${F}`:""}`}N(we),g(je=>[...je,{command:A.label||"Personalizado",prompt:Re,response:we,timestamp:new Date().toISOString()}])}catch(we){N(`Error: ${we.message}`)}finally{D(!1)}},[$,se]),Ia=f.useCallback(()=>{if(!j||!$)return;const A=j.match(/```[\w]*\n([\s\S]*?)```/),F=A?A[1]:j,ie=xe.current;if(ie){const Re=ie.selectionStart,we=ie.selectionEnd,je=$.content,Za=je.substring(0,Re)+`
`+F+`
`+je.substring(we);r(Ct=>Ct.map(ot=>ot.id===i?{...ot,content:Za,saved:!1}:ot))}},[j,$,i]),$a=f.useCallback(()=>{if(!$)return;const A={type:"code_execution",name:`Ejecutar ${$.name}`,language:$.language,code:$.content,createdFrom:"code_editor",createdAt:new Date().toISOString()},F=JSON.parse(localStorage.getItem("alqvimia_workflow_code_actions")||"[]");F.push(A),localStorage.setItem("alqvimia_workflow_code_actions",JSON.stringify(F)),K(!1),fe(ie=>[...ie,{type:"info",message:`Cdigo exportado a Workflows como "${A.name}"`,timestamp:new Date().toLocaleTimeString()}])},[$]),De=f.useCallback(()=>{$&&(Q(!0),fe(A=>[...A,{type:"info",message:`Ejecutando ${$.name}...`,timestamp:new Date().toLocaleTimeString()}]),setTimeout(()=>{fe(A=>[...A,{type:"output",message:`Hello, Alqvimia!
> Ejecucin completada`,timestamp:new Date().toLocaleTimeString()}])},500))},[$]),Pe=A=>{const F=ge.find(ie=>ie.id===A);return(F==null?void 0:F.icon)||"fa-file-code"},ze=A=>{const F=ge.find(ie=>ie.id===A);return(F==null?void 0:F.color)||"#888"},qe=f.useMemo(()=>!$||!Z?null:$.content.split(`
`).map((F,ie)=>e.jsx("div",{className:"line-number",children:ie+1},ie)),[$==null?void 0:$.content,Z]),ua=f.useMemo(()=>!$||!O?null:e.jsxs("div",{className:"editor-minimap",children:[e.jsx("div",{className:"minimap-content",style:{fontSize:"2px",lineHeight:"3px"},children:$.content.split(`
`).map((A,F)=>e.jsx("div",{className:"minimap-line",children:A.substring(0,100)},F))}),e.jsx("div",{className:"minimap-viewport",style:{top:`${ye.line/($.content.split(`
`).length||1)*100}%`,height:"20%"}})]}),[$==null?void 0:$.content,O,ye.line]);return e.jsxs("div",{className:"code-editor-container",children:[e.jsxs("div",{className:"editor-toolbar",children:[e.jsxs("div",{className:"toolbar-left",children:[e.jsxs("button",{className:"toolbar-btn",onClick:()=>s(!0),title:a("ce_new_file"),children:[e.jsx("i",{className:"fas fa-plus"}),e.jsx("span",{children:a("wf_new")})]}),e.jsxs("button",{className:"toolbar-btn",onClick:Ra,disabled:!$||$.saved,title:a("ce_save_file"),children:[e.jsx("i",{className:"fas fa-save"}),e.jsx("span",{children:a("btn_save")})]}),e.jsx("div",{className:"toolbar-divider"}),e.jsxs("button",{className:"toolbar-btn",onClick:De,disabled:!$,title:a("ce_run_code"),children:[e.jsx("i",{className:"fas fa-play"}),e.jsx("span",{children:a("btn_run")})]}),e.jsxs("button",{className:"toolbar-btn",onClick:()=>K(!0),disabled:!$,title:a("ce_to_workflow"),children:[e.jsx("i",{className:"fas fa-share-alt"}),e.jsx("span",{children:a("ce_to_workflow")})]}),e.jsx("div",{className:"toolbar-divider"}),e.jsx("button",{className:"toolbar-btn",onClick:()=>q(!z),title:a("btn_search"),children:e.jsx("i",{className:"fas fa-search"})}),e.jsxs("button",{className:"toolbar-btn",onClick:()=>w(!0),title:a("ce_ai_commands"),children:[e.jsx("i",{className:"fas fa-magic"}),e.jsx("span",{children:a("wf_ai_generate")})]}),e.jsx("div",{className:"toolbar-divider"}),ga&&e.jsxs("div",{className:"voice-controls",children:[e.jsxs("button",{className:`toolbar-btn voice-btn ${de&&pe==="dictation"?"listening dictation":""}`,onClick:()=>la("dictation"),title:de&&pe==="dictation"?"Detener dictado":"Dictar cdigo",children:[e.jsx("i",{className:`fas ${de&&pe==="dictation"?"fa-stop-circle":"fa-microphone"}`}),e.jsx("span",{children:a("ce_voice")||"Voz"})]}),de&&e.jsxs("div",{className:"voice-mode-indicator",children:[e.jsx("span",{className:`mode-badge ${pe}`,children:pe==="dictation"?"Dictando...":"Comandos"}),e.jsx("button",{className:"mode-switch-btn",onClick:()=>Oe(pe==="dictation"?"command":"dictation"),title:pe==="dictation"?"Cambiar a comandos":"Cambiar a dictado",children:e.jsx("i",{className:`fas fa-${pe==="dictation"?"terminal":"keyboard"}`})})]})]})]}),e.jsxs("div",{className:"toolbar-right",children:[e.jsxs("div",{className:"font-size-control",children:[e.jsx("button",{onClick:()=>L(A=>Math.max(A-2,10)),children:e.jsx("i",{className:"fas fa-minus"})}),e.jsxs("span",{children:[P,"px"]}),e.jsx("button",{onClick:()=>L(A=>Math.min(A+2,32)),children:e.jsx("i",{className:"fas fa-plus"})})]}),e.jsx("button",{className:`toolbar-btn ${me?"active":""}`,onClick:()=>H(!me),title:"Word Wrap",children:e.jsx("i",{className:"fas fa-text-width"})}),e.jsx("button",{className:`toolbar-btn ${O?"active":""}`,onClick:()=>be(!O),title:"Minimap",children:e.jsx("i",{className:"fas fa-map"})}),e.jsx("button",{className:`toolbar-btn ${c?"active":""}`,onClick:()=>p(!c),title:"Panel IA",children:e.jsx("i",{className:"fas fa-robot"})})]})]}),z&&e.jsxs("div",{className:"search-bar",children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("input",{type:"text",placeholder:"Buscar en el archivo...",value:d,onChange:A=>T(A.target.value),autoFocus:!0}),e.jsx("span",{className:"search-count",children:"0 resultados"}),e.jsx("button",{onClick:()=>q(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"editor-main",children:[e.jsxs("div",{className:"file-explorer",children:[e.jsxs("div",{className:"explorer-header",children:[e.jsx("i",{className:"fas fa-folder-open"}),e.jsx("span",{children:"Archivos"})]}),e.jsx("div",{className:"file-list",children:t.map(A=>e.jsxs("div",{className:`file-item ${i===A.id?"active":""} ${A.saved?"":"unsaved"}`,onClick:()=>n(A.id),children:[e.jsx("i",{className:`fab ${Pe(A.language)}`,style:{color:ze(A.language)}}),e.jsx("span",{className:"file-name",children:A.name}),!A.saved&&e.jsx("span",{className:"unsaved-dot",children:""}),e.jsx("button",{className:"close-file-btn",onClick:F=>_e(A.id,F),children:e.jsx("i",{className:"fas fa-times"})})]},A.id))}),e.jsxs("button",{className:"add-file-btn",onClick:()=>s(!0),children:[e.jsx("i",{className:"fas fa-plus"}),e.jsx("span",{children:"Nuevo archivo"})]})]}),e.jsxs("div",{className:"editor-panel",children:[e.jsx("div",{className:"editor-tabs",children:t.map(A=>e.jsxs("div",{className:`editor-tab ${i===A.id?"active":""}`,onClick:()=>n(A.id),children:[e.jsx("i",{className:`fab ${Pe(A.language)}`,style:{color:ze(A.language)}}),e.jsx("span",{children:A.name}),!A.saved&&e.jsx("span",{className:"unsaved-indicator",children:""}),e.jsx("button",{className:"tab-close",onClick:F=>_e(A.id,F),children:e.jsx("i",{className:"fas fa-times"})})]},A.id))}),de&&pe==="dictation"&&(da||ce==="aiPrompt")&&e.jsxs("div",{className:`dictation-live-banner ${ce==="aiPrompt"?"ai-target":""}`,children:[e.jsx("div",{className:"dictation-live-icon",children:e.jsx("i",{className:"fas fa-microphone"})}),e.jsxs("div",{className:"dictation-live-text",children:[e.jsx("span",{className:"dictation-live-label",children:ce==="aiPrompt"?"Dictando al Prompt IA:":"Dictando al Editor:"}),e.jsx("span",{className:"dictation-live-content",children:da||(ce==="aiPrompt"?"Esperando...":"")})]}),e.jsx("div",{className:"dictation-live-hint",children:ce==="aiPrompt"?"Haz clic en el editor para dictar cdigo":"Haz clic en el prompt IA para dictar ah"})]}),e.jsx("div",{className:"code-area",ref:We,children:$?e.jsxs(e.Fragment,{children:[Z&&e.jsx("div",{className:"line-numbers",children:qe}),e.jsx("textarea",{ref:xe,className:"code-input",value:$.content,onChange:Pa,onSelect:Aa,onClick:Aa,onKeyUp:Aa,onFocus:()=>Ae("editor"),style:{fontSize:`${P}px`,whiteSpace:me?"pre-wrap":"pre",overflowX:me?"hidden":"auto"},spellCheck:!1}),ua]}):e.jsxs("div",{className:"no-file-open",children:[e.jsx("i",{className:"fas fa-file-code"}),e.jsx("h3",{children:"No hay archivo abierto"}),e.jsx("p",{children:"Crea un nuevo archivo o selecciona uno existente"}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>s(!0),children:[e.jsx("i",{className:"fas fa-plus"}),"Nuevo Archivo"]})]})}),e.jsxs("div",{className:"editor-statusbar",children:[e.jsx("div",{className:"status-left",children:$&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"status-item",children:[e.jsx("i",{className:`fab ${Pe($.language)}`}),((Tr=ge.find(A=>A.id===$.language))==null?void 0:Tr.name)||$.language]}),e.jsxs("span",{className:"status-item",children:["Ln ",ye.line,", Col ",ye.column]}),e.jsxs("span",{className:"status-item",children:[$.content.split(`
`).length," lneas"]})]})}),e.jsxs("div",{className:"status-right",children:[de&&e.jsxs("span",{className:`status-item voice-status listening ${pe}`,children:[e.jsx("i",{className:`fas fa-${pe==="dictation"?"keyboard":"microphone"}`}),pe==="dictation"?Fe?e.jsxs("span",{className:"dictation-preview",children:[e.jsx("span",{className:"dictation-label",children:"Dictando:"}),'"',Fe.substring(0,50),Fe.length>50?"...":"",'"']}):"Esperando dictado...":Fe?`"${Fe.substring(0,30)}..."`:"Escuchando comandos..."]}),e.jsx("span",{className:"status-item",children:"UTF-8"}),e.jsx("span",{className:"status-item",children:$!=null&&$.saved?" Guardado":" Sin guardar"})]})]})]}),c&&e.jsxs("div",{className:"ai-panel",children:[e.jsxs("div",{className:"ai-panel-header",children:[e.jsx("i",{className:"fas fa-robot"}),e.jsx("span",{children:"Asistente IA"}),e.jsx("button",{onClick:()=>p(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"ai-commands",children:[e.jsx("h4",{children:"Comandos rpidos"}),e.jsx("div",{className:"command-grid",children:he.map(A=>e.jsxs("button",{className:"ai-command-btn",onClick:()=>Be(A),disabled:!$||_,children:[e.jsx("i",{className:`fas ${A.icon}`}),e.jsx("span",{children:A.label})]},A.id))})]}),e.jsxs("div",{className:"ai-custom-prompt",children:[e.jsx("h4",{children:"Prompt personalizado"}),e.jsx("textarea",{ref:na,placeholder:"Escribe tu instruccin para la IA... (o usa el dictado de voz)",value:m,onChange:A=>b(A.target.value),onFocus:()=>Ae("aiPrompt"),rows:3}),de&&pe==="dictation"&&ce==="aiPrompt"&&e.jsxs("div",{className:"dictation-target-indicator",children:[e.jsx("i",{className:"fas fa-microphone"}),e.jsx("span",{children:"Dictando aqu..."})]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>Be({id:"custom",label:"Personalizado"},m),disabled:!m.trim()||_,children:[_?e.jsx("i",{className:"fas fa-spinner fa-spin"}):e.jsx("i",{className:"fas fa-paper-plane"}),"Enviar"]})]}),(j||_)&&e.jsxs("div",{className:"ai-response",children:[e.jsx("h4",{children:"Respuesta"}),_?e.jsxs("div",{className:"ai-loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("span",{children:"Procesando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"response-content",children:e.jsx("pre",{children:j})}),e.jsxs("div",{className:"response-actions",children:[e.jsxs("button",{className:"btn btn-sm btn-success",onClick:Ia,children:[e.jsx("i",{className:"fas fa-plus"}),"Insertar en cdigo"]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>navigator.clipboard.writeText(j),children:[e.jsx("i",{className:"fas fa-copy"}),"Copiar"]})]})]})]})]})]}),M&&e.jsxs("div",{className:"editor-console",children:[e.jsxs("div",{className:"console-header",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-terminal"})," ",a("ce_console")]}),e.jsxs("div",{className:"console-actions",children:[e.jsx("button",{onClick:()=>fe([]),title:a("ce_clear_console"),children:e.jsx("i",{className:"fas fa-trash"})}),e.jsx("button",{onClick:()=>Q(!1),title:a("btn_close"),children:e.jsx("i",{className:"fas fa-times"})})]})]}),e.jsx("div",{className:"console-output",children:Y.map((A,F)=>e.jsxs("div",{className:`console-line ${A.type}`,children:[e.jsxs("span",{className:"console-time",children:["[",A.timestamp,"]"]}),e.jsx("span",{className:"console-message",children:A.message})]},F))})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>s(!1),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-file-plus"})," ",a("ce_new_file")]}),e.jsx("button",{className:"modal-close",onClick:()=>s(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-file"})," Nombre del archivo"]}),e.jsx("input",{type:"text",className:"form-control",value:S,onChange:A=>J(A.target.value),placeholder:"ejemplo.js",autoFocus:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-code"})," Lenguaje"]}),e.jsx("select",{className:"form-control",value:x,onChange:A=>W(A.target.value),children:ge.map(A=>e.jsx("option",{value:A.id,children:A.name},A.id))})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>s(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",onClick:R,disabled:!S.trim(),children:[e.jsx("i",{className:"fas fa-plus"}),"Crear Archivo"]})]})]})}),h&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content ai-command-modal",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-magic"})," Comando de IA"]}),e.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("p",{className:"hint",children:"Selecciona un comando o escribe tu propia instruccin:"}),e.jsx("div",{className:"ai-commands-grid",children:he.map(A=>e.jsxs("button",{className:"ai-command-card",onClick:()=>{Be(A),w(!1)},children:[e.jsx("i",{className:`fas ${A.icon}`}),e.jsx("span",{children:A.label})]},A.id))}),e.jsxs("div",{className:"custom-prompt-section",children:[e.jsx("label",{children:"Instruccin personalizada:"}),e.jsx("textarea",{className:"form-control",placeholder:"Ej: Convierte esta funcin a async/await...",value:m,onChange:A=>b(A.target.value),rows:3})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>{Be({id:"custom",label:"Personalizado"},m),w(!1)},disabled:!m.trim(),children:[e.jsx("i",{className:"fas fa-paper-plane"}),"Ejecutar"]})]})]})}),G&&e.jsx("div",{className:"modal-overlay",onClick:()=>K(!1),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-share-alt"})," Exportar a Workflow"]}),e.jsx("button",{className:"modal-close",onClick:()=>K(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("p",{children:"Se crear una accin en Workflows con el siguiente cdigo:"}),e.jsxs("div",{className:"export-preview",children:[e.jsxs("div",{className:"preview-header",children:[e.jsx("i",{className:`fab ${Pe($==null?void 0:$.language)}`,style:{color:ze($==null?void 0:$.language)}}),e.jsx("span",{children:$==null?void 0:$.name})]}),e.jsxs("pre",{className:"preview-code",children:[(Ar=$==null?void 0:$.content)==null?void 0:Ar.substring(0,500),"..."]})]}),e.jsxs("p",{className:"hint",children:[e.jsx("i",{className:"fas fa-info-circle"}),"El cdigo estar disponible en Workflows para crear flujos de automatizacin."]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>K(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-success",onClick:$a,children:[e.jsx("i",{className:"fas fa-check"}),"Exportar"]})]})]})})]})}function _x(){var J;const{t:a}=Ta(),{socket:t,isConnected:r}=Er(),[i,n]=f.useState([]),[l,s]=f.useState(!1),[c,p]=f.useState(null),[h,w]=f.useState([]),[m,b]=f.useState("all"),[j,N]=f.useState("all"),[_,D]=f.useState("all"),[y,g]=f.useState(""),[d,T]=f.useState("grid"),[z,q]=f.useState([{id:"root",name:"Mis Workflows",icon:"fa-folder"},{id:"production",name:"Produccion",icon:"fa-industry"},{id:"development",name:"Desarrollo",icon:"fa-code"},{id:"testing",name:"Pruebas",icon:"fa-flask"}]),[P,L]=f.useState({name:"",workflowId:"",workflowName:"",triggerType:"time",enabled:!0,scheduleType:"once",startDate:new Date().toISOString().split("T")[0],startTime:"09:00",endDate:"",repeatEvery:1,repeatUnit:"hours",daysOfWeek:[],dayOfMonth:1,emailAccount:"",emailSubjectContains:"",emailFromContains:"",watchFolder:"",filePattern:"*.*",webhookUrl:"",webhookSecret:"",maxRetries:3,retryDelayMinutes:5,timeout:3600,notifyOnComplete:!0,notifyOnError:!0,notifyEmail:""});f.useEffect(()=>{const x=JSON.parse(localStorage.getItem("alqvimia-workflows")||"[]");w(x);const W=JSON.parse(localStorage.getItem("alqvimia-schedules")||"[]");n(W)},[]);const te=x=>{localStorage.setItem("alqvimia-schedules",JSON.stringify(x)),n(x)},X=[{id:0,short:"D",name:"Domingo"},{id:1,short:"L",name:"Lunes"},{id:2,short:"M",name:"Martes"},{id:3,short:"X",name:"Miercoles"},{id:4,short:"J",name:"Jueves"},{id:5,short:"V",name:"Viernes"},{id:6,short:"S",name:"Sabado"}],O=[{id:"time",name:"Tarea Programada",icon:"fa-clock",desc:"Ejecutar en horarios especificos"},{id:"email",name:"Correo Electronico",icon:"fa-envelope",desc:"Trigger al recibir email"},{id:"file",name:"Deteccion de Archivo",icon:"fa-file-import",desc:"Al detectar archivo nuevo"},{id:"api",name:"Webhook / API",icon:"fa-globe",desc:"Trigger via llamada HTTP"},{id:"event",name:"Evento de Sistema",icon:"fa-bolt",desc:"Al ocurrir evento Windows"}],be=()=>{if(!P.name||!P.workflowId){alert("Completa el nombre y selecciona un workflow");return}const x={id:`sch_${Date.now()}`,...P,createdAt:new Date().toISOString(),lastRun:null,nextRun:me(P),runCount:0,status:"active"},W=[...i,x];te(W),s(!1),H()},me=x=>{const W=new Date,[Y,fe]=x.startTime.split(":").map(Number);if(x.scheduleType==="once"){const Q=new Date(x.startDate);return Q.setHours(Y,fe,0,0),Q.toISOString()}const M=new Date(x.startDate);return M.setHours(Y,fe,0,0),M<=W&&(x.scheduleType==="daily"?M.setDate(M.getDate()+1):x.scheduleType==="weekly"&&M.setDate(M.getDate()+7)),M.toISOString()},H=()=>{L({name:"",workflowId:"",workflowName:"",triggerType:"time",enabled:!0,scheduleType:"once",startDate:new Date().toISOString().split("T")[0],startTime:"09:00",endDate:"",repeatEvery:1,repeatUnit:"hours",daysOfWeek:[],dayOfMonth:1,emailAccount:"",emailSubjectContains:"",emailFromContains:"",watchFolder:"",filePattern:"*.*",webhookUrl:"",webhookSecret:"",maxRetries:3,retryDelayMinutes:5,timeout:3600,notifyOnComplete:!0,notifyOnError:!0,notifyEmail:""})},Z=x=>{const W=[...P.daysOfWeek],Y=W.indexOf(x);Y>-1?W.splice(Y,1):W.push(x),L({...P,daysOfWeek:W})},ne=x=>{if(confirm("Estas seguro de eliminar esta programacion?")){const W=i.filter(Y=>Y.id!==x);te(W)}},ye=x=>{const W=i.map(Y=>Y.id===x?{...Y,enabled:!Y.enabled,status:Y.enabled?"paused":"active"}:Y);te(W)},B=x=>{if(t&&r){t.emit("executor:run",{workflowId:x.workflowId,workflowName:x.workflowName,triggeredBy:"manual",scheduleId:x.id});const W=i.map(Y=>Y.id===x.id?{...Y,lastRun:new Date().toISOString(),runCount:Y.runCount+1}:Y);te(W)}else alert("Conecta al servidor para ejecutar workflows")},G=x=>x?new Date(x).toLocaleString():"-",K=x=>x.enabled?x.status==="running"?{icon:"fa-spinner fa-spin",color:"text-primary"}:x.status==="error"?{icon:"fa-exclamation-circle",color:"text-danger"}:{icon:"fa-check-circle",color:"text-success"}:{icon:"fa-pause-circle",color:"text-warning"},S=i.filter(x=>{var W;if(y){const Y=y.toLowerCase();if(!x.name.toLowerCase().includes(Y)&&!((W=x.workflowName)!=null&&W.toLowerCase().includes(Y)))return!1}return!(m!=="all"&&(m==="active"&&!x.enabled||m==="paused"&&x.enabled||m==="error"&&x.status!=="error")||j!=="all"&&x.triggerType!==j||_!=="all"&&x.workflowName!==_)});return e.jsxs("div",{className:"view",id:"scheduler-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-calendar-alt"})," ",a("nav_scheduler")||"Programador de Workflows"]}),e.jsx("p",{children:a("scheduler_subtitle")||"Programa ejecuciones automaticas de tus workflows"})]}),e.jsxs("div",{className:"scheduler-toolbar",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>s(!0),children:[e.jsx("i",{className:"fas fa-plus"})," Nueva Programacion"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>{const x=JSON.parse(localStorage.getItem("alqvimia-schedules")||"[]");n(x)},children:[e.jsx("i",{className:"fas fa-sync"})," Actualizar"]}),e.jsxs("div",{className:"toolbar-stats",children:[e.jsxs("span",{className:"stat",children:[e.jsx("i",{className:"fas fa-calendar-check"}),i.filter(x=>x.enabled).length," Activas"]}),e.jsxs("span",{className:"stat",children:[e.jsx("i",{className:"fas fa-pause"}),i.filter(x=>!x.enabled).length," Pausadas"]})]})]}),e.jsxs("div",{className:"scheduler-filter-bar",children:[e.jsxs("div",{className:"filter-row",children:[e.jsxs("div",{className:"filter-search",children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("input",{type:"text",placeholder:"Buscar programaciones...",value:y,onChange:x=>g(x.target.value)}),y&&e.jsx("button",{className:"clear-search",onClick:()=>g(""),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Estado:"}),e.jsxs("select",{value:m,onChange:x=>b(x.target.value),children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"active",children:"Activas"}),e.jsx("option",{value:"paused",children:"Pausadas"}),e.jsx("option",{value:"error",children:"Con Error"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Trigger:"}),e.jsxs("select",{value:j,onChange:x=>N(x.target.value),children:[e.jsx("option",{value:"all",children:"Todos"}),O.map(x=>e.jsx("option",{value:x.id,children:x.name},x.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Workflow:"}),e.jsxs("select",{value:_,onChange:x=>D(x.target.value),children:[e.jsx("option",{value:"all",children:"Todos"}),h.map(x=>e.jsx("option",{value:x.name,children:x.name},x.name))]})]}),e.jsxs("div",{className:"view-toggle",children:[e.jsx("button",{className:`toggle-btn ${d==="grid"?"active":""}`,onClick:()=>T("grid"),title:"Vista de rejilla",children:e.jsx("i",{className:"fas fa-th-large"})}),e.jsx("button",{className:`toggle-btn ${d==="list"?"active":""}`,onClick:()=>T("list"),title:"Vista de lista",children:e.jsx("i",{className:"fas fa-list"})})]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsxs("button",{className:"btn btn-sm btn-outline",onClick:()=>{const x=i.filter(W=>W.enabled).length;if(x>0&&confirm(`Pausar todas las ${x} programaciones activas?`)){const W=i.map(Y=>({...Y,enabled:!1,status:"paused"}));te(W)}},title:"Pausar todas",children:[e.jsx("i",{className:"fas fa-pause"})," Pausar Todas"]}),e.jsxs("button",{className:"btn btn-sm btn-outline",onClick:()=>{const x=i.filter(W=>!W.enabled).length;if(x>0&&confirm(`Activar todas las ${x} programaciones pausadas?`)){const W=i.map(Y=>({...Y,enabled:!0,status:"active"}));te(W)}},title:"Activar todas",children:[e.jsx("i",{className:"fas fa-play"})," Activar Todas"]}),e.jsxs("button",{className:"btn btn-sm btn-outline",onClick:()=>{if(i.length>0){const x=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),W=URL.createObjectURL(x),Y=document.createElement("a");Y.href=W,Y.download=`alqvimia-schedules-${new Date().toISOString().split("T")[0]}.json`,Y.click(),URL.revokeObjectURL(W)}},title:"Exportar programaciones",children:[e.jsx("i",{className:"fas fa-download"})," Exportar"]}),e.jsxs("button",{className:"btn btn-sm btn-outline",onClick:()=>{const x=document.createElement("input");x.type="file",x.accept=".json",x.onchange=W=>{const Y=W.target.files[0];if(Y){const fe=new FileReader;fe.onload=M=>{try{const Q=JSON.parse(M.target.result);if(Array.isArray(Q)&&confirm(`Importar ${Q.length} programaciones?`)){const se=[...i,...Q.map(ue=>({...ue,id:`sch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}))];te(se)}}catch{alert("Error al importar: archivo JSON invalido")}},fe.readAsText(Y)}},x.click()},title:"Importar programaciones",children:[e.jsx("i",{className:"fas fa-upload"})," Importar"]}),(m!=="all"||j!=="all"||_!=="all"||y)&&e.jsxs("button",{className:"btn btn-sm btn-ghost",onClick:()=>{b("all"),N("all"),D("all"),g("")},children:[e.jsx("i",{className:"fas fa-times"})," Limpiar Filtros"]})]})]}),e.jsxs("div",{className:"schedules-list",children:[S.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("i",{className:"fas fa-calendar-plus"}),i.length===0?e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"No hay programaciones"}),e.jsx("p",{children:"Crea tu primera programacion para ejecutar workflows automaticamente"}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>s(!0),children:[e.jsx("i",{className:"fas fa-plus"})," Crear Programacion"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Sin resultados"}),e.jsx("p",{children:"No se encontraron programaciones con los filtros aplicados"}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>{b("all"),N("all"),D("all"),g("")},children:[e.jsx("i",{className:"fas fa-times"})," Limpiar Filtros"]})]})]}):d==="list"?e.jsx("div",{className:"schedules-table-container",children:e.jsxs("table",{className:"schedules-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Estado"}),e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Workflow"}),e.jsx("th",{children:"Trigger"}),e.jsx("th",{children:"Horario"}),e.jsx("th",{children:"Ultima Ejecucion"}),e.jsx("th",{children:"Proxima"}),e.jsx("th",{children:"Ejecuciones"}),e.jsx("th",{children:"Acciones"})]})}),e.jsx("tbody",{children:S.map(x=>{const W=O.find(fe=>fe.id===x.triggerType),Y=K(x);return e.jsxs("tr",{className:x.enabled?"":"disabled",children:[e.jsx("td",{className:"status-cell",children:e.jsx("i",{className:`fas ${Y.icon} ${Y.color}`,title:x.enabled?"Activa":"Pausada"})}),e.jsx("td",{className:"name-cell",children:x.name}),e.jsxs("td",{className:"workflow-cell",children:[e.jsx("i",{className:"fas fa-project-diagram"})," ",x.workflowName]}),e.jsxs("td",{className:"trigger-cell",children:[e.jsx("i",{className:`fas ${W==null?void 0:W.icon}`})," ",W==null?void 0:W.name]}),e.jsx("td",{className:"time-cell",children:x.triggerType==="time"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:x.startTime}),e.jsxs("span",{className:"frequency-badge",children:[x.scheduleType==="once"&&"Una vez",x.scheduleType==="daily"&&"Diario",x.scheduleType==="weekly"&&"Semanal",x.scheduleType==="monthly"&&"Mensual"]})]})}),e.jsx("td",{className:"date-cell",children:G(x.lastRun)}),e.jsx("td",{className:"date-cell",children:G(x.nextRun)}),e.jsx("td",{className:"count-cell",children:x.runCount}),e.jsxs("td",{className:"actions-cell",children:[e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>ye(x.id),title:x.enabled?"Pausar":"Activar",children:e.jsx("i",{className:`fas fa-${x.enabled?"pause":"play"}`})}),e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>B(x),title:"Ejecutar ahora",children:e.jsx("i",{className:"fas fa-rocket"})}),e.jsx("button",{className:"btn btn-xs btn-ghost text-danger",onClick:()=>ne(x.id),title:"Eliminar",children:e.jsx("i",{className:"fas fa-trash"})})]})]},x.id)})})]})}):e.jsx("div",{className:"schedules-grid",children:S.map(x=>{const W=O.find(fe=>fe.id===x.triggerType),Y=K(x);return e.jsxs("div",{className:`schedule-card ${x.enabled?"":"disabled"}`,children:[e.jsxs("div",{className:"schedule-header",children:[e.jsx("div",{className:"schedule-status",children:e.jsx("i",{className:`fas ${Y.icon} ${Y.color}`})}),e.jsxs("div",{className:"schedule-info",children:[e.jsx("h4",{children:x.name}),e.jsxs("span",{className:"workflow-name",children:[e.jsx("i",{className:"fas fa-project-diagram"}),x.workflowName]})]}),e.jsxs("div",{className:"schedule-actions",children:[e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>ye(x.id),title:x.enabled?"Pausar":"Activar",children:e.jsx("i",{className:`fas fa-${x.enabled?"pause":"play"}`})}),e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>B(x),title:"Ejecutar ahora",children:e.jsx("i",{className:"fas fa-rocket"})}),e.jsx("button",{className:"btn btn-xs btn-ghost text-danger",onClick:()=>ne(x.id),title:"Eliminar",children:e.jsx("i",{className:"fas fa-trash"})})]})]}),e.jsxs("div",{className:"schedule-trigger",children:[e.jsxs("div",{className:"trigger-type",children:[e.jsx("i",{className:`fas ${W==null?void 0:W.icon}`}),e.jsx("span",{children:W==null?void 0:W.name})]}),x.triggerType==="time"&&e.jsxs("div",{className:"trigger-details",children:[e.jsxs("span",{className:"schedule-time",children:[e.jsx("i",{className:"fas fa-clock"}),x.startTime]}),e.jsxs("span",{className:"schedule-frequency",children:[x.scheduleType==="once"&&"Una vez",x.scheduleType==="daily"&&"Diario",x.scheduleType==="weekly"&&`Semanal (${x.daysOfWeek.map(fe=>X[fe].short).join(", ")})`,x.scheduleType==="monthly"&&`Mensual (dia ${x.dayOfMonth})`]})]})]}),e.jsxs("div",{className:"schedule-footer",children:[e.jsxs("div",{className:"schedule-stat",children:[e.jsx("span",{className:"label",children:"Ultima ejecucion:"}),e.jsx("span",{className:"value",children:G(x.lastRun)})]}),e.jsxs("div",{className:"schedule-stat",children:[e.jsx("span",{className:"label",children:"Proxima:"}),e.jsx("span",{className:"value",children:G(x.nextRun)})]}),e.jsxs("div",{className:"schedule-stat",children:[e.jsx("span",{className:"label",children:"Ejecuciones:"}),e.jsx("span",{className:"value",children:x.runCount})]})]})]},x.id)})}),S.length>0&&e.jsxs("div",{className:"results-count",children:["Mostrando ",S.length," de ",i.length," programaciones"]})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>s(!1),children:e.jsxs("div",{className:"modal modal-lg",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-calendar-plus"})," Nueva Programacion"]}),e.jsx("button",{className:"modal-close",onClick:()=>s(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-tag"})," Nombre de la Programacion"]}),e.jsx("input",{type:"text",value:P.name,onChange:x=>L({...P,name:x.target.value}),placeholder:"Ej: Reporte diario de ventas"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-project-diagram"})," Workflow a Ejecutar"]}),e.jsxs("select",{value:P.workflowId,onChange:x=>{const W=h.find(Y=>Y.name===x.target.value);L({...P,workflowId:x.target.value,workflowName:(W==null?void 0:W.name)||x.target.value})},children:[e.jsx("option",{value:"",children:"Selecciona un workflow..."}),h.map(x=>e.jsx("option",{value:x.name,children:x.name},x.name))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-bolt"})," Tipo de Trigger"]}),e.jsx("div",{className:"trigger-type-selector",children:O.map(x=>e.jsxs("div",{className:`trigger-option ${P.triggerType===x.id?"active":""}`,onClick:()=>L({...P,triggerType:x.id}),children:[e.jsx("i",{className:`fas ${x.icon}`}),e.jsx("span",{className:"trigger-name",children:x.name}),e.jsx("span",{className:"trigger-desc",children:x.desc})]},x.id))})]}),P.triggerType==="time"&&e.jsxs("div",{className:"trigger-config",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-clock"})," Configuracion de Horario"]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tipo de Programacion"}),e.jsxs("select",{value:P.scheduleType,onChange:x=>L({...P,scheduleType:x.target.value}),children:[e.jsx("option",{value:"once",children:"Una sola vez"}),e.jsx("option",{value:"daily",children:"Diario"}),e.jsx("option",{value:"weekly",children:"Semanal"}),e.jsx("option",{value:"monthly",children:"Mensual"}),e.jsx("option",{value:"interval",children:"Cada X tiempo"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Fecha de Inicio"}),e.jsx("input",{type:"date",value:P.startDate,onChange:x=>L({...P,startDate:x.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hora"}),e.jsx("input",{type:"time",value:P.startTime,onChange:x=>L({...P,startTime:x.target.value})})]})]}),P.scheduleType==="weekly"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dias de la Semana"}),e.jsx("div",{className:"days-selector",children:X.map(x=>e.jsx("button",{type:"button",className:`day-btn ${P.daysOfWeek.includes(x.id)?"active":""}`,onClick:()=>Z(x.id),title:x.name,children:x.short},x.id))})]}),P.scheduleType==="monthly"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dia del Mes"}),e.jsx("select",{value:P.dayOfMonth,onChange:x=>L({...P,dayOfMonth:parseInt(x.target.value)}),children:[...Array(31)].map((x,W)=>e.jsx("option",{value:W+1,children:W+1},W+1))})]}),P.scheduleType==="interval"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Repetir cada"}),e.jsx("input",{type:"number",min:"1",value:P.repeatEvery,onChange:x=>L({...P,repeatEvery:parseInt(x.target.value)})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unidad"}),e.jsxs("select",{value:P.repeatUnit,onChange:x=>L({...P,repeatUnit:x.target.value}),children:[e.jsx("option",{value:"minutes",children:"Minutos"}),e.jsx("option",{value:"hours",children:"Horas"}),e.jsx("option",{value:"days",children:"Dias"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Fecha de Fin (opcional)"}),e.jsx("input",{type:"date",value:P.endDate,onChange:x=>L({...P,endDate:x.target.value})})]})]}),P.triggerType==="email"&&e.jsxs("div",{className:"trigger-config",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-envelope"})," Configuracion de Email"]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cuenta de Email a Monitorear"}),e.jsx("input",{type:"email",value:P.emailAccount,onChange:x=>L({...P,emailAccount:x.target.value}),placeholder:"mi-cuenta@empresa.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Asunto contiene"}),e.jsx("input",{type:"text",value:P.emailSubjectContains,onChange:x=>L({...P,emailSubjectContains:x.target.value}),placeholder:"Ej: [URGENTE], Factura, Orden"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Remitente contiene"}),e.jsx("input",{type:"text",value:P.emailFromContains,onChange:x=>L({...P,emailFromContains:x.target.value}),placeholder:"Ej: @proveedor.com"})]})]}),P.triggerType==="file"&&e.jsxs("div",{className:"trigger-config",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-folder-open"})," Configuracion de Archivo"]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Carpeta a Monitorear"}),e.jsx("input",{type:"text",value:P.watchFolder,onChange:x=>L({...P,watchFolder:x.target.value}),placeholder:"C:\\Documentos\\Entrada"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Patron de Archivo"}),e.jsx("input",{type:"text",value:P.filePattern,onChange:x=>L({...P,filePattern:x.target.value}),placeholder:"*.xlsx, *.pdf, factura_*.csv"})]})]}),P.triggerType==="api"&&e.jsxs("div",{className:"trigger-config",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-globe"})," Configuracion de Webhook"]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL del Webhook (generada)"}),e.jsxs("div",{className:"input-with-copy",children:[e.jsx("input",{type:"text",readOnly:!0,value:`http://localhost:4000/api/webhook/${((J=P.name)==null?void 0:J.toLowerCase().replace(/\s/g,"-"))||"nuevo"}`}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>{var x;navigator.clipboard.writeText(`http://localhost:4000/api/webhook/${((x=P.name)==null?void 0:x.toLowerCase().replace(/\s/g,"-"))||"nuevo"}`)},children:e.jsx("i",{className:"fas fa-copy"})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Secret (para validar llamadas)"}),e.jsx("input",{type:"text",value:P.webhookSecret,onChange:x=>L({...P,webhookSecret:x.target.value}),placeholder:"mi-secret-key-123"})]})]}),e.jsxs("details",{className:"advanced-options",children:[e.jsxs("summary",{children:[e.jsx("i",{className:"fas fa-cog"})," Opciones Avanzadas"]}),e.jsxs("div",{className:"advanced-options-content",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reintentos en caso de error"}),e.jsx("input",{type:"number",min:"0",max:"10",value:P.maxRetries,onChange:x=>L({...P,maxRetries:parseInt(x.target.value)})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Demora entre reintentos (min)"}),e.jsx("input",{type:"number",min:"1",value:P.retryDelayMinutes,onChange:x=>L({...P,retryDelayMinutes:parseInt(x.target.value)})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Timeout (segundos)"}),e.jsx("input",{type:"number",min:"60",value:P.timeout,onChange:x=>L({...P,timeout:parseInt(x.target.value)})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Notificaciones"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:P.notifyOnComplete,onChange:x=>L({...P,notifyOnComplete:x.target.checked})}),e.jsx("span",{children:"Notificar al completar"})]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:P.notifyOnError,onChange:x=>L({...P,notifyOnError:x.target.checked})}),e.jsx("span",{children:"Notificar en caso de error"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email para notificaciones"}),e.jsx("input",{type:"email",value:P.notifyEmail,onChange:x=>L({...P,notifyEmail:x.target.value}),placeholder:"admin@empresa.com"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>s(!1),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",onClick:be,children:[e.jsx("i",{className:"fas fa-save"})," Crear Programacion"]})]})]})})]})}const Gu=[{id:"midnight-blue",name:"Midnight Blue",description:"Tema oscuro elegante con acentos azules",icon:"fa-moon",preview:{primary:"#2563eb",bg:"#0f172a",card:"#1e293b",accent:"#7c3aed"}},{id:"ocean-breeze",name:"Ocean Breeze",description:"Tonos de verde y cian inspirados en el mar",icon:"fa-water",preview:{primary:"#0891b2",bg:"#042f2e",card:"#134e4a",accent:"#2dd4bf"}},{id:"sunset-purple",name:"Sunset Purple",description:"Morados y rosas para un look moderno",icon:"fa-cloud-sun",preview:{primary:"#a855f7",bg:"#1c1917",card:"#292524",accent:"#ec4899"}},{id:"forest-green",name:"Forest Green",description:"Verdes naturales y relajantes",icon:"fa-tree",preview:{primary:"#22c55e",bg:"#14532d",card:"#166534",accent:"#84cc16"}},{id:"ruby-red",name:"Ruby Red",description:"Rojos intensos y elegantes",icon:"fa-gem",preview:{primary:"#e11d48",bg:"#1c1917",card:"#292524",accent:"#f43f5e"}},{id:"golden-amber",name:"Golden Amber",description:"Dorados clidos y acogedores",icon:"fa-sun",preview:{primary:"#f59e0b",bg:"#1c1917",card:"#292524",accent:"#eab308"}},{id:"cyberpunk-neon",name:"Cyberpunk Neon",description:"Colores nen futuristas con efecto glow",icon:"fa-bolt",preview:{primary:"#00f5d4",bg:"#0a0a0a",card:"#1a1a2e",accent:"#f72585"}},{id:"arctic-frost",name:"Arctic Frost",description:"Tema claro limpio y profesional",icon:"fa-snowflake",preview:{primary:"#3b82f6",bg:"#f1f5f9",card:"#ffffff",accent:"#06b6d4"}},{id:"lavender-dreams",name:"Lavender Dreams",description:"Lavandas suaves y relajantes",icon:"fa-spa",preview:{primary:"#8b5cf6",bg:"#18181b",card:"#27272a",accent:"#d946ef"}},{id:"volcanic-orange",name:"Volcanic Orange",description:"Naranjas vibrantes y energticos",icon:"fa-fire",preview:{primary:"#ea580c",bg:"#1c1917",card:"#292524",accent:"#dc2626"}},{id:"rose-gold",name:"Rose Gold",description:"Elegantes tonos rosados y dorados",icon:"fa-heart",preview:{primary:"#fb7185",bg:"#1c1917",card:"#292524",accent:"#fda4af"}},{id:"matrix-green",name:"Matrix Green",description:"Estilo Matrix con texto verde nen",icon:"fa-code",preview:{primary:"#22c55e",bg:"#000000",card:"#0a0a0a",accent:"#4ade80"}},{id:"coffee-cream",name:"Coffee Cream",description:"Tema claro clido con tonos caf",icon:"fa-mug-hot",preview:{primary:"#a16207",bg:"#fef3c7",card:"#fffbeb",accent:"#ca8a04"}},{id:"deep-space",name:"Deep Space",description:"Profundo espacio con ndigo y violeta",icon:"fa-rocket",preview:{primary:"#6366f1",bg:"#020617",card:"#0f172a",accent:"#8b5cf6"}},{id:"coral-sunset",name:"Coral Sunset",description:"Atardecer tropical con coral y magenta",icon:"fa-palette",preview:{primary:"#fb923c",bg:"#1f1523",card:"#2e1f32",accent:"#f472b6"}}],Hu=[{id:1,name:"Extractor de Datos",icon:"fa-file-export",description:"Extrae informacin estructurada de documentos, PDFs y pginas web",prompt:"Analiza el siguiente contenido y extrae los datos relevantes en formato JSON estructurado...",category:"extraction",color:"#4CAF50"},{id:2,name:"Clasificador de Documentos",icon:"fa-folder-tree",description:"Clasifica documentos automticamente segn su contenido y tipo",prompt:"Clasifica el siguiente documento en una de estas categoras: factura, contrato, memo, reporte...",category:"classification",color:"#2196F3"},{id:3,name:"Generador de Resmenes",icon:"fa-compress-alt",description:"Crea resmenes ejecutivos de textos largos",prompt:"Resume el siguiente texto en mximo 3 prrafos, destacando los puntos clave...",category:"summarization",color:"#9C27B0"},{id:4,name:"Analizador de Sentimientos",icon:"fa-smile",description:"Detecta el tono y sentimiento en textos y conversaciones",prompt:"Analiza el sentimiento del siguiente texto y clasifcalo como positivo, negativo o neutral...",category:"analysis",color:"#FF9800"},{id:5,name:"Traductor Multilenguaje",icon:"fa-language",description:"Traduce textos entre mltiples idiomas manteniendo el contexto",prompt:"Traduce el siguiente texto al idioma especificado, manteniendo el tono y contexto original...",category:"translation",color:"#00BCD4"},{id:6,name:"Corrector de Texto",icon:"fa-spell-check",description:"Corrige errores ortogrficos, gramaticales y de estilo",prompt:"Revisa y corrige el siguiente texto, mejorando gramtica, ortografa y claridad...",category:"correction",color:"#E91E63"},{id:7,name:"Generador de Cdigo",icon:"fa-code",description:"Genera cdigo en varios lenguajes de programacin",prompt:"Genera cdigo funcional en el lenguaje especificado para realizar la siguiente tarea...",category:"generation",color:"#673AB7"},{id:8,name:"Asistente de Email",icon:"fa-envelope",description:"Redacta y mejora correos electrnicos profesionales",prompt:"Redacta un correo electrnico profesional con el siguiente objetivo y tono...",category:"communication",color:"#3F51B5"},{id:9,name:"Analizador de Logs",icon:"fa-terminal",description:"Analiza logs de sistema para detectar errores y patrones",prompt:"Analiza los siguientes logs e identifica errores, advertencias y patrones anmalos...",category:"analysis",color:"#607D8B"},{id:10,name:"Validador de Datos",icon:"fa-check-double",description:"Valida y verifica la consistencia de datos estructurados",prompt:"Valida los siguientes datos segn las reglas especificadas y reporta inconsistencias...",category:"validation",color:"#795548"},{id:11,name:"Generador de Reportes",icon:"fa-chart-bar",description:"Crea reportes ejecutivos a partir de datos",prompt:"Genera un reporte ejecutivo basado en los siguientes datos, incluyendo mtricas clave...",category:"generation",color:"#FF5722"},{id:12,name:"Extractor de Entidades",icon:"fa-tags",description:"Identifica nombres, fechas, lugares y otras entidades en textos",prompt:"Extrae todas las entidades nombradas del siguiente texto: personas, organizaciones, fechas, lugares...",category:"extraction",color:"#009688"}],Ku=[{id:1,name:"Agente de Atencin al Cliente",icon:"fa-headset",description:"Responde consultas de clientes de forma automatizada",capabilities:["Responder FAQs","Escalar tickets","Registrar quejas"],category:"customer-service",color:"#4CAF50"},{id:2,name:"Agente de Procesamiento de Facturas",icon:"fa-file-invoice-dollar",description:"Extrae y procesa datos de facturas automticamente",capabilities:["Leer PDFs","Extraer montos","Validar RUT/RFC","Registrar en sistema"],category:"finance",color:"#2196F3"},{id:3,name:"Agente de Onboarding",icon:"fa-user-plus",description:"Automatiza el proceso de incorporacin de nuevos empleados",capabilities:["Crear cuentas","Enviar credenciales","Asignar permisos","Programar capacitaciones"],category:"hr",color:"#9C27B0"},{id:4,name:"Agente de Monitoreo",icon:"fa-desktop",description:"Monitorea sistemas y notifica anomalas",capabilities:["Revisar logs","Detectar errores","Enviar alertas","Generar reportes"],category:"it",color:"#F44336"},{id:5,name:"Agente de Ventas",icon:"fa-shopping-cart",description:"Asiste en el proceso de ventas y cotizaciones",capabilities:["Consultar inventario","Generar cotizaciones","Seguimiento de leads"],category:"sales",color:"#FF9800"},{id:6,name:"Agente de Reportes",icon:"fa-chart-pie",description:"Genera reportes peridicos automticamente",capabilities:["Consultar bases de datos","Crear grficos","Enviar por email","Programar ejecucin"],category:"analytics",color:"#00BCD4"},{id:7,name:"Agente de Email",icon:"fa-mail-bulk",description:"Gestiona y responde emails automticamente",capabilities:["Leer emails","Clasificar mensajes","Responder automticamente","Archivar"],category:"communication",color:"#E91E63"},{id:8,name:"Agente de Base de Datos",icon:"fa-database",description:"Ejecuta operaciones en bases de datos",capabilities:["Consultas SQL","Backup automtico","Sincronizacin","Limpieza de datos"],category:"data",color:"#673AB7"},{id:9,name:"Agente de Integracin SAP",icon:"fa-cubes",description:"Conecta y sincroniza datos con SAP",capabilities:["Leer transacciones","Crear rdenes","Sincronizar maestros","Ejecutar BAPIs"],category:"erp",color:"#3F51B5"},{id:10,name:"Agente de Web Scraping",icon:"fa-spider",description:"Extrae datos de pginas web automticamente",capabilities:["Navegar sitios","Extraer tablas","Descargar archivos","Programar extraccin"],category:"extraction",color:"#607D8B"},{id:11,name:"Agente de WhatsApp Business",icon:"fa-whatsapp",description:"Automatiza respuestas en WhatsApp Business",capabilities:["Responder mensajes","Enviar multimedia","Gestionar grupos","Integraciones"],category:"messaging",color:"#25D366"},{id:12,name:"Agente de Documentos",icon:"fa-file-alt",description:"Procesa y organiza documentos automticamente",capabilities:["OCR","Clasificacin","Archivado","Bsqueda inteligente"],category:"documents",color:"#795548"}];function kx(){var g,d,T,z,q,P,L,te,X,O,be,me,H,Z,ne,ye,B,G,K,S,J,x,W,Y,fe,M,Q,se,ue,de,Le,Fe,fa,ga,Qe,pe,ia,da,wa,We,xe,Me,na,ce,Ae,va,ge,he,$;const{t:a}=Ta(),[t,r]=f.useState("general"),[i,n]=f.useState(null),[l,s]=f.useState(null),[c,p]=f.useState(()=>localStorage.getItem("alqvimia-theme")||"midnight-blue"),[h,w]=f.useState([]),[m,b]=f.useState(()=>{const C=localStorage.getItem("alqvimia-settings");if(C)try{return JSON.parse(C)}catch(I){console.error("Error parsing saved settings:",I)}return{general:{language:"es",theme:"midnight-blue",autoSave:!0,notifications:!0},server:{host:"localhost",port:"3000",timeout:"30000"},ai:{provider:"openai",model:"gpt-4",temperature:"0.7",maxTokens:"2000"},ocr:{provider:"tesseract",language:"spa",enhanceImages:!0},agentVoice:{agentName:"Alqvimia",voiceId:"",voiceRate:1,voicePitch:1,speakOnStart:!0,greetingMessage:"Hola, soy {agentName}, tu asistente de automatizacin. En qu puedo ayudarte hoy?"}}}),j=[{id:"general",label:"General",icon:"fa-cog"},{id:"appearance",label:"Apariencia",icon:"fa-palette"},{id:"agent-voice",label:"Voz del Agente",icon:"fa-microphone-alt"},{id:"server",label:"Servidor",icon:"fa-server"},{id:"ai",label:"Inteligencia Artificial",icon:"fa-brain"},{id:"ai-templates",label:"Plantillas IA",icon:"fa-magic"},{id:"agent-templates",label:"Plantillas Agentes",icon:"fa-robot"},{id:"ocr",label:"OCR",icon:"fa-eye"},{id:"database",label:"Base de Datos",icon:"fa-database"},{id:"backup",label:"Respaldo",icon:"fa-download"}];f.useEffect(()=>{document.documentElement.setAttribute("data-theme",c),localStorage.setItem("alqvimia-theme",c)},[c]),f.useEffect(()=>{const C=()=>{var re;const I=window.speechSynthesis.getVoices();if(w(I),!((re=m.agentVoice)!=null&&re.voiceId)&&I.length>0){const la=I.find(Oe=>Oe.lang.startsWith("es"))||I[0];b(Oe=>({...Oe,agentVoice:{...Oe.agentVoice,voiceId:la.voiceURI}}))}};return C(),window.speechSynthesis.onvoiceschanged=C,()=>{window.speechSynthesis.onvoiceschanged=null}},[]);const N=C=>{p(C),b({...m,general:{...m.general,theme:C}})},_=C=>{var la,Oe;if(!window.speechSynthesis){alert("Tu navegador no soporta sntesis de voz");return}window.speechSynthesis.cancel();const I=new SpeechSynthesisUtterance(C),re=h.find(Aa=>{var Pa;return Aa.voiceURI===((Pa=m.agentVoice)==null?void 0:Pa.voiceId)});re&&(I.voice=re),I.rate=((la=m.agentVoice)==null?void 0:la.voiceRate)||1,I.pitch=((Oe=m.agentVoice)==null?void 0:Oe.voicePitch)||1,window.speechSynthesis.speak(I)},D=()=>{var I,re,la,Oe;const C=(la=(I=m.agentVoice)==null?void 0:I.greetingMessage)==null?void 0:la.replace("{agentName}",((re=m.agentVoice)==null?void 0:re.agentName)||"Alqvimia");_(C||`Hola, soy ${((Oe=m.agentVoice)==null?void 0:Oe.agentName)||"Alqvimia"}`)},y=()=>{console.log("Guardando configuracin:",m),localStorage.setItem("alqvimia-theme",c),localStorage.setItem("alqvimia-settings",JSON.stringify(m)),alert("Configuracin guardada")};return e.jsxs("div",{className:"view",id:"settings-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-cog"})," Configuraciones"]}),e.jsx("p",{children:"Personaliza el comportamiento de Alqvimia RPA"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"250px 1fr",gap:"2rem",background:"var(--card-bg)",borderRadius:"12px",overflow:"hidden"},children:[e.jsx("div",{style:{background:"var(--dark-bg)",padding:"1rem"},children:j.map(C=>e.jsxs("button",{onClick:()=>r(C.id),style:{display:"flex",alignItems:"center",gap:"0.75rem",width:"100%",padding:"1rem",background:t===C.id?"var(--primary-color)":"transparent",border:"none",borderRadius:"8px",color:t===C.id?"white":"var(--text-secondary)",cursor:"pointer",marginBottom:"0.5rem",transition:"all 0.2s",textAlign:"left"},children:[e.jsx("i",{className:`fas ${C.icon}`}),e.jsx("span",{children:C.label})]},C.id))}),e.jsxs("div",{style:{padding:"2rem"},children:[t==="general"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Configuracin General"}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Idioma"}),e.jsxs("select",{value:m.general.language,onChange:C=>b({...m,general:{...m.general,language:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"es",children:"Espaol"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"pt",children:"Portugus"})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Tema"}),e.jsxs("select",{value:m.general.theme,onChange:C=>b({...m,general:{...m.general,theme:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"dark",children:"Oscuro"}),e.jsx("option",{value:"light",children:"Claro"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("label",{className:"toggle-switch",style:{position:"relative",width:"50px",height:"26px"},children:[e.jsx("input",{type:"checkbox",checked:m.general.autoSave,onChange:C=>b({...m,general:{...m.general,autoSave:C.target.checked}}),style:{opacity:0,width:0,height:0}}),e.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:m.general.autoSave?"var(--success-color)":"var(--secondary-color)",borderRadius:"26px",transition:"0.4s"},children:e.jsx("span",{style:{position:"absolute",content:"",height:"20px",width:"20px",left:m.general.autoSave?"26px":"3px",bottom:"3px",background:"white",borderRadius:"50%",transition:"0.4s"}})})]}),e.jsx("span",{children:"Guardar automticamente"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsxs("label",{className:"toggle-switch",style:{position:"relative",width:"50px",height:"26px"},children:[e.jsx("input",{type:"checkbox",checked:m.general.notifications,onChange:C=>b({...m,general:{...m.general,notifications:C.target.checked}}),style:{opacity:0,width:0,height:0}}),e.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:m.general.notifications?"var(--success-color)":"var(--secondary-color)",borderRadius:"26px",transition:"0.4s"},children:e.jsx("span",{style:{position:"absolute",content:"",height:"20px",width:"20px",left:m.general.notifications?"26px":"3px",bottom:"3px",background:"white",borderRadius:"50%",transition:"0.4s"}})})]}),e.jsx("span",{children:"Notificaciones"})]})]}),t==="appearance"&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{marginBottom:"0.5rem"},children:"Personaliza tu Experiencia"}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Elige un tema que se adapte a tu estilo. Los cambios se aplican inmediatamente."})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.25rem"},children:Gu.map(C=>e.jsxs("div",{onClick:()=>N(C.id),style:{background:c===C.id?`linear-gradient(135deg, ${C.preview.primary}20, ${C.preview.accent}20)`:"var(--dark-bg)",border:c===C.id?`3px solid ${C.preview.primary}`:"2px solid var(--border-color)",borderRadius:"16px",padding:"1.25rem",cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:e.jsxs("div",{style:{width:"100%",height:"60px",borderRadius:"10px",background:C.preview.bg,display:"flex",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("div",{style:{width:"30%",background:C.preview.card,borderRight:`2px solid ${C.preview.primary}`}}),e.jsxs("div",{style:{flex:1,padding:"0.5rem",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[e.jsx("div",{style:{height:"10px",width:"60%",background:C.preview.primary,borderRadius:"3px"}}),e.jsx("div",{style:{height:"8px",width:"80%",background:`${C.preview.accent}60`,borderRadius:"3px"}}),e.jsx("div",{style:{height:"8px",width:"40%",background:`${C.preview.accent}40`,borderRadius:"3px"}})]})]})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:`linear-gradient(135deg, ${C.preview.primary}, ${C.preview.accent})`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1rem"},children:e.jsx("i",{className:`fas ${C.icon}`})}),e.jsx("div",{style:{flex:1},children:e.jsx("h4",{style:{margin:0,fontSize:"1rem"},children:C.name})}),c===C.id&&e.jsx("div",{style:{background:C.preview.primary,color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600"},children:"Activo"})]}),e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:1.4},children:C.description}),e.jsxs("div",{style:{display:"flex",gap:"0.35rem",marginTop:"1rem"},children:[e.jsx("div",{style:{flex:1,height:"6px",borderRadius:"3px",background:C.preview.bg}}),e.jsx("div",{style:{flex:1,height:"6px",borderRadius:"3px",background:C.preview.card}}),e.jsx("div",{style:{flex:1,height:"6px",borderRadius:"3px",background:C.preview.primary}}),e.jsx("div",{style:{flex:1,height:"6px",borderRadius:"3px",background:C.preview.accent}})]})]},C.id))}),e.jsx("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"var(--dark-bg)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("i",{className:"fas fa-info-circle",style:{fontSize:"1.5rem",color:"var(--primary-color)"}}),e.jsxs("div",{children:[e.jsxs("h4",{style:{margin:"0 0 0.25rem"},children:["Tema actual: ",(g=Gu.find(C=>C.id===c))==null?void 0:g.name]}),e.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.9rem"},children:"El tema se guarda automticamente y se aplicar cada vez que inicies la aplicacin."})]})]})})]}),t==="agent-voice"&&e.jsxs("div",{children:[e.jsxs("h3",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("i",{className:"fas fa-microphone-alt",style:{color:"var(--primary-color)"}}),"Configuracin de Voz del Agente"]}),e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(139, 92, 246, 0.1))",border:"1px solid rgba(37, 99, 235, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, var(--primary-color), var(--accent-color))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx("i",{className:"fas fa-robot",style:{fontSize:"1.5rem",color:"white"}})}),e.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.25rem"},children:((d=m.agentVoice)==null?void 0:d.agentName)||"Alqvimia"}),e.jsx("p",{style:{margin:"0.25rem 0 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Tu asistente de automatizacin con voz"})]}),e.jsxs("button",{onClick:D,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, #22c55e, #16a34a)",border:"none",borderRadius:"10px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",fontWeight:"700",fontSize:"1rem",boxShadow:"0 4px 15px rgba(34, 197, 94, 0.4)",transition:"all 0.2s",flexShrink:0},onMouseOver:C=>C.currentTarget.style.transform="scale(1.05)",onMouseOut:C=>C.currentTarget.style.transform="scale(1)",children:[e.jsx("i",{className:"fas fa-volume-up",style:{fontSize:"1.2rem"}}),"PROBAR VOZ"]})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-signature",style:{marginRight:"0.5rem"}}),"Nombre del Agente"]}),e.jsx("input",{type:"text",value:((T=m.agentVoice)==null?void 0:T.agentName)||"Alqvimia",onChange:C=>b({...m,agentVoice:{...m.agentVoice,agentName:C.target.value}}),placeholder:"Ej: Alqvimia, Asistente, Eva...",style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)",fontSize:"1rem"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-volume-up",style:{marginRight:"0.5rem"}}),"Tipo de Voz"]}),e.jsxs("select",{value:((z=m.agentVoice)==null?void 0:z.voiceId)||"",onChange:C=>b({...m,agentVoice:{...m.agentVoice,voiceId:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)",fontSize:"1rem"},children:[e.jsx("optgroup",{label:"Voces en Espaol",children:h.filter(C=>C.lang.startsWith("es")).map(C=>e.jsxs("option",{value:C.voiceURI,children:[C.name," (",C.lang,")"]},C.voiceURI))}),e.jsx("optgroup",{label:"Otras Voces",children:h.filter(C=>!C.lang.startsWith("es")).map(C=>e.jsxs("option",{value:C.voiceURI,children:[C.name," (",C.lang,")"]},C.voiceURI))})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",color:"var(--text-secondary)",fontWeight:"500"},children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-tachometer-alt",style:{marginRight:"0.5rem"}}),"Velocidad"]}),e.jsxs("span",{style:{color:"var(--primary-color)"},children:[((q=m.agentVoice)==null?void 0:q.voiceRate)||1,"x"]})]}),e.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:((P=m.agentVoice)==null?void 0:P.voiceRate)||1,onChange:C=>b({...m,agentVoice:{...m.agentVoice,voiceRate:parseFloat(C.target.value)}}),style:{width:"100%",accentColor:"var(--primary-color)"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:[e.jsx("span",{children:"Lento"}),e.jsx("span",{children:"Normal"}),e.jsx("span",{children:"Rpido"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",color:"var(--text-secondary)",fontWeight:"500"},children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-music",style:{marginRight:"0.5rem"}}),"Tono"]}),e.jsx("span",{style:{color:"var(--primary-color)"},children:((L=m.agentVoice)==null?void 0:L.voicePitch)||1})]}),e.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:((te=m.agentVoice)==null?void 0:te.voicePitch)||1,onChange:C=>b({...m,agentVoice:{...m.agentVoice,voicePitch:parseFloat(C.target.value)}}),style:{width:"100%",accentColor:"var(--primary-color)"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:[e.jsx("span",{children:"Grave"}),e.jsx("span",{children:"Normal"}),e.jsx("span",{children:"Agudo"})]})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"2rem"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontWeight:"500"},children:[e.jsx("i",{className:"fas fa-comment-dots",style:{marginRight:"0.5rem"}}),"Mensaje de Bienvenida"]}),e.jsx("textarea",{value:((X=m.agentVoice)==null?void 0:X.greetingMessage)||"Hola, soy {agentName}, tu asistente de automatizacin. En qu puedo ayudarte hoy?",onChange:C=>b({...m,agentVoice:{...m.agentVoice,greetingMessage:C.target.value}}),placeholder:"Usa {agentName} para insertar el nombre del agente",rows:3,style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)",fontSize:"1rem",resize:"vertical",fontFamily:"inherit"}}),e.jsxs("p",{style:{margin:"0.5rem 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Usa ",e.jsx("code",{style:{background:"var(--dark-bg)",padding:"2px 6px",borderRadius:"4px"},children:"{agentName}"})," para insertar el nombre del agente dinmicamente"]})]}),e.jsx("div",{style:{background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"12px",padding:"1.5rem"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("i",{className:"fas fa-hand-sparkles",style:{fontSize:"1.5rem",color:"var(--primary-color)"}}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0},children:"Presentarse al Iniciar"}),e.jsx("p",{style:{margin:"0.25rem 0 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"El agente se presentar con su nombre y saludo cuando abras la aplicacin"})]})]}),e.jsxs("label",{style:{position:"relative",width:"50px",height:"26px"},children:[e.jsx("input",{type:"checkbox",checked:((O=m.agentVoice)==null?void 0:O.speakOnStart)??!0,onChange:C=>b({...m,agentVoice:{...m.agentVoice,speakOnStart:C.target.checked}}),style:{opacity:0,width:0,height:0}}),e.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:(be=m.agentVoice)!=null&&be.speakOnStart?"var(--success-color)":"var(--secondary-color)",borderRadius:"26px",transition:"all 0.3s"},children:e.jsx("span",{style:{position:"absolute",height:"20px",width:"20px",left:(me=m.agentVoice)!=null&&me.speakOnStart?"26px":"3px",bottom:"3px",background:"white",borderRadius:"50%",transition:"all 0.3s"}})})]})]})})]}),t==="server"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Configuracin del Servidor"}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Host"}),e.jsx("input",{type:"text",value:m.server.host,onChange:C=>b({...m,server:{...m.server,host:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Puerto"}),e.jsx("input",{type:"text",value:m.server.port,onChange:C=>b({...m,server:{...m.server,port:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Timeout (ms)"}),e.jsx("input",{type:"text",value:m.server.timeout,onChange:C=>b({...m,server:{...m.server,timeout:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"}})]})]}),t==="ai"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Configuracin de IA"}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Proveedor"}),e.jsxs("select",{value:m.ai.provider,onChange:C=>b({...m,ai:{...m.ai,provider:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"openai",children:"OpenAI"}),e.jsx("option",{value:"anthropic",children:"Anthropic (Claude)"}),e.jsx("option",{value:"google",children:"Google (Gemini)"}),e.jsx("option",{value:"azure",children:"Azure OpenAI"})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Modelo"}),e.jsxs("select",{value:m.ai.model,onChange:C=>b({...m,ai:{...m.ai,model:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"gpt-4",children:"GPT-4"}),e.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),e.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),e.jsx("option",{value:"claude-3-opus",children:"Claude 3 Opus"}),e.jsx("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:["Temperature: ",m.ai.temperature]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:m.ai.temperature,onChange:C=>b({...m,ai:{...m.ai,temperature:C.target.value}}),style:{width:"100%"}})]})]}),t==="ai-templates"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{margin:0},children:"Plantillas de IA"}),e.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[Hu.length," plantillas disponibles"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem",maxHeight:"500px",overflowY:"auto",paddingRight:"0.5rem"},children:Hu.map(C=>e.jsxs("div",{onClick:()=>n((i==null?void 0:i.id)===C.id?null:C),style:{background:(i==null?void 0:i.id)===C.id?"var(--primary-color)":"var(--dark-bg)",border:`2px solid ${(i==null?void 0:i.id)===C.id?C.color:"var(--border-color)"}`,borderRadius:"12px",padding:"1.25rem",cursor:"pointer",transition:"all 0.2s"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:C.color,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:`fas ${C.icon}`,style:{color:"white",fontSize:"1.1rem"}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,fontSize:"1rem"},children:C.name}),e.jsx("span",{style:{fontSize:"0.75rem",background:"var(--secondary-color)",padding:"0.15rem 0.5rem",borderRadius:"4px",color:"var(--text-secondary)"},children:C.category})]})]}),e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:1.4},children:C.description}),(i==null?void 0:i.id)===C.id&&e.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"8px",fontSize:"0.8rem"},children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"Prompt:"}),e.jsx("p",{style:{margin:"0.5rem 0 0",color:"var(--text-secondary)",fontStyle:"italic"},children:C.prompt})]})]},C.id))}),i&&e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--dark-bg)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx("strong",{children:i.name})," seleccionada"]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>n(null),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-plus"})," Usar Plantilla"]})]})]})]}),t==="agent-templates"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{margin:0},children:"Plantillas de Agentes"}),e.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[Ku.length," plantillas disponibles"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem",maxHeight:"500px",overflowY:"auto",paddingRight:"0.5rem"},children:Ku.map(C=>e.jsxs("div",{onClick:()=>s((l==null?void 0:l.id)===C.id?null:C),style:{background:(l==null?void 0:l.id)===C.id?"var(--primary-color)":"var(--dark-bg)",border:`2px solid ${(l==null?void 0:l.id)===C.id?C.color:"var(--border-color)"}`,borderRadius:"12px",padding:"1.25rem",cursor:"pointer",transition:"all 0.2s"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:C.color,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:`fas ${C.icon}`,style:{color:"white",fontSize:"1.1rem"}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:0,fontSize:"1rem"},children:C.name}),e.jsx("span",{style:{fontSize:"0.75rem",background:"var(--secondary-color)",padding:"0.15rem 0.5rem",borderRadius:"4px",color:"var(--text-secondary)"},children:C.category})]})]}),e.jsx("p",{style:{margin:"0 0 0.75rem",fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:1.4},children:C.description}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.35rem"},children:[C.capabilities.slice(0,(l==null?void 0:l.id)===C.id?void 0:2).map((I,re)=>e.jsx("span",{style:{fontSize:"0.7rem",background:`${C.color}30`,color:C.color,padding:"0.2rem 0.5rem",borderRadius:"4px"},children:I},re)),(l==null?void 0:l.id)!==C.id&&C.capabilities.length>2&&e.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",padding:"0.2rem 0.5rem"},children:["+",C.capabilities.length-2," ms"]})]})]},C.id))}),l&&e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--dark-bg)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx("strong",{children:l.name})," seleccionado"]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>s(null),children:"Cancelar"}),e.jsxs("button",{className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-plus"})," Crear Agente"]})]})]})]}),t==="ocr"&&e.jsxs("div",{className:"settings-section",children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.jsx("i",{className:"fas fa-eye",style:{color:"var(--primary-color)"}}),a("ocr_title")]}),e.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"2rem"},children:a("ocr_subtitle")}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[e.jsxs("div",{style:{background:((H=m.ocr)==null?void 0:H.provider)==="tesseract"?"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05))":"var(--dark-bg)",border:((Z=m.ocr)==null?void 0:Z.provider)==="tesseract"?"2px solid #22c55e":"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},onClick:()=>b({...m,ocr:{...m.ocr,provider:"tesseract"}}),children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"12px",background:"linear-gradient(135deg, #22c55e, #16a34a)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx("i",{className:"fas fa-font",style:{color:"white",fontSize:"1.5rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:a("ocr_tesseract")}),e.jsx("span",{style:{background:"#22c55e",color:"white",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"600"},children:a("ocr_free")})]}),e.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.85rem"},children:a("ocr_tesseract_desc")})]}),((ne=m.ocr)==null?void 0:ne.provider)==="tesseract"&&e.jsx("i",{className:"fas fa-check-circle",style:{color:"#22c55e",fontSize:"1.5rem"}})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsxs("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-download"})," ",a("ocr_offline")]}),e.jsxs("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-globe"})," +100 ",a("ocr_languages")]}),e.jsxs("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-lock-open"})," ",a("ocr_open_source")]})]}),((ye=m.ocr)==null?void 0:ye.provider)==="tesseract"&&e.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"10px",padding:"1rem",marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[e.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:[e.jsx("i",{className:"fas fa-info-circle"})," Estado de instalacin"]}),e.jsxs("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"0.25rem 0.75rem",borderRadius:"4px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-check"})," ",a("ocr_ready")]})]}),e.jsxs("button",{className:"btn btn-secondary",style:{width:"100%"},onClick:C=>{C.stopPropagation(),alert(`Verificando instalacin de Tesseract...

Si no est instalado, se descargar automticamente.`)},children:[e.jsx("i",{className:"fas fa-sync"})," Verificar/Actualizar Tesseract"]})]})]}),e.jsxs("div",{style:{background:((B=m.ocr)==null?void 0:B.provider)==="azure"?"linear-gradient(135deg, rgba(0, 120, 212, 0.1), rgba(0, 120, 212, 0.05))":"var(--dark-bg)",border:((G=m.ocr)==null?void 0:G.provider)==="azure"?"2px solid #0078d4":"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},onClick:()=>b({...m,ocr:{...m.ocr,provider:"azure"}}),children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"12px",background:"linear-gradient(135deg, #0078d4, #005a9e)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx("i",{className:"fab fa-microsoft",style:{color:"white",fontSize:"1.5rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Azure Computer Vision"}),e.jsx("span",{style:{background:"#0078d4",color:"white",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"600"},children:"CLOUD"})]}),e.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.85rem"},children:"OCR empresarial de Microsoft con IA avanzada y alta precisin."})]}),((K=m.ocr)==null?void 0:K.provider)==="azure"&&e.jsx("i",{className:"fas fa-check-circle",style:{color:"#0078d4",fontSize:"1.5rem"}})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsxs("span",{style:{background:"rgba(0, 120, 212, 0.2)",color:"#0078d4",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-brain"})," IA Avanzada"]}),e.jsxs("span",{style:{background:"rgba(0, 120, 212, 0.2)",color:"#0078d4",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-table"})," Tablas/Forms"]}),e.jsxs("span",{style:{background:"rgba(0, 120, 212, 0.2)",color:"#0078d4",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-signature"})," Escritura a mano"]})]}),((S=m.ocr)==null?void 0:S.provider)==="azure"&&e.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"10px",padding:"1rem",marginTop:"1rem"},onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"form-group",style:{marginBottom:"0.75rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Endpoint de Azure"}),e.jsx("input",{type:"text",placeholder:"https://your-resource.cognitiveservices.azure.com/",value:((J=m.ocr)==null?void 0:J.azureEndpoint)||"",onChange:C=>b({...m,ocr:{...m.ocr,azureEndpoint:C.target.value}}),style:{width:"100%",padding:"0.6rem 0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"0.85rem"}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"0.75rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"API Key"}),e.jsx("input",{type:"password",placeholder:"Tu clave de API de Azure",value:((x=m.ocr)==null?void 0:x.azureKey)||"",onChange:C=>b({...m,ocr:{...m.ocr,azureKey:C.target.value}}),style:{width:"100%",padding:"0.6rem 0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"0.85rem"}})]}),e.jsxs("a",{href:"https://portal.azure.com/#create/Microsoft.CognitiveServicesComputerVision",target:"_blank",rel:"noopener noreferrer",style:{color:"#0078d4",fontSize:"0.8rem",textDecoration:"none"},children:[e.jsx("i",{className:"fas fa-external-link-alt"})," Crear recurso en Azure Portal"]})]})]}),e.jsxs("div",{style:{background:((W=m.ocr)==null?void 0:W.provider)==="google"?"linear-gradient(135deg, rgba(234, 67, 53, 0.1), rgba(251, 188, 5, 0.05))":"var(--dark-bg)",border:((Y=m.ocr)==null?void 0:Y.provider)==="google"?"2px solid #ea4335":"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},onClick:()=>b({...m,ocr:{...m.ocr,provider:"google"}}),children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"12px",background:"linear-gradient(135deg, #ea4335, #fbbc05)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx("i",{className:"fab fa-google",style:{color:"white",fontSize:"1.5rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Google Cloud Vision"}),e.jsx("span",{style:{background:"#ea4335",color:"white",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"600"},children:"CLOUD"})]}),e.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.85rem"},children:"OCR potente de Google con deteccin de objetos y etiquetas."})]}),((fe=m.ocr)==null?void 0:fe.provider)==="google"&&e.jsx("i",{className:"fas fa-check-circle",style:{color:"#ea4335",fontSize:"1.5rem"}})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsxs("span",{style:{background:"rgba(234, 67, 53, 0.2)",color:"#ea4335",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-bolt"})," Alta velocidad"]}),e.jsxs("span",{style:{background:"rgba(234, 67, 53, 0.2)",color:"#ea4335",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-file-pdf"})," PDF nativo"]}),e.jsxs("span",{style:{background:"rgba(234, 67, 53, 0.2)",color:"#ea4335",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-language"})," +50 idiomas"]})]}),((M=m.ocr)==null?void 0:M.provider)==="google"&&e.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"10px",padding:"1rem",marginTop:"1rem"},onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"form-group",style:{marginBottom:"0.75rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Archivo de credenciales JSON"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("input",{type:"text",placeholder:"Ruta al archivo service-account.json",value:((Q=m.ocr)==null?void 0:Q.googleCredentialsPath)||"",onChange:C=>b({...m,ocr:{...m.ocr,googleCredentialsPath:C.target.value}}),style:{flex:1,padding:"0.6rem 0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"0.85rem"}}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>alert("Seleccionar archivo..."),children:e.jsx("i",{className:"fas fa-folder-open"})})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"0.75rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Proyecto ID (opcional)"}),e.jsx("input",{type:"text",placeholder:"my-project-id",value:((se=m.ocr)==null?void 0:se.googleProjectId)||"",onChange:C=>b({...m,ocr:{...m.ocr,googleProjectId:C.target.value}}),style:{width:"100%",padding:"0.6rem 0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"0.85rem"}})]}),e.jsxs("a",{href:"https://console.cloud.google.com/apis/library/vision.googleapis.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#ea4335",fontSize:"0.8rem",textDecoration:"none"},children:[e.jsx("i",{className:"fas fa-external-link-alt"})," Configurar en Google Cloud Console"]})]})]}),e.jsxs("div",{style:{background:((ue=m.ocr)==null?void 0:ue.provider)==="aws"?"linear-gradient(135deg, rgba(255, 153, 0, 0.1), rgba(255, 153, 0, 0.05))":"var(--dark-bg)",border:((de=m.ocr)==null?void 0:de.provider)==="aws"?"2px solid #ff9900":"1px solid var(--border-color)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},onClick:()=>b({...m,ocr:{...m.ocr,provider:"aws"}}),children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"12px",background:"linear-gradient(135deg, #ff9900, #ec7211)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx("i",{className:"fab fa-aws",style:{color:"white",fontSize:"1.5rem"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"AWS Textract"}),e.jsx("span",{style:{background:"#ff9900",color:"#232f3e",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"600"},children:"CLOUD"})]}),e.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Extraccin inteligente de texto, tablas y formularios de Amazon."})]}),((Le=m.ocr)==null?void 0:Le.provider)==="aws"&&e.jsx("i",{className:"fas fa-check-circle",style:{color:"#ff9900",fontSize:"1.5rem"}})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsxs("span",{style:{background:"rgba(255, 153, 0, 0.2)",color:"#ff9900",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-file-invoice"})," Facturas"]}),e.jsxs("span",{style:{background:"rgba(255, 153, 0, 0.2)",color:"#ff9900",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-id-card"})," Documentos ID"]}),e.jsxs("span",{style:{background:"rgba(255, 153, 0, 0.2)",color:"#ff9900",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem"},children:[e.jsx("i",{className:"fas fa-table"})," Tablas complejas"]})]}),((Fe=m.ocr)==null?void 0:Fe.provider)==="aws"&&e.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"10px",padding:"1rem",marginTop:"1rem"},onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"form-group",style:{marginBottom:"0.75rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Access Key ID"}),e.jsx("input",{type:"text",placeholder:"AKIAIOSFODNN7EXAMPLE",value:((fa=m.ocr)==null?void 0:fa.awsAccessKeyId)||"",onChange:C=>b({...m,ocr:{...m.ocr,awsAccessKeyId:C.target.value}}),style:{width:"100%",padding:"0.6rem 0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"0.85rem"}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"0.75rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Secret Access Key"}),e.jsx("input",{type:"password",placeholder:"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",value:((ga=m.ocr)==null?void 0:ga.awsSecretKey)||"",onChange:C=>b({...m,ocr:{...m.ocr,awsSecretKey:C.target.value}}),style:{width:"100%",padding:"0.6rem 0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"0.85rem"}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"0.75rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Regin"}),e.jsxs("select",{value:((Qe=m.ocr)==null?void 0:Qe.awsRegion)||"us-east-1",onChange:C=>b({...m,ocr:{...m.ocr,awsRegion:C.target.value}}),style:{width:"100%",padding:"0.6rem 0.75rem",background:"var(--dark-bg)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"0.85rem"},children:[e.jsx("option",{value:"us-east-1",children:"US East (N. Virginia)"}),e.jsx("option",{value:"us-west-2",children:"US West (Oregon)"}),e.jsx("option",{value:"eu-west-1",children:"Europe (Ireland)"}),e.jsx("option",{value:"eu-central-1",children:"Europe (Frankfurt)"}),e.jsx("option",{value:"sa-east-1",children:"South America (So Paulo)"})]})]})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:[e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border-color)"},children:[e.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("i",{className:"fas fa-language",style:{color:"var(--primary-color)"}}),"Idioma y Regin"]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Idioma principal"}),e.jsxs("select",{value:((pe=m.ocr)==null?void 0:pe.language)||"spa",onChange:C=>b({...m,ocr:{...m.ocr,language:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"spa",children:"Espaol"}),e.jsx("option",{value:"eng",children:"English"}),e.jsx("option",{value:"por",children:"Portugus"}),e.jsx("option",{value:"fra",children:"Franais"}),e.jsx("option",{value:"deu",children:"Deutsch"}),e.jsx("option",{value:"ita",children:"Italiano"}),e.jsx("option",{value:"jpn",children:" (Japons)"}),e.jsx("option",{value:"chi_sim",children:" (Chino simplificado)"}),e.jsx("option",{value:"kor",children:" (Coreano)"}),e.jsx("option",{value:"ara",children:" (rabe)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Idioma secundario (opcional)"}),e.jsxs("select",{value:((ia=m.ocr)==null?void 0:ia.secondaryLanguage)||"",onChange:C=>b({...m,ocr:{...m.ocr,secondaryLanguage:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"",children:"Ninguno"}),e.jsx("option",{value:"eng",children:"English"}),e.jsx("option",{value:"spa",children:"Espaol"}),e.jsx("option",{value:"por",children:"Portugus"})]})]})]}),e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border-color)"},children:[e.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("i",{className:"fas fa-image",style:{color:"var(--primary-color)"}}),"Procesamiento de Imagen"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:((da=m.ocr)==null?void 0:da.enhanceImages)??!0,onChange:C=>b({...m,ocr:{...m.ocr,enhanceImages:C.target.checked}}),style:{width:"18px",height:"18px",accentColor:"var(--primary-color)"}}),e.jsx("span",{children:"Mejorar contraste automticamente"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:((wa=m.ocr)==null?void 0:wa.deskew)??!0,onChange:C=>b({...m,ocr:{...m.ocr,deskew:C.target.checked}}),style:{width:"18px",height:"18px",accentColor:"var(--primary-color)"}}),e.jsx("span",{children:"Corregir inclinacin"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:((We=m.ocr)==null?void 0:We.removeNoise)??!0,onChange:C=>b({...m,ocr:{...m.ocr,removeNoise:C.target.checked}}),style:{width:"18px",height:"18px",accentColor:"var(--primary-color)"}}),e.jsx("span",{children:"Eliminar ruido de fondo"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:((xe=m.ocr)==null?void 0:xe.binarize)??!1,onChange:C=>b({...m,ocr:{...m.ocr,binarize:C.target.checked}}),style:{width:"18px",height:"18px",accentColor:"var(--primary-color)"}}),e.jsx("span",{children:"Binarizar imagen (blanco y negro)"})]})]})]}),e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border-color)"},children:[e.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("i",{className:"fas fa-table",style:{color:"var(--primary-color)"}}),"Deteccin de Estructuras"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:((Me=m.ocr)==null?void 0:Me.detectTables)??!0,onChange:C=>b({...m,ocr:{...m.ocr,detectTables:C.target.checked}}),style:{width:"18px",height:"18px",accentColor:"var(--primary-color)"}}),e.jsx("span",{children:"Detectar tablas"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:((na=m.ocr)==null?void 0:na.detectForms)??!0,onChange:C=>b({...m,ocr:{...m.ocr,detectForms:C.target.checked}}),style:{width:"18px",height:"18px",accentColor:"var(--primary-color)"}}),e.jsx("span",{children:"Detectar formularios"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:((ce=m.ocr)==null?void 0:ce.detectHandwriting)??!1,onChange:C=>b({...m,ocr:{...m.ocr,detectHandwriting:C.target.checked}}),style:{width:"18px",height:"18px",accentColor:"var(--primary-color)"}}),e.jsx("span",{children:"Detectar escritura a mano"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:((Ae=m.ocr)==null?void 0:Ae.detectBarcodes)??!0,onChange:C=>b({...m,ocr:{...m.ocr,detectBarcodes:C.target.checked}}),style:{width:"18px",height:"18px",accentColor:"var(--primary-color)"}}),e.jsx("span",{children:"Detectar cdigos de barras/QR"})]})]})]}),e.jsxs("div",{style:{background:"var(--dark-bg)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border-color)"},children:[e.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("i",{className:"fas fa-tachometer-alt",style:{color:"var(--primary-color)"}}),"Calidad y Rendimiento"]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:[e.jsx("span",{children:"Umbral de confianza"}),e.jsxs("span",{style:{color:"var(--primary-color)",fontWeight:"600"},children:[((va=m.ocr)==null?void 0:va.confidenceThreshold)||80,"%"]})]}),e.jsx("input",{type:"range",min:"50",max:"99",value:((ge=m.ocr)==null?void 0:ge.confidenceThreshold)||80,onChange:C=>b({...m,ocr:{...m.ocr,confidenceThreshold:parseInt(C.target.value)}}),style:{width:"100%",accentColor:"var(--primary-color)"}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Resolucin de procesamiento (DPI)"}),e.jsxs("select",{value:((he=m.ocr)==null?void 0:he.dpi)||300,onChange:C=>b({...m,ocr:{...m.ocr,dpi:parseInt(C.target.value)}}),style:{width:"100%",padding:"0.75rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"150",children:"150 DPI (Rpido)"}),e.jsx("option",{value:"200",children:"200 DPI (Balance)"}),e.jsx("option",{value:"300",children:"300 DPI (Recomendado)"}),e.jsx("option",{value:"400",children:"400 DPI (Alta calidad)"}),e.jsx("option",{value:"600",children:"600 DPI (Mxima calidad)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Modo de segmentacin"}),e.jsxs("select",{value:(($=m.ocr)==null?void 0:$.segmentationMode)||"auto",onChange:C=>b({...m,ocr:{...m.ocr,segmentationMode:C.target.value}}),style:{width:"100%",padding:"0.75rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--text-primary)"},children:[e.jsx("option",{value:"auto",children:"Automtico"}),e.jsx("option",{value:"single_block",children:"Bloque nico de texto"}),e.jsx("option",{value:"single_column",children:"Columna nica"}),e.jsx("option",{value:"single_line",children:"Lnea nica"}),e.jsx("option",{value:"single_word",children:"Palabra nica"}),e.jsx("option",{value:"sparse",children:"Texto disperso"})]})]})]})]}),e.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px solid var(--border-color)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsxs("h4",{style:{margin:"0 0 0.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("i",{className:"fas fa-vial",style:{color:"var(--primary-color)"}}),"Probar configuracin"]}),e.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Sube una imagen de prueba para verificar que el OCR funciona correctamente."})]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>alert("Abriendo dilogo de seleccin de imagen para prueba OCR..."),children:[e.jsx("i",{className:"fas fa-upload"})," Probar OCR"]})]})]}),t==="database"&&e.jsxs("div",{className:"settings-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-database"})," Configuracin de Base de Datos"]}),e.jsx("p",{className:"section-description",children:"Gestiona las conexiones a bases de datos"}),e.jsxs("div",{className:"db-connections",children:[e.jsxs("div",{className:"db-connection-card",children:[e.jsx("div",{className:"db-icon",style:{background:"linear-gradient(135deg, #336791, #003b57)"},children:e.jsx("i",{className:"fas fa-database"})}),e.jsxs("div",{className:"db-info",children:[e.jsx("h4",{children:"PostgreSQL - Produccin"}),e.jsx("p",{children:"localhost:5432/alqvimia_prod"}),e.jsxs("span",{className:"db-status connected",children:[e.jsx("i",{className:"fas fa-circle"})," Conectado"]})]}),e.jsxs("div",{className:"db-actions",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx("i",{className:"fas fa-sync"})}),e.jsx("button",{className:"btn btn-sm btn-danger",children:e.jsx("i",{className:"fas fa-trash"})})]})]}),e.jsxs("div",{className:"db-connection-card",children:[e.jsx("div",{className:"db-icon",style:{background:"linear-gradient(135deg, #f29111, #ff8c00)"},children:e.jsx("i",{className:"fas fa-database"})}),e.jsxs("div",{className:"db-info",children:[e.jsx("h4",{children:"MySQL - Desarrollo"}),e.jsx("p",{children:"localhost:3306/alqvimia_dev"}),e.jsxs("span",{className:"db-status connected",children:[e.jsx("i",{className:"fas fa-circle"})," Conectado"]})]}),e.jsxs("div",{className:"db-actions",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx("i",{className:"fas fa-sync"})}),e.jsx("button",{className:"btn btn-sm btn-danger",children:e.jsx("i",{className:"fas fa-trash"})})]})]}),e.jsxs("div",{className:"db-connection-card",children:[e.jsx("div",{className:"db-icon",style:{background:"linear-gradient(135deg, #00758f, #0078d4)"},children:e.jsx("i",{className:"fas fa-database"})}),e.jsxs("div",{className:"db-info",children:[e.jsx("h4",{children:"SQL Server - Reportes"}),e.jsx("p",{children:"server.local:1433/reports"}),e.jsxs("span",{className:"db-status disconnected",children:[e.jsx("i",{className:"fas fa-circle"})," Desconectado"]})]}),e.jsxs("div",{className:"db-actions",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"btn btn-sm btn-primary",children:e.jsx("i",{className:"fas fa-plug"})}),e.jsx("button",{className:"btn btn-sm btn-danger",children:e.jsx("i",{className:"fas fa-trash"})})]})]}),e.jsxs("button",{className:"add-connection-btn",children:[e.jsx("i",{className:"fas fa-plus"}),e.jsx("span",{children:"Agregar Conexin"})]})]}),e.jsxs("div",{className:"settings-grid",style:{marginTop:"2rem"},children:[e.jsxs("div",{className:"setting-card",children:[e.jsxs("div",{className:"setting-card-header",children:[e.jsx("i",{className:"fas fa-cog"}),e.jsx("h4",{children:"Configuracin General"})]}),e.jsxs("div",{className:"setting-card-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Timeout de conexin (segundos)"}),e.jsx("input",{type:"number",min:"5",max:"120",defaultValue:30})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pool de conexiones mximo"}),e.jsx("input",{type:"number",min:"1",max:"100",defaultValue:10})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Reconectar automticamente"]})})]})]}),e.jsxs("div",{className:"setting-card",children:[e.jsxs("div",{className:"setting-card-header",children:[e.jsx("i",{className:"fas fa-shield-alt"}),e.jsx("h4",{children:"Seguridad"})]}),e.jsxs("div",{className:"setting-card-body",children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Usar SSL/TLS"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Encriptar credenciales"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Registrar consultas"]})})]})]})]})]}),t==="backup"&&e.jsxs("div",{className:"settings-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-download"})," Configuracin de Respaldo"]}),e.jsx("p",{className:"section-description",children:"Configura respaldos automticos de datos y configuraciones"}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:"setting-card",children:[e.jsxs("div",{className:"setting-card-header",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsx("h4",{children:"Respaldo Automtico"})]}),e.jsxs("div",{className:"setting-card-body",children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Habilitar respaldo automtico"]})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frecuencia"}),e.jsxs("select",{defaultValue:"daily",children:[e.jsx("option",{value:"hourly",children:"Cada hora"}),e.jsx("option",{value:"daily",children:"Diario"}),e.jsx("option",{value:"weekly",children:"Semanal"}),e.jsx("option",{value:"monthly",children:"Mensual"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hora del respaldo"}),e.jsx("input",{type:"time",defaultValue:"02:00"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Retencin (das)"}),e.jsx("input",{type:"number",min:"1",max:"365",defaultValue:30})]})]})]}),e.jsxs("div",{className:"setting-card",children:[e.jsxs("div",{className:"setting-card-header",children:[e.jsx("i",{className:"fas fa-folder"}),e.jsx("h4",{children:"Destino de Respaldo"})]}),e.jsxs("div",{className:"setting-card-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tipo de almacenamiento"}),e.jsxs("select",{defaultValue:"local",children:[e.jsx("option",{value:"local",children:"Local"}),e.jsx("option",{value:"s3",children:"Amazon S3"}),e.jsx("option",{value:"azure",children:"Azure Blob Storage"}),e.jsx("option",{value:"gcs",children:"Google Cloud Storage"}),e.jsx("option",{value:"ftp",children:"FTP/SFTP"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Ruta local"}),e.jsxs("div",{className:"input-with-btn",children:[e.jsx("input",{type:"text",defaultValue:"C:/Alqvimia/Backups"}),e.jsx("button",{className:"btn btn-sm btn-secondary",children:e.jsx("i",{className:"fas fa-folder-open"})})]})]})]})]}),e.jsxs("div",{className:"setting-card",children:[e.jsxs("div",{className:"setting-card-header",children:[e.jsx("i",{className:"fas fa-check-square"}),e.jsx("h4",{children:"Elementos a Respaldar"})]}),e.jsxs("div",{className:"setting-card-body",children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Workflows"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Variables globales"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Configuraciones"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Credenciales (encriptadas)"]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"toggle-label",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"toggle-switch"}),"Logs de ejecucin"]})})]})]}),e.jsxs("div",{className:"setting-card",children:[e.jsxs("div",{className:"setting-card-header",children:[e.jsx("i",{className:"fas fa-history"}),e.jsx("h4",{children:"ltimos Respaldos"})]}),e.jsxs("div",{className:"setting-card-body",children:[e.jsxs("div",{className:"backup-list",children:[e.jsxs("div",{className:"backup-item",children:[e.jsx("i",{className:"fas fa-file-archive"}),e.jsxs("div",{className:"backup-info",children:[e.jsx("span",{className:"backup-name",children:"backup_2024-01-15_02-00.zip"}),e.jsx("span",{className:"backup-size",children:"45.2 MB"})]}),e.jsxs("div",{className:"backup-actions",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",title:"Restaurar",children:e.jsx("i",{className:"fas fa-undo"})}),e.jsx("button",{className:"btn btn-sm btn-secondary",title:"Descargar",children:e.jsx("i",{className:"fas fa-download"})})]})]}),e.jsxs("div",{className:"backup-item",children:[e.jsx("i",{className:"fas fa-file-archive"}),e.jsxs("div",{className:"backup-info",children:[e.jsx("span",{className:"backup-name",children:"backup_2024-01-14_02-00.zip"}),e.jsx("span",{className:"backup-size",children:"44.8 MB"})]}),e.jsxs("div",{className:"backup-actions",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",title:"Restaurar",children:e.jsx("i",{className:"fas fa-undo"})}),e.jsx("button",{className:"btn btn-sm btn-secondary",title:"Descargar",children:e.jsx("i",{className:"fas fa-download"})})]})]})]}),e.jsxs("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"1rem"},children:[e.jsx("i",{className:"fas fa-play"})," Crear Respaldo Ahora"]})]})]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border-color)"},children:[e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx("i",{className:"fas fa-undo"})," Restaurar"]}),e.jsxs("button",{className:"btn btn-success",onClick:y,children:[e.jsx("i",{className:"fas fa-save"})," Guardar Cambios"]})]})]})]})]})}function wx(){const[a,t]=f.useState("spy"),[r,i]=f.useState(!1),{isConnected:n,connect:l,disconnect:s}=Er(),{t:c}=Ta(),p=f.useRef(!1);f.useEffect(()=>{if(p.current)return;const b=()=>{const j=localStorage.getItem("alqvimia-settings");if(j)try{let N=function(){if(p.current)return;p.current=!0;const g=window.speechSynthesis.getVoices(),d=(D==null?void 0:D.agentName)||"Alqvimia",z=((D==null?void 0:D.greetingMessage)||"Hola, soy {agentName}, tu asistente de automatizacin. En qu puedo ayudarte hoy?").replace("{agentName}",d),q=new SpeechSynthesisUtterance(z),P=g.find(L=>L.voiceURI===(D==null?void 0:D.voiceId));if(P)q.voice=P;else{const L=g.find(te=>te.lang.startsWith("es"));L&&(q.voice=L)}q.rate=(D==null?void 0:D.voiceRate)||1,q.pitch=(D==null?void 0:D.voicePitch)||1,setTimeout(()=>{window.speechSynthesis.speak(q)},1e3)};const D=JSON.parse(j).agentVoice;if(!(D!=null&&D.speakOnStart))return;if(window.speechSynthesis.getVoices().length===0){window.speechSynthesis.onvoiceschanged=()=>{N()};return}N()}catch(N){console.error("Error loading agent voice settings:",N)}};window.speechSynthesis&&(window.speechSynthesis.getVoices().length>0?b():window.speechSynthesis.onvoiceschanged=b)},[]);const h=()=>{n?s():l()},w=[{id:"spy",icon:"fa-search",labelKey:"nav_spy"},{id:"recorder",icon:"fa-video",labelKey:"nav_recorder"},{id:"workflows",icon:"fa-project-diagram",labelKey:"nav_workflows"},{id:"executor",icon:"fa-play-circle",labelKey:"nav_executor"},{id:"scheduler",icon:"fa-calendar-alt",labelKey:"nav_scheduler"},{id:"code-editor",icon:"fa-code",labelKey:"nav_code_editor"},{id:"agents",icon:"fa-robot",labelKey:"nav_agents"},{id:"mcp",icon:"fa-plug",labelKey:"nav_mcp"},{id:"library",icon:"fa-folder-open",labelKey:"nav_library"},{id:"ai-dashboard",icon:"fa-brain",labelKey:"nav_ai_dashboard"},{id:"omnichannel",icon:"fa-comments",labelKey:"nav_omnichannel"},{id:"videoconference",icon:"fa-video",labelKey:"nav_videoconference"},{id:"settings",icon:"fa-cog",labelKey:"nav_settings"}],m=()=>{switch(a){case"spy":return e.jsx(Fu,{});case"recorder":return e.jsx(ax,{});case"workflows":return e.jsx(mx,{});case"executor":return e.jsx(fx,{});case"scheduler":return e.jsx(_x,{});case"code-editor":return e.jsx(jx,{});case"agents":return e.jsx(xx,{});case"mcp":return e.jsx(vx,{});case"library":return e.jsx(hx,{});case"ai-dashboard":return e.jsx(bx,{});case"omnichannel":return e.jsx(gx,{});case"videoconference":return e.jsx(yx,{});case"settings":return e.jsx(kx,{});default:return e.jsx(Fu,{})}};return e.jsxs("div",{className:"app-container",children:[e.jsxs("header",{className:"app-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("i",{className:"fas fa-robot"}),e.jsx("h1",{children:"Alqvimia"}),e.jsx("span",{className:"version",children:"v2.0"})]}),e.jsxs("div",{className:"header-right",children:[e.jsxs("div",{className:"connection-toggle-container",children:[e.jsx("span",{className:`connection-label ${n?"connected":""}`,children:c(n?"connected":"disconnected")}),e.jsxs("label",{className:"connection-switch",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:h}),e.jsx("span",{className:"connection-slider"})]}),e.jsx("span",{className:`connection-status-text ${n?"connected":""}`,children:c(n?"server_active":"click_to_connect")})]}),e.jsx(Zy,{})]})]}),e.jsxs("div",{className:"main-content",children:[e.jsxs("aside",{className:`sidebar ${r?"collapsed":""}`,id:"mainSidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsx("button",{className:"sidebar-toggle",id:"sidebarToggle",title:c(r?"expand_menu":"collapse_menu"),onClick:()=>i(!r),children:e.jsx("i",{className:"fas fa-bars"})})}),e.jsx("nav",{className:"sidebar-nav",children:w.map(b=>e.jsxs("button",{className:`nav-item ${a===b.id?"active":""}`,"data-view":b.id,"data-tooltip":c(b.labelKey),onClick:()=>t(b.id),children:[e.jsx("i",{className:`fas ${b.icon}`}),e.jsx("span",{children:c(b.labelKey)})]},b.id))})]}),e.jsx("main",{className:"content-area",children:m()})]})]})}const Nx=localStorage.getItem("alqvimia-theme")||"midnight-blue";document.documentElement.setAttribute("data-theme",Nx);const Cx=localStorage.getItem("alqvimia_language")||"es";document.documentElement.lang=Cx;Us.createRoot(document.getElementById("root")).render(e.jsx(np.StrictMode,{children:e.jsx(ry,{children:e.jsx(Yy,{children:e.jsx(Xy,{children:e.jsx(wx,{})})})})}));
